{"id":"../src/2d/layers/edges/shader/edge-layer.vs","dependencies":[],"generated":{"js":"module.exports = \"\\n\\nprecision highp float;\\n\\n/**\\n  This vertex shader calculates edges whose curve and width is in screen space where the curve is\\n  bezier curves with 0, 1, and 2 control points.\\n**/\\nvarying vec4 vertexColor;\\n\\n// Interpolation type injection\\n${interpolation}\\n\\nvoid main() {\\n  // Destructure threejs's bug with the position requirement\\n  float normal = vertex.x;\\n  float interpolationTime = vertex.y;\\n  float interpolationIncrement = 1.0 / vertex.z;\\n  // Get the position of the current vertex\\n  vec2 currentPosition = interpolation(interpolationTime, start, end, control.xy, control.zw);\\n  // Calculate the next and previous segment's location on the line\\n  vec2 prePosition = interpolation(interpolationTime - interpolationIncrement, start, end, control.xy, control.zw);\\n  vec2 nextPosition = interpolation(interpolationTime + interpolationIncrement, start, end, control.xy, control.zw);\\n\\n  vec2 preLine = prePosition - currentPosition;\\n  vec2 nextLine = nextPosition - currentPosition;\\n\\n  // Get a spliced nromal at the joining of two segments to make a crisper curve\\n  vec2 currentNormal = mix(\\n    // Pick this value if we're at the beginning of the line\\n    normalize(vec2(preLine.y, -preLine.x)),\\n    mix(\\n      // Pick this value when we're between the ends\\n      normalize(vec2(preLine.y, -preLine.x) + vec2(-nextLine.y, nextLine.x)),\\n      // Pick this value if we're at the end of the line\\n      normalize(vec2(-nextLine.y, nextLine.x)),\\n      float(vertex.x >= 1.0)\\n    ),\\n    float(vertex.x > 0.0)\\n  );\\n\\n  // Get the thickness based on the side we're on\\n  float lineThickness = mix(thickness.x, thickness.y, interpolationTime) / 2.0;\\n  // Start on the calculated line and push out by the normal's value\\n  vec2 vertexPos = currentPosition + currentNormal * (normal * lineThickness);\\n  // Get the color based on where we are on the line\\n  vertexColor = mix(startColor, endColor, interpolationTime);\\n\\n  gl_Position = clipSpace(vec3(vertexPos, depth));\\n  gl_PointSize = 5.0;\\n\\n  // gl_Position = clipSpace(vec3(0., 0., 0.));\\n}\\n\""},"sourceMaps":null,"error":null,"hash":"1a28e9b0b17466c192630a085dd38fdd","cacheData":{}}