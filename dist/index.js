!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["network-bubble-chart"]=t():e["network-bubble-chart"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var A=t[r]={i:r,l:!1,exports:{}};return e[r].call(A.exports,A,A.exports,n),A.l=!0,A.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=262)}([function(e,t,n){"use strict";var r,A;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR"}(t.InstanceBlockIndex||(t.InstanceBlockIndex={})),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.ATLAS=99]="ATLAS"}(A=t.InstanceAttributeSize||(t.InstanceAttributeSize={})),t.instanceAttributeSizeFloatCount=((r={})[A.ONE]=1,r[A.TWO]=2,r[A.THREE]=3,r[A.FOUR]=4,r[A.ATLAS]=4,r),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.MATRIX3=9]="MATRIX3",e[e.MATRIX4=16]="MATRIX4",e[e.VEC4_ARRAY=98]="VEC4_ARRAY",e[e.ATLAS=99]="ATLAS"}(t.UniformSize||(t.UniformSize={})),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR"}(t.VertexAttributeSize||(t.VertexAttributeSize={})),function(e){e[e._2=2]="_2",e[e._4=4]="_4",e[e._8=8]="_8",e[e._16=16]="_16",e[e._32=32]="_32",e[e._64=64]="_64",e[e._128=128]="_128",e[e._256=256]="_256",e[e._512=512]="_512",e[e._1024=1024]="_1024",e[e._2048=2048]="_2048",e[e._4096=4096]="_4096"}(t.TextureSize||(t.TextureSize={})),function(e){e[e.ATLAS=0]="ATLAS",e[e.FONT=1]="FONT"}(t.ResourceType||(t.ResourceType={})),t.isResourceAttribute=function(e){return Boolean(e&&e.resource)},function(e){e[e.VERTEX=1]="VERTEX",e[e.FRAGMENT=2]="FRAGMENT",e[e.ALL=3]="ALL"}(t.ShaderInjectionTarget||(t.ShaderInjectionTarget={})),t.NOOP=function(){},t.whiteSpaceRegEx=/\s/g,t.whiteSpaceCharRegEx=/\s/,t.isWhiteSpace=t.whiteSpaceCharRegEx.test.bind(t.whiteSpaceCharRegEx),t.newLineRegEx=/(\r\n|\n|\r)/g,t.newLineCharRegEx=/(\r\n|\n|\r)/,t.isNewline=t.newLineCharRegEx.test.bind(t.newLineCharRegEx),t.createMaterialOptions=function(e){return e},function(e){e[e.NONE=0]="NONE",e[e.ALL=1]="ALL",e[e.SINGLE=2]="SINGLE"}(t.PickType||(t.PickType={})),function(e){e[e.CHANGE=0]="CHANGE",e[e.INSERT=1]="INSERT",e[e.REMOVE=2]="REMOVE"}(t.InstanceDiffType||(t.InstanceDiffType={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(110)),r(n(258)),r(n(109)),r(n(56)),r(n(257)),r(n(106)),r(n(251)),r(n(39)),r(n(250)),r(n(30)),r(n(4)),r(n(105)),r(n(55)),r(n(104)),r(n(249))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(27)),r(n(95)),r(n(7)),r(n(242))},function(e,t,n){(function(r){function A(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(244)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var A=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++A)}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=A,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(A())}).call(this,n(245))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.sqrt,A=Math.max,i=Math.min,o=Math.floor,a=Math.ceil;function s(e,t){return[e[0]+t[0]]}function c(e){return[a(e[0])]}function u(e,t){return e[0]===t[0]}function l(e){return[e[0]]}function d(e,t){return[e[0]/t[0]]}function h(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n][0]);return t}function f(e){return[o(e[0])]}function p(e){return[1/e[0]]}function g(e,t){return[e[0]*t]}function B(e,t){return[e[0]-t[0]]}function w(e,t){return[A(e[0],t[0])]}function y(e,t){return[i(e[0],t[0])]}function v(e,t){return[e[0]*t[0]]}function b(e,t){return e[0]*t[0]}function m(e,t,n){return g(s(B(t,e),e),n)}function E(e){return r(b(e,e))}function C(e,t){return[e[0]+t[0],e[1]+t[1]]}function U(e){return[a(e[0]),a(e[1])]}function T(e){return[e[0],e[1]]}function Q(e,t){return e[0]===t[0]&&e[1]===t[1]}function _(e,t){return[e[0]/t[0],e[1]/t[1]]}function F(e){for(var t=[],n=0,r=e.length;n<r;++n){var A=e[n];t.push(A[0]),t.push(A[1])}return t}function I(e){return[o(e[0]),o(e[1])]}function x(e){return[1/e[0],1/e[1]]}function S(e,t){return[A(e[0],t[0]),A(e[1],t[1])]}function O(e,t){return[i(e[0],t[0]),i(e[1],t[1])]}function M(e,t){return[e[0]*t,e[1]*t]}function N(e,t){return[e[0]-t[0],e[1]-t[1]]}function R(e,t){return[e[0]*t[0],e[1]*t[1]]}function L(e,t){return e[0]*t[0]+e[1]*t[1]}function H(e,t,n){return M(C(N(t,e),e),n)}function P(e){return r(L(e,e))}function D(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}function k(e){return[a(e[0]),a(e[1]),a(e[2])]}function K(e){return[e[0],e[1],e[2]]}function z(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function G(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2]]}function V(e){for(var t=[],n=0,r=e.length;n<r;++n){var A=e[n];t.push(A[0]),t.push(A[1]),t.push(A[2])}return t}function j(e){return[o(e[0]),o(e[1]),o(e[2])]}function X(e){return[1/e[0],1/e[1],1/e[2]]}function W(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Y(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function J(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2]]}function q(e,t,n){return W(D(Y(t,e),e),n)}function $(e){return r(te(e,e))}function Z(e,t){return[A(e[0],t[0]),A(e[1],t[1]),A(e[2],t[2])]}function ee(e,t){return[i(e[0],t[0]),i(e[1],t[1]),i(e[2],t[2])]}function te(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ne(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]}function re(e){return[a(e[0]),a(e[1]),a(e[2]),a(e[3])]}function Ae(e){return[e[0],e[1],e[2],e[3]]}function ie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function oe(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2],e[3]/t[3]]}function ae(e){for(var t=[],n=0,r=e.length;n<r;++n){var A=e[n];t.push(A[0]),t.push(A[1]),t.push(A[2]),t.push(A[3])}return t}function se(e){return[o(e[0]),o(e[1]),o(e[2]),o(e[3])]}function ce(e){return[1/e[0],1/e[1],1/e[2],1/e[3]]}function ue(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]}function le(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3]]}function de(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3]]}function he(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function fe(e,t,n){return ue(ne(le(t,e),e),n)}function pe(e){return r(he(e,e))}function ge(e,t){return[A(e[0],t[0]),A(e[1],t[1]),A(e[2],t[2]),A(e[3],t[3])]}function Be(e,t){return[i(e[0],t[0]),i(e[1],t[1]),i(e[2],t[2]),i(e[3],t[3])]}t.isVec1=function(e){return e&&Array.isArray(e)&&1===e.length},t.isVec2=function(e){return e&&Array.isArray(e)&&2===e.length},t.isVec3=function(e){return e&&Array.isArray(e)&&3===e.length},t.isVec4=function(e){return e&&Array.isArray(e)&&4===e.length},t.add1=s,t.ceil1=c,t.compare1=u,t.copy1=l,t.divide1=d,t.flatten1=h,t.floor1=f,t.inverse1=p,t.scale1=g,t.subtract1=B,t.max1=w,t.min1=y,t.multiply1=v,t.dot1=b,t.linear1=m,t.length1=E,t.vec1=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n=n||[],(t=Array.isArray(e)?e.slice(0,1):[e]).length<1)for(var A=0,i=n.length;A<i&&t.length<1;++A){var o=n[A];Array.isArray(o)?t.push.apply(t,o.slice(0,1-t.length)):t.push(o)}for(;t.length<1;)t.push(0);return t},t.add2=C,t.ceil2=U,t.copy2=T,t.compare2=Q,t.divide2=_,t.flatten2=F,t.floor2=I,t.inverse2=x,t.max2=S,t.min2=O,t.scale2=M,t.subtract2=N,t.multiply2=R,t.dot2=L,t.linear2=H,t.length2=P,t.vec2=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n=n||[],(t=Array.isArray(e)?e.slice(0,2):[e]).length<2)for(var A=0,i=n.length;A<i&&t.length<2;++A){var o=n[A];Array.isArray(o)?t.push.apply(t,o.slice(0,2-t.length)):t.push(o)}for(;t.length<2;)t.push(0);return t},t.add3=D,t.ceil3=k,t.copy3=K,t.compare3=z,t.divide3=G,t.flatten3=V,t.floor3=j,t.inverse3=X,t.scale3=W,t.subtract3=Y,t.multiply3=J,t.linear3=q,t.length3=$,t.max3=Z,t.min3=ee,t.dot3=te,t.vec3=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n=n||[],(t=Array.isArray(e)?e.slice(0,3):[e]).length<3)for(var A=0,i=n.length;A<i&&t.length<3;++A){var o=n[A];Array.isArray(o)?t.push.apply(t,o.slice(0,3-t.length)):t.push(o)}for(;t.length<3;)t.push(0);return t},t.add4=ne,t.ceil4=re,t.copy4=Ae,t.compare4=ie,t.divide4=oe,t.flatten4=ae,t.floor4=se,t.inverse4=ce,t.scale4=ue,t.subtract4=le,t.multiply4=de,t.dot4=he,t.linear4=fe,t.length4=pe,t.max4=ge,t.min4=Be,t.vec4=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n=n||[],(t=Array.isArray(e)?e.slice(0,4):[e]).length<4)for(var A=0,i=n.length;A<i&&t.length<4;++A){var o=n[A];Array.isArray(o)?t.push.apply(t,o.slice(0,4-t.length)):t.push(o)}for(;t.length<4;)t.push(0);return t},t.vec1Methods={add:s,ceil:c,copy:l,compare:u,divide:d,dot:b,flatten:h,floor:f,inverse:p,length:E,linear:m,max:w,min:y,multiply:v,scale:g,subtract:B},t.vec2Methods={add:C,ceil:U,copy:T,compare:Q,divide:_,dot:L,flatten:F,floor:I,inverse:x,length:P,linear:H,max:S,min:O,multiply:R,scale:M,subtract:N},t.vec3Methods={add:D,ceil:k,copy:K,compare:z,divide:G,dot:te,flatten:V,floor:j,inverse:X,length:$,linear:q,max:Z,min:ee,multiply:J,scale:W,subtract:Y},t.vec4Methods={add:ne,ceil:re,copy:Ae,compare:ie,divide:oe,dot:he,flatten:ae,floor:se,inverse:ce,length:pe,linear:fe,max:ge,min:Be,multiply:de,scale:ue,subtract:le},t.VecMath=function(e){return 1===e.length?t.vec1Methods:2===e.length?t.vec2Methods:3===e.length?t.vec3Methods:t.vec4Methods}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.x=0,this.y=0,this.width=0,this.height=0,this.x=e.x||e.left||0,this.y=e.y||e.top||0,this.height=e.height||(e.bottom||0)-this.y||0,this.width=e.width||(e.right||0)-this.x||0}return Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mid",{get:function(){return[this.x+this.width/2,this.y+this.height/2]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),e.emptyBounds=function(){return new e({height:0,width:0,x:0,y:0})},e.prototype.containsPoint=function(e){return!(e[0]<this.x||e[1]<this.y||e[0]>this.right||e[1]>this.bottom)},e.prototype.encapsulate=function(t){return t instanceof e?(t.x<this.x&&(this.width+=Math.abs(t.x-this.x),this.x=t.x),t.y<this.y&&(this.height+=Math.abs(t.y-this.y),this.y=t.y),this.right<t.right&&(this.width+=t.right-this.right),this.bottom<t.bottom&&(this.height+=t.bottom-this.bottom),!0):(t[0]<this.x&&(this.width+=this.x-t[0],this.x=t[0]),t[0]>this.right&&(this.width+=t[0]-this.x),t[1]<this.y&&(this.height+=this.y-t[1],this.y=t[1]),t[1]>this.bottom&&(this.height+=t[1]-this.y),!0)},e.prototype.fits=function(e){return this.width===e.width&&this.height===e.height?1:this.width>=e.width&&this.height>=e.height?2:0},e.prototype.hitBounds=function(e){return!(this.right<e.x||this.x>e.right||this.bottom<e.y||this.y>e.height)},e.prototype.isInside=function(e){return this.x>=e.x&&this.right<=e.right&&this.y>=e.y&&this.bottom<=e.bottom},Object.defineProperty(e.prototype,"location",{get:function(){return[this.x,this.y]},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"{x: "+this.x+" y:"+this.y+" w:"+this.width+" h:"+this.height+"}"},e}();t.Bounds=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(27),i=n(0),o=n(1),a=n(26),s=n(241),c=function(e){function t(n){var r=e.call(this,n)||this;r.animationEndTime=0,r.depth=0,r.instanceAttributes=[],r.instanceVertexCount=0,r.lastFrameTime=0,r.needsViewDrawn=!1,r.uniforms=[],r._uid=o.uid(),r.vertexAttributes=[],r.willRebuildLayer=!1,r.props=Object.assign({},t.defaultProps||{},n);var A=r.props.picking,a=void 0===A?i.PickType.NONE:A;if(a===i.PickType.ALL){var s=r.getInstancePickingMethods();r.picking={currentPickMode:i.PickType.NONE,hitTest:s.hitTest,quadTree:new o.TrackedQuadTree(0,1,0,1,s.boundsAccessor),type:i.PickType.ALL}}else a===i.PickType.SINGLE?r.picking={currentPickMode:i.PickType.NONE,type:i.PickType.SINGLE,uidToInstance:new Map}:r.picking={currentPickMode:i.PickType.NONE,type:i.PickType.NONE};return r}return r(t,e),Object.defineProperty(t.prototype,"bufferManager",{get:function(){return this._bufferManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferType",{get:function(){return this._bufferType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),t.prototype.baseShaderModules=function(e){var t=[],n=[];return t.push("instancing"),this.picking.type===i.PickType.SINGLE?(t.push("picking"),n.push("picking")):(t.push("no-picking"),n.push("no-picking")),(e.instanceAttributes||[]).find(function(e){return Boolean(e&&e.easing)})&&t.push("frame"),{fs:n,vs:t}},t.prototype.childLayers=function(){return[]},t.prototype.destroy=function(){this.bufferManager&&(this.bufferManager.scene&&this.bufferManager.scene.removeLayer(this),this.bufferManager.removeFromScene(),this.bufferManager.destroy())},t.prototype.didUpdateProps=function(){},t.prototype.draw=function(){var e,t,n,r=this.props.data.changeList;r.length>0&&(this.needsViewDrawn=!0);var A=this.diffManager,i=A.processing,o=A.processor;o.incomingChangeList(r),this.bufferManager.incomingChangeList(r);for(var a=0,s=r.length;a<s;++a)t=(e=r[a])[0],n=this.bufferManager.getBufferLocations(t),i[e[1]](o,t,Object.values(e[2]),n),t.changes={};o.commit(),this.bufferManager.changesProcessed(),this.props.data.resolve(this.id),this.updateUniforms()},t.prototype.getInstanceObservableIds=function(e,t){for(var n={},r=0,i=t.length;r<i;++r){A.ObservableMonitoring.setObservableMonitor(!0),e[t[r]];var o=A.ObservableMonitoring.getObservableMonitorIds(!0);void 0!==o[0]&&(n[t[r]]=o[0])}return A.ObservableMonitoring.setObservableMonitor(!1),n},t.prototype.getInstancePickingMethods=function(){throw new Error("When picking is set to PickType.ALL, the layer MUST have this method implemented; otherwise, the layer is incompatible with this picking mode.")},t.prototype.getMaterialOptions=function(){return{}},t.prototype.initShader=function(){return{fs:"${import: no-op}",instanceAttributes:[],uniforms:[],vertexAttributes:[],vertexCount:0,vs:"${import: no-op}"}},t.prototype.makeInstanceAttribute=function(e,t,n,r,A,i){return{resource:i,block:e,blockIndex:t,name:n,size:r,update:A}},t.prototype.makeUniform=function(e,t,n,r,A){return{name:e,qualifier:A,shaderInjection:r,size:t,update:n}},t.prototype.managesInstance=function(e){return this.bufferManager&&this.bufferManager.managesInstance(e)},t.prototype.rebuildLayer=function(){if(this.willRebuildLayer=!0,this.children)for(var e=0,t=this.children.length;e<t;++e){this.children[e].rebuildLayer()}},t.prototype.resolveChanges=function(e){var t=this.props.data.changeList;t.length>0&&(this.needsViewDrawn=!0),e||this.props.data.resolve(this.id);for(var n=0,r=t.length;n<r;++n)t[n][0].changes={};return t},t.prototype.setBufferManager=function(e){this._bufferManager?console.warn("You can not change a layer's buffer strategy once it has been instantiated."):(this._bufferManager=e,this.diffManager=new s.InstanceDiffManager(this,e),this.diffManager.makeProcessor())},t.prototype.setBufferType=function(e){void 0===this._bufferType?this._bufferType=e:console.warn("You can not change a layers buffer strategy once it has been instantiated.")},t.prototype.shouldDrawView=function(e,t){for(var n in t)if(t[n]!==e[n])return!0;return!1},t.prototype.updateUniforms=function(){for(var e,t,n=0,r=this.uniforms.length;n<r;++n)e=this.uniforms[n],t=e.update(e),e.materialUniforms.forEach(function(e){return e.value=t})},t.prototype.willUpdateInstances=function(e){},t.prototype.willUpdateProps=function(e){e.picking!==this.props.picking&&this.rebuildLayer()},t.defaultProps={},t}(a.IdentifyByKey);t.Layer=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var A=n(94),i=n(27),o=0,a=function(){function e(t){this.changes={},this._easing=new Map,this.observableStorage=[],this._uid=e.newUID,this.reactivate=!1,this._id=t.id||"",this.active=t.active||this.active}return Object.defineProperty(e,"newUID",{get:function(){return o=++o%16777215},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e,this.reactivate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observableDisposer",{get:function(){var e=this;return function(){return delete e._observer}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observer",{get:function(){return this._observer||null},set:function(e){var t=this._observer;t&&t!==e&&(this._easing.clear(),t.remove(this)),this._observer=e},enumerable:!0,configurable:!0}),e.prototype.clearEasing=function(){this._easing.clear(),delete this.easingId},Object.defineProperty(e.prototype,"easing",{get:function(){return this._easing},enumerable:!0,configurable:!0}),e.prototype.getEasing=function(e){if(this.easingId){var t=this.easingId["_"+e+"_end"];if(t){var n=this._easing.get(t);if(n instanceof A.EasingProps)return n}}},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),e.prototype.resourceTrigger=function(){console.warn("resourceTrigger called on an instance that did not override resourceTrigger. resourceTrigger MUST be overridden for instances","that utilize a resource. The observable that is tied to committing the resource should be 'triggered' in this method.")},r([i.observable],e.prototype,"_active",void 0),r([i.observable],e.prototype,"_uid",void 0),e}();t.Instance=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(103)),r(n(102)),r(n(54)),r(n(101)),r(n(9)),r(n(100)),r(n(98)),r(n(97)),r(n(99)),r(n(53)),r(n(21)),r(n(29)),r(n(96)),r(n(28))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){!function(e){!function(e){e[e.RGBA4=0]="RGBA4",e[e.RGB565=1]="RGB565",e[e.RGB5_A1=2]="RGB5_A1"}(e.ColorBufferFormat||(e.ColorBufferFormat={})),function(e){e[e.DEPTH_COMPONENT16=0]="DEPTH_COMPONENT16",e[e.DEPTH_STENCIL=1]="DEPTH_STENCIL"}(e.DepthBufferFormat||(e.DepthBufferFormat={})),function(e){e[e.STENCIL_INDEX8=0]="STENCIL_INDEX8"}(e.StencilBufferFormat||(e.StencilBufferFormat={}))}(e.RenderTarget||(e.RenderTarget={})),function(e){!function(e){e[e.NoBlending=0]="NoBlending",e[e.NormalBlending=1]="NormalBlending",e[e.AdditiveBlending=2]="AdditiveBlending",e[e.SubtractiveBlending=3]="SubtractiveBlending",e[e.MultiplyBlending=4]="MultiplyBlending"}(e.Blending||(e.Blending={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.SrcColor=2]="SrcColor",e[e.OneMinusSrcColor=3]="OneMinusSrcColor",e[e.SrcAlpha=4]="SrcAlpha",e[e.OneMinusSrcAlpha=5]="OneMinusSrcAlpha",e[e.DstAlpha=6]="DstAlpha",e[e.OneMinusDstAlpha=7]="OneMinusDstAlpha",e[e.DstColor=8]="DstColor",e[e.OneMinusDstColor=9]="OneMinusDstColor"}(e.BlendingDstFactor||(e.BlendingDstFactor={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.SrcColor=2]="SrcColor",e[e.OneMinusSrcColor=3]="OneMinusSrcColor",e[e.SrcAlpha=4]="SrcAlpha",e[e.OneMinusSrcAlpha=5]="OneMinusSrcAlpha",e[e.DstAlpha=6]="DstAlpha",e[e.OneMinusDstAlpha=7]="OneMinusDstAlpha",e[e.DstColor=8]="DstColor",e[e.OneMinusDstColor=9]="OneMinusDstColor",e[e.SrcAlphaSaturate=10]="SrcAlphaSaturate"}(e.BlendingSrcFactor||(e.BlendingSrcFactor={})),function(e){e[e.Add=0]="Add",e[e.Subtract=1]="Subtract",e[e.ReverseSubtract=2]="ReverseSubtract"}(e.BlendingEquations||(e.BlendingEquations={})),function(e){e[e.NEVER=0]="NEVER",e[e.LESS=1]="LESS",e[e.EQUAL=2]="EQUAL",e[e.LESS_OR_EQUAL=3]="LESS_OR_EQUAL",e[e.GREATER=4]="GREATER",e[e.NOTEQUAL=5]="NOTEQUAL",e[e.GREATER_OR_EQUAL=6]="GREATER_OR_EQUAL",e[e.ALWAYS=7]="ALWAYS"}(e.DepthFunctions||(e.DepthFunctions={})),function(e){e[e.NONE=0]="NONE",e[e.CW=1]="CW",e[e.CCW=2]="CCW",e[e.BOTH=3]="BOTH"}(e.CullSide||(e.CullSide={}))}(e.Material||(e.Material={})),function(e){!function(e){e[e.LINE_LOOP=0]="LINE_LOOP",e[e.LINE_STRIP=1]="LINE_STRIP",e[e.LINES=2]="LINES",e[e.POINTS=3]="POINTS",e[e.TRIANGLE_FAN=4]="TRIANGLE_FAN",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLES=6]="TRIANGLES"}(e.DrawMode||(e.DrawMode={}))}(e.Model||(e.Model={})),function(e){!function(e){e[e.TEXTURE_2D=0]="TEXTURE_2D",e[e.CUBE_MAP=1]="CUBE_MAP"}(e.TextureBindingTarget||(e.TextureBindingTarget={})),function(e){e[e.REPEAT=0]="REPEAT",e[e.CLAMP_TO_EDGE=1]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=2]="MIRRORED_REPEAT"}(e.Wrapping||(e.Wrapping={})),function(e){e[e.Nearest=0]="Nearest",e[e.NearestMipMapNearest=1]="NearestMipMapNearest",e[e.NearestMipMapLinear=2]="NearestMipMapLinear",e[e.Linear=3]="Linear",e[e.LinearMipMapNearest=4]="LinearMipMapNearest",e[e.LinearMipMapLinear=5]="LinearMipMapLinear"}(e.TextureMinFilter||(e.TextureMinFilter={})),function(e){e[e.Nearest=0]="Nearest",e[e.Linear=1]="Linear"}(e.TextureMagFilter||(e.TextureMagFilter={})),function(e){e[e.UnsignedByte=0]="UnsignedByte",e[e.UnsignedShort_5_6_5=1]="UnsignedShort_5_6_5",e[e.UnsignedShort_4_4_4_4=2]="UnsignedShort_4_4_4_4",e[e.UnsignedShort_5_5_5_1=3]="UnsignedShort_5_5_5_1",e[e.UnsignedShort=4]="UnsignedShort",e[e.UnsignedInt=5]="UnsignedInt",e[e.UnsignedInt_24_8=6]="UnsignedInt_24_8",e[e.Byte=7]="Byte",e[e.Short=8]="Short",e[e.Int=9]="Int",e[e.Float=10]="Float",e[e.HalfFloat=11]="HalfFloat",e[e.UnsignedInt_2_10_10_10_REV=12]="UnsignedInt_2_10_10_10_REV",e[e.UnsignedInt_10F_11F_11F_REV=13]="UnsignedInt_10F_11F_11F_REV",e[e.UnsignedInt_5_9_9_9_REV=14]="UnsignedInt_5_9_9_9_REV",e[e.Float32UnsignedInt_24_8_REV=15]="Float32UnsignedInt_24_8_REV"}(e.SourcePixelFormat||(e.SourcePixelFormat={})),function(e){e[e.Alpha=0]="Alpha",e[e.DepthComponent=1]="DepthComponent",e[e.DepthStencil=2]="DepthStencil",e[e.Luminance=3]="Luminance",e[e.LuminanceAlpha=4]="LuminanceAlpha",e[e.RGB=5]="RGB",e[e.RGBA=6]="RGBA",e[e.RGBE=7]="RGBE"}(e.TexelDataType||(e.TexelDataType={})),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.FOUR=4]="FOUR",e[e.EIGHT=8]="EIGHT"}(e.PackAlignment||(e.PackAlignment={})),function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.FOUR=4]="FOUR",e[e.EIGHT=8]="EIGHT"}(e.UnpackAlignment||(e.UnpackAlignment={}))}(e.Texture||(e.Texture={})),function(e){!function(e){e[e.ALPHA=0]="ALPHA",e[e.RGB=1]="RGB",e[e.RGBA=2]="RGBA"}(e.ReadFilter||(e.ReadFilter={})),function(e){e[e.UNSIGNED_BYTE=0]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT_5_6_5=1]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=2]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=3]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=4]="FLOAT"}(e.ReadTargetArrayFormat||(e.ReadTargetArrayFormat={}))}(e.Renderer||(e.Renderer={}))}(t.GLSettings||(t.GLSettings={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BottomLeft=0]="BottomLeft",e[e.BottomMiddle=1]="BottomMiddle",e[e.BottomRight=2]="BottomRight",e[e.Custom=3]="Custom",e[e.Middle=4]="Middle",e[e.MiddleLeft=5]="MiddleLeft",e[e.MiddleRight=6]="MiddleRight",e[e.TopLeft=7]="TopLeft",e[e.TopMiddle=8]="TopMiddle",e[e.TopRight=9]="TopRight"}(t.AnchorType||(t.AnchorType={})),function(e){e[e.ALWAYS=1]="ALWAYS",e[e.BOUND_MAX=2]="BOUND_MAX",e[e.NEVER=3]="NEVER"}(t.ScaleMode||(t.ScaleMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=o(n(35)),i=o(n(204));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.Bounds=function(){function e(t,n,r,A){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.top=n,this.width=r,this.height=A}return r(e,null,[{key:"fromClientRect",value:function(t,n,r){return new e(t.left+n,t.top+r,t.width,t.height)}}]),e}(),s=(t.parseBounds=function(e,t,n){return a.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function(e,t){return new a(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,n){var r=t[0].value,A=t[1].value,i=t[2].value,o=t[3].value;return new a(e.left+o+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+o+A),e.height-(n[0].borderWidth+n[2].borderWidth+r+i))},t.parseDocumentSize=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),A=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,A)},t.parsePathForBorder=function(e,t){switch(t){case 0:return s(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return s(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return s(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return s(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,n,r){var A=[];return e instanceof i.default?A.push(e.subdivide(.5,!1)):A.push(e),n instanceof i.default?A.push(n.subdivide(.5,!0)):A.push(n),r instanceof i.default?A.push(r.subdivide(.5,!0).reverse()):A.push(r),t instanceof i.default?A.push(t.subdivide(.5,!1).reverse()):A.push(t),A}),c=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,n){var r=e.width/2,i=e.height/2,o=n[c.TOP_LEFT][0].getAbsoluteValue(e.width)<r?n[c.TOP_LEFT][0].getAbsoluteValue(e.width):r,a=n[c.TOP_LEFT][1].getAbsoluteValue(e.height)<i?n[c.TOP_LEFT][1].getAbsoluteValue(e.height):i,s=n[c.TOP_RIGHT][0].getAbsoluteValue(e.width)<r?n[c.TOP_RIGHT][0].getAbsoluteValue(e.width):r,l=n[c.TOP_RIGHT][1].getAbsoluteValue(e.height)<i?n[c.TOP_RIGHT][1].getAbsoluteValue(e.height):i,d=n[c.BOTTOM_RIGHT][0].getAbsoluteValue(e.width)<r?n[c.BOTTOM_RIGHT][0].getAbsoluteValue(e.width):r,h=n[c.BOTTOM_RIGHT][1].getAbsoluteValue(e.height)<i?n[c.BOTTOM_RIGHT][1].getAbsoluteValue(e.height):i,f=n[c.BOTTOM_LEFT][0].getAbsoluteValue(e.width)<r?n[c.BOTTOM_LEFT][0].getAbsoluteValue(e.width):r,p=n[c.BOTTOM_LEFT][1].getAbsoluteValue(e.height)<i?n[c.BOTTOM_LEFT][1].getAbsoluteValue(e.height):i,g=e.width-s,B=e.height-h,w=e.width-d,y=e.height-p;return{topLeftOuter:o>0||a>0?u(e.left,e.top,o,a,c.TOP_LEFT):new A.default(e.left,e.top),topLeftInner:o>0||a>0?u(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,o-t[3].borderWidth),Math.max(0,a-t[0].borderWidth),c.TOP_LEFT):new A.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:s>0||l>0?u(e.left+g,e.top,s,l,c.TOP_RIGHT):new A.default(e.left+e.width,e.top),topRightInner:s>0||l>0?u(e.left+Math.min(g,e.width+t[3].borderWidth),e.top+t[0].borderWidth,g>e.width+t[3].borderWidth?0:s-t[3].borderWidth,l-t[0].borderWidth,c.TOP_RIGHT):new A.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:d>0||h>0?u(e.left+w,e.top+B,d,h,c.BOTTOM_RIGHT):new A.default(e.left+e.width,e.top+e.height),bottomRightInner:d>0||h>0?u(e.left+Math.min(w,e.width-t[3].borderWidth),e.top+Math.min(B,e.height+t[0].borderWidth),Math.max(0,d-t[1].borderWidth),h-t[2].borderWidth,c.BOTTOM_RIGHT):new A.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:f>0||p>0?u(e.left,e.top+y,f,p,c.BOTTOM_LEFT):new A.default(e.left,e.top+e.height),bottomLeftInner:f>0||p>0?u(e.left+t[3].borderWidth,e.top+y,Math.max(0,f-t[3].borderWidth),p-t[2].borderWidth,c.BOTTOM_LEFT):new A.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),u=function(e,t,n,r,o){var a=(Math.sqrt(2)-1)/3*4,s=n*a,u=r*a,l=e+n,d=t+r;switch(o){case c.TOP_LEFT:return new i.default(new A.default(e,d),new A.default(e,d-u),new A.default(l-s,t),new A.default(l,t));case c.TOP_RIGHT:return new i.default(new A.default(e,t),new A.default(e+s,t),new A.default(l,d-u),new A.default(l,d));case c.BOTTOM_RIGHT:return new i.default(new A.default(l,t),new A.default(l,t+u),new A.default(e+s,d),new A.default(e,d));case c.BOTTOM_LEFT:default:return new i.default(new A.default(l,d),new A.default(l-s,d),new A.default(e,t+u),new A.default(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=/^#([a-f0-9]{3})$/i,o=function(e){var t=e.match(i);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]},a=/^#([a-f0-9]{6})$/i,s=function(e){var t=e.match(a);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]},c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,u=function(e){var t=e.match(c);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]},l=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,d=function(e){var t=e.match(l);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]},h=function(e){return[Math.min(e[0],255),Math.min(e[1],255),Math.min(e[2],255),e.length>3?e[3]:null]},f=function(e){var t=g[e.toLowerCase()];return t||!1},p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Array.isArray(t)?h(t):o(t)||u(t)||d(t)||f(t)||s(t)||[0,0,0,null],A=r(n,4),i=A[0],a=A[1],c=A[2],l=A[3];this.r=i,this.g=a,this.b=c,this.a=l}return A(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}();t.default=p;var g={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new p([0,0,0,0])},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(73)),r(n(65)),r(n(66))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){e&&e.__esModule}(n(18));var A=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="%"===t.substr(t.length-1)?A.PERCENTAGE:A.PX;var n=parseFloat(t);this.value=isNaN(n)?0:n}return r(e,[{key:"isPercentage",value:function(){return this.type===A.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=i;t.calculateLengthFromValueWithUnit=function(e,t,n){switch(n){case"px":case"%":return new i(t+n);case"em":case"rem":var r=new i(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)}(e),r;default:return new i("0")}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(91)),r(n(5)),r(n(228))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,A=n(28),i=n(0),o=n(240),a=n(239),s=n(38),c=n(3)("performance");function u(e,t,n,o){var a=r.UNIFORM,s=0;if(void 0!==t.bufferType)return t.bufferType;if(A.WebGLStat.HARDWARE_INSTANCING){for(var u=0,l=n.length;u<l;++u){var d=n[u];s+=Math.ceil(d.size/4)}for(u=0,l=o.length;u<l;++u){d=o[u];s+=Math.ceil(i.instanceAttributeSizeFloatCount[d.size||1]/4)}if(s>A.WebGLStat.MAX_VERTEX_ATTRIBUTES){s=0;for(u=0,l=o.length;u<l;++u){d=o[u];s=Math.max(s,d.block||0)}for(u=0,l=n.length;u<l;++u){d=n[u];s+=Math.ceil(d.size/4)}s<A.WebGLStat.MAX_VERTEX_ATTRIBUTES&&(a=r.INSTANCE_ATTRIBUTE_PACKING,c("Performance Issue (Moderate):\n          Layer %o is utilizing too many vertex attributes and is now using vertex packing.\n          Max Vertex units %o\n          Used Vertex units %o\n          Instance Attributes %o\n          Vertex Attributes %o",t.id,A.WebGLStat.MAX_VERTEX_ATTRIBUTES,s,o,n))}else a=r.INSTANCE_ATTRIBUTE}return a===r.UNIFORM&&(c("Performance Issue (High):\n      Layer %o is utilizing too many vertex attributes and is now using a uniform buffer.\n      Max Vertex units %o\n      Used Vertex units %o\n      Instance Attributes %o\n      Vertex Attributes %o",t.id,A.WebGLStat.MAX_VERTEX_ATTRIBUTES,s,o,n),a=r.UNIFORM),t.setBufferType(a),a}!function(e){e[e.UNIFORM=0]="UNIFORM",e[e.INSTANCE_ATTRIBUTE=1]="INSTANCE_ATTRIBUTE",e[e.INSTANCE_ATTRIBUTE_PACKING=2]="INSTANCE_ATTRIBUTE_PACKING"}(r=t.LayerBufferType||(t.LayerBufferType={})),t.getLayerBufferType=u,t.makeLayerBufferManager=function(e,t,n){switch(u(0,t,t.vertexAttributes,t.instanceAttributes)){case r.INSTANCE_ATTRIBUTE:t.setBufferManager(new o.InstanceAttributeBufferManager(t,n));break;case r.INSTANCE_ATTRIBUTE_PACKING:t.setBufferManager(new a.InstanceAttributePackingBufferManager(t,n));break;default:t.setBufferManager(new s.UniformBufferManager(t,n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.contains=function(e,t){return 0!=(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=n(17),o=n(22),a=n(47),s=n(203),c=n(202),u=n(201),l=n(200),d=n(199),h=n(198),f=n(34),p=n(197),g=n(196),B=n(83),w=n(84),y=n(82),v=n(48),b=n(195),m=n(81),E=n(194),C=n(193),U=n(192),T=n(191),Q=n(11),_=n(80),F=n(45);var I=["INPUT","TEXTAREA","SELECT"],x=function(){function e(t,n,r,i){var x=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.tagName=t.tagName,this.index=i,this.childNodes=[],this.listItems=[],"number"==typeof t.start&&(this.listStart=t.start);var O=t.ownerDocument.defaultView,M=O.pageXOffset,N=O.pageYOffset,R=O.getComputedStyle(t,null),L=(0,c.parseDisplay)(R.display),H="radio"===t.type||"checkbox"===t.type,P=(0,y.parsePosition)(R.position);if(this.style={background:H?_.INPUT_BACKGROUND:(0,o.parseBackground)(R,r),border:H?_.INPUT_BORDERS:(0,a.parseBorder)(R),borderRadius:(t instanceof O.HTMLInputElement||t instanceof HTMLInputElement)&&H?(0,_.getInputBorderRadius)(t):(0,s.parseBorderRadius)(R),color:H?_.INPUT_COLOR:new A.default(R.color),display:L,float:(0,u.parseCSSFloat)(R.float),font:(0,l.parseFont)(R),letterSpacing:(0,d.parseLetterSpacing)(R.letterSpacing),listStyle:L===c.DISPLAY.LIST_ITEM?(0,f.parseListStyle)(R):null,lineBreak:(0,h.parseLineBreak)(R.lineBreak),margin:(0,p.parseMargin)(R),opacity:parseFloat(R.opacity),overflow:-1===I.indexOf(t.tagName)?(0,g.parseOverflow)(R.overflow):g.OVERFLOW.HIDDEN,overflowWrap:(0,B.parseOverflowWrap)(R.overflowWrap?R.overflowWrap:R.wordWrap),padding:(0,w.parsePadding)(R),position:P,textDecoration:(0,v.parseTextDecoration)(R),textShadow:(0,b.parseTextShadow)(R.textShadow),textTransform:(0,m.parseTextTransform)(R.textTransform),transform:(0,E.parseTransform)(R),visibility:(0,C.parseVisibility)(R.visibility),wordBreak:(0,U.parseWordBreak)(R.wordBreak),zIndex:(0,T.parseZIndex)(P!==y.POSITION.STATIC?R.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),L===c.DISPLAY.LIST_ITEM){var D=(0,F.getListOwner)(this);if(D){var k=D.listItems.length;D.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"==typeof t.value?t.value:0===k?"number"==typeof D.listStart?D.listStart:1:D.listItems[k-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",function(){x.bounds=(0,Q.parseBounds)(t,M,N),x.curvedBounds=(0,Q.parseBoundCurves)(x.bounds,x.style.border,x.style.borderRadius)}),this.image=S(t,r),this.bounds=H?(0,_.reformatInputBounds)((0,Q.parseBounds)(t,M,N)):(0,Q.parseBounds)(t,M,N),this.curvedBounds=(0,Q.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius)}return r(e,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return this.style.overflow!==g.OVERFLOW.VISIBLE?e.concat([(0,Q.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,i.contains)(this.style.display,c.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===C.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==y.POSITION.STATIC&&this.style.position!==y.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==y.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==u.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,i.contains)(this.style.display,c.DISPLAY.INLINE)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_FLEX)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_GRID)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_LIST_ITEM)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,i.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}}]),e}();t.default=x;var S=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var A=e;return t.loadCanvas(A);case"IFRAME":var i=e.getAttribute("data-html2canvas-internal-iframe-key");if(i)return i}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.subTextureIOValue=function(e){return e?[e.atlasTL[0],e.atlasTL[1],e.atlasBR[0],e.atlasBR[1]]:[0,0,0,0]};var A=function(){function e(){this.aspectRatio=1,this.atlasTL=[0,0],this.atlasTR=[0,0],this.atlasBL=[0,0],this.atlasBR=[0,0],this.heightOnAtlas=0,this.isValid=!1,this.pixelWidth=0,this.pixelHeight=0,this.textureReferenceID="",this.texture=null,this.widthOnAtlas=0}return e.fromRegion=function(t,n){if(!t.data)return null;var A=n.x/t.data.width,i=n.y/t.data.height,o=n.width/t.data.width,a=n.height/t.data.height,s=new r.Bounds({bottom:i+a,left:A,right:A+o,top:i}),c=s.bottom,u=s.y,l=s.x,d=s.x+s.width,h=new e;return h.atlasTL=[l,u],h.atlasBR=[d,c],h.atlasBL=[l,c],h.atlasTR=[d,u],h},e}();t.SubTexture=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBufferLocation=function(e){return e&&e.buffer&&e.buffer.value},t.isBufferLocationGroup=function(e){return e&&e.propertyToBufferLocation};var r=function(){function e(e,t){this.layer=e,this.scene=t}return e.prototype.changesProcessed=function(){delete this.changeListContext},e.prototype.incomingChangeList=function(e){this.changeListContext=e},e}();t.BufferManagerBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),A=function(){function e(e){this._flipY=!1,this._format=r.GLSettings.Texture.TexelDataType.RGBA,this._generateMipmaps=!1,this._magFilter=r.GLSettings.Texture.TextureMagFilter.Linear,this._minFilter=r.GLSettings.Texture.TextureMinFilter.LinearMipMapLinear,this.needsDataUpload=!1,this.needsPartialDataUpload=!1,this.needsSettingsUpdate=!1,this._packAlignment=r.GLSettings.Texture.PackAlignment.FOUR,this._premultiplyAlpha=!1,this._type=r.GLSettings.Texture.SourcePixelFormat.UnsignedByte,this._unpackAlignment=r.GLSettings.Texture.UnpackAlignment.FOUR,this._updateRegions=[],this._wrapHorizontal=r.GLSettings.Texture.Wrapping.CLAMP_TO_EDGE,this._wrapVertical=r.GLSettings.Texture.Wrapping.CLAMP_TO_EDGE,Object.assign(this,e)}return Object.defineProperty(e.prototype,"anisotropy",{get:function(){return this._anisotropy},set:function(e){this.needsSettingsUpdate=!0,this._anisotropy=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this.needsDataUpload=!0,this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipY",{get:function(){return this._flipY},set:function(e){this.needsDataUpload=!0,this._flipY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this.needsDataUpload=!0,this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generateMipMaps",{get:function(){return this._generateMipmaps},set:function(e){this.needsSettingsUpdate=!0,this._generateMipmaps=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"magFilter",{get:function(){return this._magFilter},set:function(e){this.needsSettingsUpdate=!0,this._magFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minFilter",{get:function(){return this._minFilter},set:function(e){this.needsSettingsUpdate=!0,this._minFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"packAlignment",{get:function(){return this._packAlignment},set:function(e){this.needsSettingsUpdate=!0,this._packAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"premultiplyAlpha",{get:function(){return this._premultiplyAlpha},set:function(e){this.needsSettingsUpdate=!0,this._premultiplyAlpha=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this.needsDataUpload=!0,this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpackAlignment",{get:function(){return this._unpackAlignment},set:function(e){this.needsSettingsUpdate=!0,this._unpackAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateRegions",{get:function(){return this._updateRegions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapHorizontal",{get:function(){return this._wrapHorizontal},set:function(e){this.needsSettingsUpdate=!0,this._wrapHorizontal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapVertical",{get:function(){return this._wrapVertical},set:function(e){this.needsSettingsUpdate=!0,this._wrapVertical=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.gl&&this.gl.proxy.disposeTexture(this),delete this._data},e.prototype.resolve=function(){this.needsDataUpload=!1,this.needsPartialDataUpload=!1,this.needsSettingsUpdate=!1,this._updateRegions=[]},e.prototype.update=function(e,t){this.needsPartialDataUpload=!0,this._updateRegions.push([e,t])},e}();t.Texture=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var r=c(n(12)),A=c(n(14)),i=c(n(205)),o=c(n(35)),a=n(11),s=n(84);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},l=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},d=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},h=t.BACKGROUND_ORIGIN=d,f=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){case"contain":this.size=l.CONTAIN;break;case"cover":this.size=l.COVER;break;case"auto":this.size=l.AUTO;break;default:this.value=new A.default(t)}},p=(t.calculateBackgroundSize=function(e,t,n){var r=0,A=0,o=e.size;if(o[0].size===l.CONTAIN||o[0].size===l.COVER){var a=n.width/n.height,s=t.width/t.height;return a<s!=(o[0].size===l.COVER)?new i.default(n.width,n.width/s):new i.default(n.height*s,n.height)}return o[0].value&&(r=o[0].value.getAbsoluteValue(n.width)),o[0].size===l.AUTO&&o[1].size===l.AUTO?A=t.height:o[1].size===l.AUTO?A=r/t.width*t.height:o[1].value&&(A=o[1].value.getAbsoluteValue(n.height)),o[0].size===l.AUTO&&(r=A/t.height*t.width),new i.default(r,A)},t.calculateGradientBackgroundSize=function(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,A=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new i.default(r,A)},new f("auto")),g=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case d.BORDER_BOX:return(0,a.calculateBorderBoxPath)(e);case d.PADDING_BOX:default:return(0,a.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,n,r){var A=(0,a.calculatePaddingBox)(t,r);switch(e){case h.BORDER_BOX:return t;case h.CONTENT_BOX:var i=n[s.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),o=n[s.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),c=n[s.PADDING_SIDES.TOP].getAbsoluteValue(t.width),u=n[s.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new a.Bounds(A.left+i,A.top+c,A.width-i-o,A.height-c-u);case h.PADDING_BOX:default:return A}},t.calculateBackgroundPosition=function(e,t,n){return new o.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,n,r,A){switch(e.repeat){case u.REPEAT_X:return[new o.default(Math.round(A.left),Math.round(r.top+t.y)),new o.default(Math.round(A.left+A.width),Math.round(r.top+t.y)),new o.default(Math.round(A.left+A.width),Math.round(n.height+r.top+t.y)),new o.default(Math.round(A.left),Math.round(n.height+r.top+t.y))];case u.REPEAT_Y:return[new o.default(Math.round(r.left+t.x),Math.round(A.top)),new o.default(Math.round(r.left+t.x+n.width),Math.round(A.top)),new o.default(Math.round(r.left+t.x+n.width),Math.round(A.height+A.top)),new o.default(Math.round(r.left+t.x),Math.round(A.height+A.top))];case u.NO_REPEAT:return[new o.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new o.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new o.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new o.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new o.default(Math.round(A.left),Math.round(A.top)),new o.default(Math.round(A.left+A.width),Math.round(A.top)),new o.default(Math.round(A.left+A.width),Math.round(A.height+A.top)),new o.default(Math.round(A.left),Math.round(A.height+A.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new r.default(e.backgroundColor),backgroundImage:w(e,t),backgroundClip:g(e.backgroundClip),backgroundOrigin:B(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return d.PADDING_BOX;case"content-box":return d.CONTENT_BOX}return d.BORDER_BOX}),B=function(e){switch(e){case"padding-box":return h.PADDING_BOX;case"content-box":return h.CONTENT_BOX}return h.BORDER_BOX},w=function(e,t){var n=b(e.backgroundImage).map(function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e}),r=e.backgroundPosition.split(","),A=e.backgroundRepeat.split(","),i=e.backgroundSize.split(",");return n.map(function(e,t){var n=(i[t]||"auto").trim().split(" ").map(y),o=(r[t]||"auto").trim().split(" ").map(v);return{source:e,repeat:function(e){switch(e.trim()){case"no-repeat":return u.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return u.REPEAT_X;case"repeat-y":case"no-repeat repeat":return u.REPEAT_Y;case"repeat":return u.REPEAT}return u.REPEAT}("string"==typeof A[t]?A[t]:A[0]),size:n.length<2?[n[0],p]:[n[0],n[1]],position:o.length<2?[o[0],o[0]]:[o[0],o[1]]}})},y=function(e){return"auto"===e?p:new f(e)},v=function(e){switch(e){case"bottom":case"right":return new A.default("100%");case"left":case"top":return new A.default("0%");case"auto":return new A.default("0")}return new A.default(e)},b=t.parseBackgroundImage=function(e){var t=/^\s$/,n=[],r=[],A="",i=null,o="",a=0,s=0,c=function(){var e="";if(A){'"'===o.substr(0,1)&&(o=o.substr(1,o.length-2)),o&&r.push(o.trim());var t=A.indexOf("-",1)+1;"-"===A.substr(0,1)&&t>0&&(e=A.substr(0,t).toLowerCase(),A=A.substr(t)),"none"!==(A=A.toLowerCase())&&n.push({prefix:e,method:A,args:r})}r=[],A=o=""};return e.split("").forEach(function(e){if(0!==a||!t.test(e)){switch(e){case'"':i?i===e&&(i=null):i=e;break;case"(":if(i)break;if(0===a)return void(a=1);s++;break;case")":if(i)break;if(1===a){if(0===s)return a=0,void c();s--}break;case",":if(i)break;if(0===a)return void c();if(1===a&&0===s&&!A.match(/^url$/i))return r.push(o.trim()),void(o="")}0===a?A+=e:o+=e}}),c(),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),A=function(){function e(e,t,n,A){this.child=[null,null],this.isLeaf=!0,this.data=null,this.bounds=new r.Bounds({height:A,width:n,x:e,y:t})}return e.prototype.destroy=function(){var e=this.child[0],t=this.child[1];this.data=null,e&&e.destroy(),t&&t.destroy(),this.child[0]=null,this.child[1]=null},e.prototype.hasChild=function(){var e=this.child[0],t=this.child[1];return e&&!e.data?!e.isLeaf:!(!t||t.data)&&!t.isLeaf},e.prototype.insert=function(t){var n=this.child[0],r=this.child[1];if(!this.isLeaf&&n&&r){var A=n.insert(t);return null!==A?A:r.insert(t)}if(this.data)return null;var i=this.bounds.fits(t.bounds);if(0===i)return null;if(1===i)return this.data=t.data,this;this.isLeaf=!1;var o=t.bounds.width,a=t.bounds.height,s=this.bounds.width-o,c=this.bounds.height-t.bounds.height;return s>c?(n=this.child[0]=new e(this.bounds.x,this.bounds.y,o,this.bounds.height),r=this.child[1]=new e(this.bounds.x+o,this.bounds.y,s,this.bounds.height)):(n=this.child[0]=new e(this.bounds.x,this.bounds.y,this.bounds.width,a),r=this.child[1]=new e(this.bounds.x,this.bounds.y+a,this.bounds.width,c)),n.insert(t)},e.prototype.remove=function(e){var t=this.child[0],n=this.child[1];if(n&&t&&!this.isLeaf){var r=t.remove(e);return!!r||(r=n.remove(e),t.hasChild()||n.hasChild()||(this.child[0]=null,this.child[1]=null),r)}return this.data===e&&(this.data=null,!0)},e.applyToSubTexture=function(e,t,n,A,i){if(n){A=A||{top:0,left:0,bottom:0,right:0};var o,a=(t.bounds.x+A.left)/e.bounds.width,s=(t.bounds.y+A.top)/e.bounds.height,c=(t.bounds.width-A.left-A.right)/e.bounds.width,u=(t.bounds.height-A.top-A.bottom)/e.bounds.height,l=(o=i?new r.Bounds({bottom:1-s,left:a,right:a+c,top:1-(s+u)}):new r.Bounds({top:1-s,left:a,right:a+c,bottom:1-(s+u)})).bottom,d=o.y,h=o.x,f=o.x+o.width;n.atlasTL=[h,d],n.atlasBR=[f,l],n.atlasBL=[h,l],n.atlasTR=[f,d],n.widthOnAtlas=Math.abs(n.atlasTR[0]-n.atlasTL[0]),n.heightOnAtlas=Math.abs(n.atlasTR[1]-n.atlasBR[1]),n.pixelWidth=c*e.bounds.width,n.pixelHeight=u*e.bounds.height}},e}();t.PackNode=A},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(37)),r(n(212)),r(n(211)),r(n(178))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.generateLayerModel=function(e,t,n){var A=new r.Model(e,t);return A.drawMode=n||r.GLSettings.Model.DrawMode.TRIANGLE_STRIP,A}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._key=e.key}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),e}();t.IdentifyByKey=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),A=function(){function e(){}return e.setObservableMonitor=function(t){e.gatherIds=t,e.observableIds=[]},e.getObservableMonitorIds=function(t){var n=e.observableIds.slice(0);return t&&(e.observableIds=[]),n},e.gatherIds=!1,e.observableIds=[],e.observableNamesToUID=new Map,e}();t.ObservableMonitoring=A,t.observable=function(e,t){var n=A.observableNamesToUID.get(t)||0;n||(n=r.uid(),A.observableNamesToUID.set(t,n)),Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return A.gatherIds&&A.observableIds.push(n),this.observableStorage[n]},set:function(e){this.observableStorage[n]=e,this.changes[n]=n,this.observer&&this.observer.instanceUpdated(this)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgramInfo=function(e,t){for(var n={attributeCount:0,attributes:new Array,uniformCount:0,uniforms:new Array},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),A=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i={35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT"},o={35664:1,35665:1,35666:1,35667:1,35668:1,35669:1,35670:1,35671:1,35672:1,35673:1,35674:1,35675:3,35676:4,35678:1,35680:1,5120:1,5121:1,5122:1,5123:1,5124:1,5125:1,5126:1},a=0;a<r;++a){var s=e.getActiveUniform(t,a);s.typeName=i[s.type],n.uniforms.push(s),n.uniformCount+=s.size,s.size=s.size*o[s.type]}for(a=0;a<A;a++){var c=e.getActiveAttrib(t,a);c.typeName=i[c.type],n.attributes.push(c),n.attributeCount+=c.size}return n};var r=function(){function e(){}return e.MAX_VERTEX_UNIFORMS=0,e.MAX_FRAGMENT_UNIFORMS=0,e.MAX_VERTEX_ATTRIBUTES=0,e.WEBGL_SUPPORTED=!1,e.MAX_TEXTURE_SIZE=0,e.HARDWARE_INSTANCING=!1,e.HARDWARE_INSTANCING_ANGLE=!1,e}();t.WebGLStat=r,function(){var e=function(){try{var e=document.createElement("canvas");return window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}();e&&(r.WEBGL_SUPPORTED=!0,r.MAX_VERTEX_UNIFORMS=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),r.MAX_FRAGMENT_UNIFORMS=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),r.MAX_VERTEX_ATTRIBUTES=e.getParameter(e.MAX_VERTEX_ATTRIBS),r.MAX_TEXTURE_SIZE=e.getParameter(e.MAX_TEXTURE_SIZE),r.HARDWARE_INSTANCING_ANGLE=Boolean(e.getExtension("ANGLE_instanced_arrays")),r.HARDWARE_INSTANCING=r.HARDWARE_INSTANCING_ANGLE)}()},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.FLOAT=0]="FLOAT",e[e.VEC2=1]="VEC2",e[e.VEC3=2]="VEC3",e[e.VEC4=3]="VEC4",e[e.VEC4_ARRAY=4]="VEC4_ARRAY",e[e.FLOAT_ARRAY=5]="FLOAT_ARRAY",e[e.MATRIX3x3=6]="MATRIX3x3",e[e.MATRIX4x4=7]="MATRIX4x4",e[e.TEXTURE=8]="TEXTURE"}(r=t.MaterialUniformType||(t.MaterialUniformType={})),t.isUniformVec2=function(e){return e.type===r.VEC2},t.isUniformVec3=function(e){return e.type===r.VEC3},t.isUniformVec4=function(e){return e.type===r.VEC4},t.isUniformVec4Array=function(e){return e.type===r.VEC4_ARRAY},t.isUniformMat3=function(e){return e.type===r.MATRIX3x3},t.isUniformMat4=function(e){return e.type===r.MATRIX4x4},t.isUniformTexture=function(e){return e.type===r.TEXTURE},t.isUniformFloat=function(e){return e.type===r.FLOAT}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=1;t.uid=function(){return++r};var A=0;t.colorUID=function(){return++A%16777215}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.expand=function(e,t,n,r){return{instanceAttributes:[],uniforms:[],vertexAttributes:[]}},t.prototype.validate=function(e,t,n,r){return!0},t.prototype.processHeaderInjection=function(e,t,n,r,A,i,o){return{injection:""}},t.prototype.processAttributeDestructuring=function(e,t,n,r,A,i){return""},t}(n(73).BaseShaderIOInjection);t.BaseIOExpansion=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),A=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},i={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),A=Math.round(r.height);if(e.body.removeChild(n),123===A)return!0}}return!1}(document);return Object.defineProperty(i,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(i,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=function(e,t){var n=new Image,r=e.createElement("canvas"),A=r.getContext("2d");return new Promise(function(e){n.src=t;var i=function(){try{A.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=i,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout(function(){i()},500)})}(document,e);return Object.defineProperty(i,"SUPPORT_BASE64_DRAWING",{value:function(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,o=t.toDataURL();i.src=o;var a=(0,r.createForeignObjectSVG)(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(a).then(function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height="100px",A(i)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,a)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),A(n.getImageData(0,0,100,100).data)}).catch(function(e){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(i,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(i,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(i,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(i,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(81),i=n(79);var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.parent=n,this.bounds=r}return r(e,null,[{key:"fromTextNode",value:function(t,n){var r=s(t.data,n.style.textTransform);return new e(r,n,(0,i.parseTextBounds)(r,n,t))}}]),e}();t.default=o;var a=/(^|\s|:|-|\(|\))([a-z])/g,s=function(e,t){switch(t){case A.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case A.TEXT_TRANSFORM.CAPITALIZE:return e.replace(a,c);case A.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function c(e,t,n){return e.length>0?t+n.toUpperCase():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(22),A=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},i=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},o=t.parseListStyleType=function(e){switch(e){case"disc":return i.DISC;case"circle":return i.CIRCLE;case"square":return i.SQUARE;case"decimal":return i.DECIMAL;case"cjk-decimal":return i.CJK_DECIMAL;case"decimal-leading-zero":return i.DECIMAL_LEADING_ZERO;case"lower-roman":return i.LOWER_ROMAN;case"upper-roman":return i.UPPER_ROMAN;case"lower-greek":return i.LOWER_GREEK;case"lower-alpha":return i.LOWER_ALPHA;case"upper-alpha":return i.UPPER_ALPHA;case"arabic-indic":return i.ARABIC_INDIC;case"armenian":return i.ARMENIAN;case"bengali":return i.BENGALI;case"cambodian":return i.CAMBODIAN;case"cjk-earthly-branch":return i.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return i.CJK_HEAVENLY_STEM;case"cjk-ideographic":return i.CJK_IDEOGRAPHIC;case"devanagari":return i.DEVANAGARI;case"ethiopic-numeric":return i.ETHIOPIC_NUMERIC;case"georgian":return i.GEORGIAN;case"gujarati":return i.GUJARATI;case"gurmukhi":return i.GURMUKHI;case"hebrew":return i.HEBREW;case"hiragana":return i.HIRAGANA;case"hiragana-iroha":return i.HIRAGANA_IROHA;case"japanese-formal":return i.JAPANESE_FORMAL;case"japanese-informal":return i.JAPANESE_INFORMAL;case"kannada":return i.KANNADA;case"katakana":return i.KATAKANA;case"katakana-iroha":return i.KATAKANA_IROHA;case"khmer":return i.KHMER;case"korean-hangul-formal":return i.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return i.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return i.KOREAN_HANJA_INFORMAL;case"lao":return i.LAO;case"lower-armenian":return i.LOWER_ARMENIAN;case"malayalam":return i.MALAYALAM;case"mongolian":return i.MONGOLIAN;case"myanmar":return i.MYANMAR;case"oriya":return i.ORIYA;case"persian":return i.PERSIAN;case"simp-chinese-formal":return i.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return i.SIMP_CHINESE_INFORMAL;case"tamil":return i.TAMIL;case"telugu":return i.TELUGU;case"thai":return i.THAI;case"tibetan":return i.TIBETAN;case"trad-chinese-formal":return i.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return i.TRAD_CHINESE_INFORMAL;case"upper-armenian":return i.UPPER_ARMENIAN;case"disclosure-open":return i.DISCLOSURE_OPEN;case"disclosure-closed":return i.DISCLOSURE_CLOSED;case"none":default:return i.NONE}},a=(t.parseListStyle=function(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:o(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:a(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return A.INSIDE;case"outside":default:return A.OUTSIDE}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.VECTOR,this.x=t,this.y=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getIOExpansion=function(){return[]},e.prototype.setAttributeContext=function(e){},e}();t.BaseResourceManager=o;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resources=new Map,t}return r(t,e),t.prototype.initResource=function(e){return A(this,void 0,void 0,function(){return i(this,function(t){return this.resources.set(e.key,e),[2]})})},t.prototype.dequeueRequests=function(){return A(this,void 0,void 0,function(){return i(this,function(e){return[2,!1]})})},t.prototype.destroy=function(){},t.prototype.getResource=function(e){return this.resources.get(e)||{key:"",type:-1}},t.prototype.request=function(e,t,n){return[0,0,0,0]},t}(o);t.InvalidResourceManager=a,t.INVALID_RESOURCE_MANAGER=new a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(52),i=n(8),o=n(29),a=n(1),s=n(25),c=n(20);t.isUniformBufferLocation=function(e){return e&&e.buffer&&e.buffer.value&&e.type===o.MaterialUniformType.VEC4_ARRAY};var u=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.buffers=[],r.availableClusters=[],r.instanceToCluster={},r.clusterToBuffer=new Map,r.add=function(e){r.availableClusters.length<=0&&r.makeNewBuffer();var t=r.availableClusters.pop();return t?r.instanceToCluster[e.uid]=t:console.warn("No valid cluster available for instance added to uniform manager."),t},r.remove=function(e){var t=this.instanceToCluster[e.uid];return t&&(delete this.instanceToCluster[e.uid],this.availableClusters.push(t)),e};var A=0;return t.instanceAttributes.forEach(function(e){A=Math.max(e.block||0,A)}),r.uniformBlocksPerInstance=A+1,r}return r(t,e),t.prototype.destroy=function(){this.buffers.forEach(function(e){e.geometry.dispose(),e.material.dispose()})},t.prototype.getBufferLocations=function(e){return this.instanceToCluster[e.uid]},t.prototype.getActiveAttributePropertyId=function(){return-1},t.prototype.getInstanceCount=function(){return-1},t.prototype.getUpdateAllPropertyIdList=function(){return[]},t.prototype.managesInstance=function(e){return void 0===this.instanceToCluster[e.uid]},t.prototype.removeFromScene=function(){var e=this.scene;if(e.container){for(var t=0,n=this.buffers.length;t<n;++t){var r=this.buffers[t];e.container.remove(r.model)}delete this.scene}},t.prototype.setScene=function(e){if(e.container){for(var t=0,n=this.buffers.length;t<n;++t){var r=this.buffers[t];e.container.add(r.model)}this.scene=e}else console.warn("Can not set a scene that has an undefined container.")},t.prototype.makeNewBuffer=function(){var e=new i.Geometry;this.layer.vertexAttributes.forEach(function(t){t.materialAttribute&&e.addAttribute(t.name,t.materialAttribute)});var t=this.layer.material.clone(),n=s.generateLayerModel(e,t,this.layer.model.drawMode);n.vertexDrawRange=[0,this.layer.maxInstancesPerBuffer*this.layer.instanceVertexCount];var r={activeInstances:[],clusters:[],firstInstance:0,geometry:e,lastInstance:0,material:t,model:n};this.buffers.push(r);var c=0,u=A.uniformBufferInstanceBufferName,l=t.uniforms[u];if(o.isUniformVec4Array(l)){l.value=l.value.map(function(){return[0,0,0,0]});for(var d=Object.assign({},this.layer.instanceAttributes[0],{bufferAttribute:new i.Attribute(new Float32Array(1),1),uid:a.uid()}),h=0,f=this.layer.maxInstancesPerBuffer;h<f;++h){var p={attribute:d,buffer:l,instanceIndex:h,range:[c,0]};c+=this.uniformBlocksPerInstance,p.range[1]=c,r.clusters.push(p),this.availableClusters.push(p),this.clusterToBuffer.set(p,r)}for(h=0,f=this.layer.uniforms.length;h<f;++h){var g=this.layer.uniforms[h];g.materialUniforms.push(t.uniforms[g.name])}this.scene&&this.scene.container&&this.scene.container.add(r.model)}else console.warn("Material is utilizing an invalid uniform type for Uniform Buffer Management. Buffering will not be possible.")},t}(c.BufferManagerBase);t.UniformBufferManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shaderTemplate=function(e){var t=e.shader,n=e.options,r=e.required,A=e.onError,i=e.onToken,o=new Map,a=new Map,s=new Map,c=new Map,u=t.replace(/\$\{([^\}]*)\}/g,function(e,t){var r="";return c.set(t,(c.get(t)||0)+1),t in n?(o.set(t,(o.get(t)||0)+1),r=n[t]):a.set(t,(a.get(t)||0)+1),i&&(r=i(t,r)),r});Object.keys(n).forEach(function(e){o.get(e)||s.set(e,(s.get(e)||0)+1)});var l={resolvedShaderOptions:o,shader:u,shaderProvidedOptions:c,unresolvedProvidedOptions:s,unresolvedShaderOptions:a};return r&&r.values.forEach(function(e){if(l.unresolvedProvidedOptions.get(e)){var t=r.name+": Could not resolve all the required inputs. Input: "+e;A?A(t):console.error(t)}else l.unresolvedShaderOptions.get(e)?(t=r.name+": A required option was not provided in the options parameter. Option: "+e,A?A(t):console.error(t)):l.resolvedShaderOptions.get(e)||(t=r.name+": A required option was not provided in the options parameter. Option: "+e,A?A(t):console.error(t))}),l}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(91),i=n(5),o=n(63),a=n(26),s=n(55);function c(e){return e.projectionType===o.CameraProjectionType.ORTHOGRAPHIC}!function(e){e[e.COLOR=1]="COLOR",e[e.DEPTH=2]="DEPTH",e[e.STENCIL=4]="STENCIL"}(t.ClearFlags||(t.ClearFlags={}));var u=function(e){function t(t){var n=e.call(this,t)||this;n.animationEndTime=0,n.depth=0,n.lastFrameTime=0,n.needsDraw=!1,n.optimizeRendering=!1,n.pixelRatio=window.devicePixelRatio;var r=Object.assign({},t);return delete r.key,Object.assign(n,r),n}return r(t,e),t.prototype.screenToPixelSpace=function(e,t){var n=t||[0,0];return n[0]=e[0]*this.pixelRatio,n[1]=e[1]*this.pixelRatio,n},t.prototype.pixelSpaceToScreen=function(e,t){var n=t||[0,0];return n[0]=e[0]/this.pixelRatio,n[1]=e[1]/this.pixelRatio,n},t.prototype.screenToView=function(e,t){var n=this.screenToPixelSpace(e,t);return n[0]=n[0]-this.viewBounds.x,n[1]=n[1]-this.viewBounds.y,n},t.prototype.viewToScreen=function(e,t){var n=[0,0];return n[0]=e[0]+this.viewBounds.x,n[1]=e[1]+this.viewBounds.y,this.pixelSpaceToScreen(n,t)},t.prototype.screenToWorld=function(e,t){var n=this.pixelSpaceToScreen(this.screenToView(e)),r=t||[0,0];return r[0]=(n[0]-this.camera.offset[0]*this.camera.scale[0])/this.camera.scale[0],r[1]=(n[1]-this.camera.offset[1]*this.camera.scale[1])/this.camera.scale[1],this.viewCamera.type===s.ViewCameraType.CUSTOM&&console.warn("Custom View Camera projections not supported yet"),r},t.prototype.worldToScreen=function(e,t){var n=[0,0];return n[0]=(e[0]*this.camera.scale[0]+this.camera.offset[0]*this.camera.scale[0])*this.pixelRatio,n[1]=(e[1]*this.camera.scale[1]+this.camera.offset[1]*this.camera.scale[1])*this.pixelRatio,this.viewCamera.type===s.ViewCameraType.CUSTOM&&console.warn("Custom View Camera projections not supported yet"),this.viewToScreen(n,t)},t.prototype.viewToWorld=function(e,t){var n=t||[0,0],r=this.pixelSpaceToScreen(e);return n[0]=(r[0]-this.camera.offset[0]*this.camera.scale[0])/this.camera.scale[0],n[1]=(r[1]-this.camera.offset[1]*this.camera.scale[1])/this.camera.scale[1],this.viewCamera.type===s.ViewCameraType.CUSTOM&&console.warn("Custom View Camera projections not supported yet"),n},t.prototype.worldToView=function(e,t){var n=t||[0,0];return n[0]=e[0]*this.camera.scale[0]+this.camera.offset[0]*this.camera.scale[0],n[1]=e[1]*this.camera.scale[1]+this.camera.offset[1]*this.camera.scale[1],this.viewCamera.type===s.ViewCameraType.CUSTOM&&console.warn("Custom View Camera projections not supported yet"),n},t.prototype.fitViewtoViewport=function(e){if(this.viewCamera.type===s.ViewCameraType.CONTROLLED&&c(this.viewCamera.baseCamera)){var t=A.getAbsolutePositionBounds(this.viewport,e,this.pixelRatio),n=t.width,r=t.height,o={bottom:-r/2,far:1e7,left:-n/2,near:-100,right:n/2,top:r/2},a=this.viewCamera.baseCamera;a.projectionOptions=Object.assign(a.projectionOptions,o),a.position=[-t.width/2*1,t.height/2*1,a.position[2]],a.scale=[1,-1,1],a.update(),this.viewBounds=t,this.viewBounds.data=this,this.screenBounds=new i.Bounds({height:this.viewBounds.height/this.pixelRatio,width:this.viewBounds.width/this.pixelRatio,x:this.viewBounds.x/this.pixelRatio,y:this.viewBounds.y/this.pixelRatio})}else c(this.viewCamera.baseCamera)||console.warn("Fit to viewport does not support non-orthographic cameras as a default behavior.")},t.DEFAULT_VIEW_ID="__default__",t}(a.IdentifyByKey);t.View=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(53);function i(e,t){return e.depth-t.depth}var o=function(e){function t(t){var n=e.call(this,t)||this;return n.container=new A.Scene,n.layers=[],n.sortIsDirty=!1,n.viewById=new Map,n}return r(t,e),t.prototype.addLayer=function(e){this.layers.push(e),this.sortIsDirty=!0},t.prototype.addView=function(e){this.viewById.set(e.id,e)},t.prototype.destroy=function(){delete this.container},t.prototype.removeLayer=function(e){if(this.layers){var t=this.layers.indexOf(e);if(t>=0)return void this.layers.splice(t,1)}},t.prototype.sortLayers=function(){this.sortIsDirty&&this.layers.sort(i)},t.DEFAULT_SCENE_ID="__default__",t}(n(26).IdentifyByKey);t.LayerScene=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(177),a=n(96),s=n(5),c=n(24),u=n(69),l=n(176),d=n(173),h=n(172),f=n(0),p=n(0),g=n(170),B=n(90),w=n(4),y=n(169),v=n(168),b=n(167),m=n(166),E=n(64),C=n(62),U=n(61),T=n(25),Q=n(16),_=n(41),F=n(60),I=n(40);t.DEFAULT_IO_EXPANSION=[new b.BasicIOExpansion,new h.ActiveIOExpansion,new m.EasingIOExpansion],t.DEFAULT_RESOURCE_MANAGEMENT=[{type:p.ResourceType.ATLAS,manager:new u.AtlasResourceManager({})},{type:p.ResourceType.FONT,manager:new c.FontResourceManager}];var x=[1,1,1,1];t.createLayer=function(e,t){return[e,t]};var S=function(){function e(){var e=this;this.frameMetrics={currentFrame:0,currentTime:0|Date.now(),frameDuration:1e3/60,previousTime:0|Date.now()},this.isBufferingResources=!1,this.ioExpanders=[],this.ioSorting=new y.BaseIOSorting,this.layers=new Map,this.pixelRatio=window.devicePixelRatio,this.scenes=new Map,this.sceneViews=[],this.willDisposeLayer=new Map,this.viewDrawDependencies=new Map,this.loadReady=new Promise(function(t){return e.loadReadyResolve=t})}return Object.defineProperty(e.prototype,"gl",{get:function(){return this.context},enumerable:!0,configurable:!0}),e.prototype.addLayer=function(e){if(!e.id)return console.warn("All layers must have an id"),e;if(this.layers.get(e.id))return console.warn("All layer's ids must be unique per layer manager"),e;this.layers.set(e.id,e);var t=e.id;return this.initLayer(e)?e:(this.layers.delete(t),null)},e.prototype.commit=function(e,t,n){return r(this,void 0,void 0,function(){var r,i,o,a,c,u,l,d,h,p,g,B,w,y,v,b,m,E,C,U;return A(this,function(A){if(!this.gl)return[2];for(r=!1,t&&this.frameMetrics.currentFrame++,this.frameMetrics.frameDuration=this.frameMetrics.currentTime-this.frameMetrics.previousTime,this.frameMetrics.previousTime=this.frameMetrics.currentTime,void 0===e?this.frameMetrics.currentTime=0|Date.now():(this.frameMetrics.previousTime===this.frameMetrics.currentTime&&(this.frameMetrics.previousTime=e),this.frameMetrics.currentTime=e),e=this.frameMetrics.currentTime,i=Array.from(this.scenes.values()),o={},a={},c=new Map,B=0,w=i.length;B<w;++B)for(y=i[B],v=Array.from(y.viewById.values()),u=y.layers,y.sortLayers(),b=0,m=v.length;b<m;++b){for(E=v[b],l=[],E.fitViewtoViewport(new s.Bounds({height:this.context.canvas.height,width:this.context.canvas.width,x:0,y:0})),d=0,h=u.length;d<h;++d){(p=u[d]).view=E;try{p.draw(),p.needsViewDrawn&&(E.needsDraw=!0),o[p.id]=p,E.animationEndTime=Math.max(E.animationEndTime,p.animationEndTime),p.lastFrameTime=e}catch(e){a[p.id]||(a[p.id]=[p,e])}p.picking.type===f.PickType.SINGLE&&l.push(p)}E.needsDraw||e&&e<E.lastFrameTime||E.camera.needsViewDrawn,E.needsDraw=!0,r=!0,(g=this.viewDrawDependencies.get(E))&&g.forEach(function(e){e.needsDraw=!0}),c.set(E,l)}for(B=0,w=i.length;B<w;++B)if((y=i[B]).container)for(v=Array.from(y.viewById.values()),b=0,m=v.length;b<m;++b)E=v[b],n&&n(r,y,E,c.get(E)||[]);return(C=Object.values(a)).length>0&&(U=Object.values(o),console.warn("Some layers errored during their draw update. These layers will be removed. They can be re-added if render() is called again:",C.map(function(e){return e[0].id})),C.forEach(function(e){if(console.warn("Layer "+e[0].id+" removed for the following error:"),e[1]){var t=e[1].stack||e[1].message;if(console.error(t),t.indexOf("RangeError")>-1||t.indexOf("Source is too large")>-1){for(var n,r=e[0],A=r.bufferManager.changeListContext,i=0,o=function(e,t){var o=A[e][0];r.instanceAttributes.forEach(function(e){e.update(o).length!==e.size&&(n||(n=["Example instance returned the wrong sized value for an attribute:",o,e]),i++)})},a=0,s=A.length;a<s;++a)o(a);n&&(console.error("The following output shows discovered issues related to the specified error"),console.error("Instances are returning too large IO for an attribute\n",n[0],n[1],n[2],"Total errors for too large IO values",i))}}}),this.render(U.map(function(e){return e.initializer}))),[2]})})},e.prototype.destroy=function(){this.layers.forEach(function(e){return e.destroy()}),this.resourceManager.destroy(),this.mouseManager.destroy(),this.sceneViews.forEach(function(e){return e.scene.destroy()}),this.renderer.dispose(),this.pickingTarget.dispose()},e.prototype.analyzePickRendering=function(){if(this.queuedPicking){for(var e=0,t=this.queuedPicking.length;e<t;++e){var n=this.queuedPicking[e],r=n[1],A=n[2],i=n[3];if(!r.optimizeRendering){var o=new Uint8Array(100);this.renderer.readPixels(Math.floor(i[0]-2.5),Math.floor(i[1]-2.5),5,5,o);for(var a=g.analyzeColorPickingRendering([i[0]-r.screenBounds.x,i[1]-r.screenBounds.y],o,5,5),s=0,c=A.length;s<c;++s){var u=A[s];u.picking.type===f.PickType.SINGLE&&(u.interactions.colorPicking=a)}}}delete this.queuedPicking}},e.prototype.draw=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,a,s=this;return A(this,function(A){switch(A.label){case 0:return this.gl?(this.analyzePickRendering(),t=[],[4,this.commit(e,!0,function(e,n,r,A){n.container&&(e&&s.drawSceneView(n.container,r),A.length>0&&s.updateColorPick&&t.push([n,r,A]))})]):[2];case 1:return A.sent(),this.mouseManager.waitingForRender&&(this.sceneViews.forEach(function(e){e.bounds=new B.DataBounds(e.view.screenBounds),e.bounds.data=e}),this.mouseManager.waitingForRender=!1),this.isBufferingResources?[3,3]:(this.isBufferingResources=!0,[4,this.resourceManager.dequeueRequests()]);case 2:n=A.sent(),this.isBufferingResources=!1,n&&(this.loadReadyResolve(),this.loadReady=new Promise(function(e){return s.loadReadyResolve=e}),this.draw()),A.label=3;case 3:for(this.sceneViews.forEach(function(e){e.view.needsDraw=!1,e.view.camera.resolve()}),this.layers.forEach(function(e){e.needsViewDrawn=!1,e.props.data.resolveContext=""}),r=0,i=t.length;r<i;++r)a=t[r],this.drawPicking(a[0],a[1],a[2])&&a.length>0&&!a[1].optimizeRendering&&this.updateColorPick&&(this.queuedPicking||(this.queuedPicking=[]),this.queuedPicking.push([a[0],a[1],a[2],this.updateColorPick.mouse]));return delete this.updateColorPick,o.flushDebug(),[2]}})})},e.prototype.drawPicking=function(e,t,n){if(!this.updateColorPick)return!1;if(!e.container)return!1;if(t.optimizeRendering)return!1;if(this.updateColorPick.views.indexOf(t)>-1){t.pixelRatio=1;var r=t.clearFlags.slice(0),A=w.copy4(t.background);t.clearFlags=[I.ClearFlags.COLOR,I.ClearFlags.DEPTH],t.background=[0,0,0,0],t.fitViewtoViewport(new s.Bounds({height:this.pickingTarget.height,width:this.pickingTarget.width,x:0,y:0}));for(var i=0,o=n.length;i<o;++i){var a=n[i];a.picking.currentPickMode=f.PickType.SINGLE;try{a.updateUniforms()}catch(e){console.warn(e)}a.picking.currentPickMode=f.PickType.NONE}return this.drawSceneView(e.container,t,this.renderer,this.pickingTarget),t.pixelRatio=this.pixelRatio,t.clearFlags=r,t.background=A,t.fitViewtoViewport(new s.Bounds({height:this.context.canvas.height,width:this.context.canvas.width,x:0,y:0})),!0}return!1},e.prototype.drawSceneView=function(e,t,n,r){n=n||this.renderer;var A=t.viewBounds.left,i=t.viewBounds.top,o=t.viewBounds,a=t.pixelRatio,s=t.background;n.setRenderTarget(r||null),n.setScissor({x:A/a,y:i/a,width:o.width/a,height:o.height/a},r),t.background&&n.clearColor([s[0],s[1],s[2],s[3]]),n.setViewport({x:A/a,y:i/a,width:o.width,height:o.height}),t.clearFlags?n.clear(t.clearFlags.indexOf(I.ClearFlags.COLOR)>-1,t.clearFlags.indexOf(I.ClearFlags.DEPTH)>-1,t.clearFlags.indexOf(I.ClearFlags.STENCIL)>-1):n.clear(!0,!0),n.render(e,r),t.lastFrameTime=this.frameMetrics.currentTime},e.prototype.gatherViewDrawDependencies=function(){this.viewDrawDependencies.clear();for(var e=0,t=this.sceneViews.length;e<t;e++)this.sceneViews[e].view.fitViewtoViewport(new s.Bounds({height:this.context.canvas.height,width:this.context.canvas.width,x:0,y:0}));for(e=0,t=this.sceneViews.length;e<t;e++){for(var n=this.sceneViews[e].view,r=[],A=0,i=this.sceneViews.length;A<i;A++)if(A!==e){var o=this.sceneViews[A].view;n.viewBounds.hitBounds(o.viewBounds)&&r.push(o)}this.viewDrawDependencies.set(n,r)}},e.prototype.getViewSize=function(e){for(var t=0,n=this.sceneViews;t<n.length;t++){var r=n[t];if(r.view.id===e)return r.view.screenBounds}return null},e.prototype.getViewWorldBounds=function(e){for(var t=0,n=this.sceneViews;t<n.length;t++){var r=n[t];if(r.view.id===e){var A=r.view;if(A.screenBounds){var i=A.viewToWorld([0,0]),o=A.screenToWorld([A.screenBounds.right,A.screenBounds.bottom]);return new s.Bounds({bottom:o[1],left:i[0],right:o[0],top:i[1]})}return null}}return null},e.prototype.init=function(e){return r(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return this.pixelRatio=e.pixelRatio||this.pixelRatio,this.pixelRatio<1&&(this.pixelRatio=1),(t=this.initGL(e))?(this.context=t,this.gl?(this.initMouseManager(e),[4,this.initResources(e)]):[3,3]):[2];case 1:return n.sent(),[4,this.initIOExpanders(e)];case 2:return n.sent(),[3,4];case 3:console.warn("Could not establish a GL context. Layer Surface will be unable to render"),n.label=4;case 4:return[2,this]}})})},e.prototype.initGL=function(e){var t=this,n=e.context;if(!n)return null;var r=n.width,A=n.height,o=!0,s=Object.assign({antialias:!1,preserveDrawingBuffer:!1,premultiplyAlpha:!1},e.rendererOptions);if(this.renderer=new a.WebGLRenderer({alpha:e.background&&e.background[3]<1,antialias:s.antialias,canvas:n,preserveDrawingBuffer:s.preserveDrawingBuffer,premultipliedAlpha:s.premultipliedAlpha,onNoContext:function(){o=!1}}),!o||!this.renderer.gl)return null;this.context=this.renderer.gl,this.resourceManager&&this.resourceManager.setWebGLRenderer(this.renderer),this.pickingTarget=new i.RenderTarget({buffers:{color:new i.Texture({generateMipMaps:!1,data:{width:r,height:A,buffer:null}}),depth:i.GLSettings.RenderTarget.DepthBufferFormat.DEPTH_COMPONENT16},width:r,height:A}),this.setRendererSize(r,A),this.renderer.setPixelRatio(this.pixelRatio),e.background?this.renderer.setClearColor([e.background[0],e.background[1],e.background[2],e.background[3]]):this.renderer.setClearColor(x);var c=0;return e.scenes&&(e.scenes.forEach(function(e){var n=new _.LayerScene(e),r=E.generateDefaultScene(t.context);e.views.forEach(function(e){var A=new I.View(e);A.camera=A.camera||r.camera,A.viewCamera=A.viewCamera||r.viewCamera,A.pixelRatio=t.pixelRatio,n.addView(A);for(var i=0,o=t.sceneViews;i<o.length;i++){o[i].view.id===A.id&&console.warn("You can NOT have two views with the same id. Please use unique identifiers for every view generated.")}t.sceneViews.push({depth:++c,scene:n,view:A})}),t.scenes.set(e.key,n)}),this.gatherViewDrawDependencies()),this.renderer.gl},e.prototype.initIOExpanders=function(e){Array.isArray(e.ioExpansion)||void 0===e.ioExpansion?this.ioExpanders=e.ioExpansion&&e.ioExpansion.slice(0)||t.DEFAULT_IO_EXPANSION&&t.DEFAULT_IO_EXPANSION.slice(0)||[]:e.ioExpansion instanceof Function&&(this.ioExpanders=e.ioExpansion(t.DEFAULT_IO_EXPANSION));var n=this.resourceManager.getIOExpansion();this.ioExpanders=this.ioExpanders.concat(n)},e.prototype.initLayer=function(e){e.surface=this,e.resource=this.resourceManager;var t=e.initShader(),n=this.addLayerToScene(e);if(!n)return null;if(e.interactions=new d.LayerInteractionHandler(e),!t)return e.picking.type=f.PickType.NONE,e;if(!t.fs||!t.vs)return console.warn("Layer needs to specify the fragment and vertex shaders:",e.id),null;t.instanceAttributes=(t.instanceAttributes||[]).filter(Boolean),t.vertexAttributes=(t.vertexAttributes||[]).filter(Boolean),t.uniforms=(t.uniforms||[]).filter(Boolean);var r=(new l.ShaderProcessor).process(e,t,this.ioExpanders,this.ioSorting);if(!r)return null;var A=r.vertexAttributes,i=r.instanceAttributes,o=r.uniforms,a=C.generateLayerGeometry(e,r.maxInstancesPerBuffer,A,t.vertexCount),s=U.generateLayerMaterial(e,r.vs,r.fs,o,r.materialUniforms),c=T.generateLayerModel(a,s,t.drawMode);return e.geometry=a,e.instanceAttributes=i,e.instanceVertexCount=t.vertexCount,e.material=s,e.maxInstancesPerBuffer=r.maxInstancesPerBuffer,e.model=c,e.uniforms=o,e.vertexAttributes=A,Q.makeLayerBufferManager(this.gl,e,n),e.props.printShader&&(console.warn("A Layer requested its shader be debugged. Do not leave this active for production:","Layer:",e.props.key,"Shader Metrics",r),console.warn("\n\nVERTEX SHADER\n--------------\n\n",r.vs),console.warn("\n\nFRAGMENT SHADER\n--------------\n\n",r.fs)),e},e.prototype.initMouseManager=function(e){var t=[new v.LayerMouseEvents(this)].concat(e.eventManagers||[]);this.mouseManager=new F.MouseEventManager(this.context.canvas,this.sceneViews,t,e.handlesWheelEvents)},e.prototype.initResources=function(e){return r(this,void 0,void 0,function(){var n,r,i,o=this;return A(this,function(A){switch(A.label){case 0:if(this.resourceManager=new c.ResourceManager,this.resourceManager.setWebGLRenderer(this.renderer),(e.resourceManagers&&e.resourceManagers.slice(0)||t.DEFAULT_RESOURCE_MANAGEMENT&&t.DEFAULT_RESOURCE_MANAGEMENT.slice(0)||[]).forEach(function(e){o.resourceManager.setManager(e.type,e.manager)}),!e.resources)return[3,4];n=0,r=e.resources,A.label=1;case 1:return n<r.length?(i=r[n],[4,this.resourceManager.initResource(i)]):[3,4];case 2:A.sent(),A.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.addLayerToScene=function(e){var t=this.scenes.get(e.props.scene||"");return t?t.addLayer(e):console.warn("No scene is specified by the layer, or the scene identifier is invalid"),t},e.prototype.removeLayer=function(e){if(!e)return null;if(!this.layers.get(e&&e.id))return console.warn("Tried to remove a layer that is not in the manager.",e),e;e.destroy(),this.layers.delete(e.id),this.willDisposeLayer.delete(e.id);var t=this.scenes.get(e.props.scene);if(t&&t.removeLayer(e),e.children&&e.children.length>0)for(var n=0,r=e.children.length;n<r;++n){var A=e.children[n];this.removeLayer(A)}return e},e.prototype.expandLayerChildren=function(e,t,n){var r=t.childLayers();if(!(r.length<=0)){for(var A=0,i=r.length;A<i;++A){r[A][1].parent=t}e.splice.apply(e,[n+1,0].concat(r))}},e.prototype.updateLayer=function(e,t,n,r){if(t.willUpdateProps(n),n.data!==t.props.data&&n.data.sync(),t.shouldDrawView(t.props,n)&&(t.needsViewDrawn=!0),Object.assign(t.props,n),t.initializer[1]=t.props,t.didUpdateProps(),n.parent&&t.parent&&t.parent!==n.parent){var A=t.parent.children||[],i=A.indexOf(t)||-1;i>-1&&A.splice(i,1)}t.parent=n.parent,t.willRebuildLayer?(this.removeLayer(t),this.generateLayer(e,t.initializer,r)):this.expandLayerChildren(e,t,r)},e.prototype.generateLayer=function(e,t,n,r){var A=t[0],i=t[1],o=new A(Object.assign({},A.defaultProps,i));o.initializer=t,o.props.data.sync(),o.parent=i.parent,i.parent&&(i.parent.children?i.parent.children.push(o):i.parent.children=[o]),this.addLayer(o)?r||this.expandLayerChildren(e,o,n):console.warn("Error initializing layer:",i.key,"A layer was unable to be added to the surface. See previous warnings (if any) to determine why they could not be instantiated")},e.prototype.render=function(e){var t=this;if(this.gl){var n=e.slice(0);if(n&&n.length>0)for(var r=0;r<n.length;++r){var A=n[r],i=A[1],o=this.layers.get(i.key);o?this.updateLayer(n,o,i,r):this.generateLayer(n,A,r),this.willDisposeLayer.set(i.key,!1)}this.willDisposeLayer.forEach(function(e,n){if(e){var r=t.layers.get(n);r?t.removeLayer(r):console.warn("this.willDisposeLayer applied to a layer that does not exist in the existing layer check.")}}),this.willDisposeLayer.clear(),this.layers.forEach(function(e,n){t.willDisposeLayer.set(n,!0)})}},e.prototype.fitContainer=function(e){var t=this.context.canvas.parentElement;if(t){var n=this.context.canvas;n.className="",n.setAttribute("style",""),t.style.position="relative",n.style.position="absolute",n.style.left="0xp",n.style.top="0xp",n.style.width="100%",n.style.height="100%",n.setAttribute("width",""),n.setAttribute("height","");var r=t.getBoundingClientRect(),A=n.getBoundingClientRect();this.resize(A.width||100,r.height||100)}},e.prototype.resize=function(e,t,n){var r=this;this.pixelRatio=n||this.pixelRatio,this.pixelRatio<1&&(this.pixelRatio=1),this.sceneViews.forEach(function(e){return e.view.pixelRatio=r.pixelRatio}),this.setRendererSize(e,t),this.renderer.setPixelRatio(this.pixelRatio),this.mouseManager.resize(),this.gatherViewDrawDependencies()},e.prototype.setRendererSize=function(e,t){e=e||100,t=t||100,this.renderer.setSize(e,t),this.pickingTarget.setSize(e,t)},e.prototype.updateColorPickRange=function(e,t){this.updateColorPick={mouse:e,views:t}},e}();t.LayerSurface=S},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(0),a=n(26),s=n(23),c=n(19),u=n(3)("performance");t.createAtlas=function(e){return A({type:o.ResourceType.ATLAS},e)},t.isAtlasResource=function(e){return e&&e.type===o.ResourceType.ATLAS};var l=function(e){function t(t){var n=e.call(this,t)||this;n.resourceReferences=new Map,n.type=o.ResourceType.ATLAS,n.validResources=new Set;var r=document.createElement("canvas");return n.width=r.width=t.width,n.height=r.height=t.height,n.textureSettings=t.textureSettings,n.packing=new s.PackNode(0,0,t.width,t.height),n.createTexture(r),n}return r(t,e),t.prototype.invalidateTexture=function(e){var t=[0,0];e.aspectRatio=1,e.atlasBL=t,e.atlasBR=t,e.atlasTL=t,e.atlasTR=t,e.textureReferenceID="",e.isValid=!1,e.texture=null,e.pixelHeight=0,e.pixelWidth=0},t.prototype.createTexture=function(e){var t,n=this;this.texture||(t=this.textureSettings?A({generateMipMaps:!0,premultiplyAlpha:!0},this.textureSettings):{generateMipMaps:!0,premultiplyAlpha:!0},this.texture=new i.Texture(A({data:e},t)),this.validResources.forEach(function(e){e.texture&&(e.texture.texture=n.texture)}))},t.prototype.destroy=function(){var e=this;this.texture.dispose(),this.validResources.forEach(function(t,n){n.texture&&e.invalidateTexture(n.texture)})},t.prototype.useResource=function(e){(this.resourceReferences.get(e.source)||{subtexture:e.texture,count:0}).count++},t.prototype.stopUsingResource=function(e){(this.resourceReferences.get(e.source)||{subtexture:e.texture||new c.SubTexture,count:0}).count--},t.prototype.resolveResources=function(){var e=this,t=[];this.resourceReferences.forEach(function(n,r){n.count<=0&&n.subtexture&&(u("A subtexture on an atlas has been invalidated as it is deemed no longer used: %o",n.subtexture),e.invalidateTexture(n.subtexture),t.push(r))});for(var n=0,r=t.length;n<r;++n)this.resourceReferences.delete(t[n])},t}(a.IdentifyByKey);t.Atlas=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(21),i=n(31),o=n(0),a=new A.Texture({data:{width:2,height:2,buffer:new Uint8Array(16)}});var s=function(e){function t(t,n){var r=e.call(this)||this;return r.manager=n,r.resourceType=t,r}return r(t,e),t.prototype.expand=function(e,t,n,r){var A=this,i=this.manager,s=[],c=new Map;t.forEach(function(e){if(function(e,t){return e&&e.resource&&e.resource.type===t&&void 0!==e.resource.name&&void 0!==e.resource.key}(e,A.resourceType)){void 0===e.size&&(e.size=o.InstanceAttributeSize.FOUR);var t=e.resource.shaderInjection||o.ShaderInjectionTarget.FRAGMENT,n=c.get(e.resource.name);n?c.set(e.resource.name,[n[0]||t===o.ShaderInjectionTarget.VERTEX||t===o.ShaderInjectionTarget.ALL,n[1]||t===o.ShaderInjectionTarget.FRAGMENT||t===o.ShaderInjectionTarget.ALL]):(s.push(e),c.set(e.resource.name,[t===o.ShaderInjectionTarget.VERTEX||t===o.ShaderInjectionTarget.ALL,t===o.ShaderInjectionTarget.FRAGMENT||t===o.ShaderInjectionTarget.ALL]))}});var u=[];return s.map(function(e){var t=o.ShaderInjectionTarget.FRAGMENT;if(e.resource){var n=c.get(e.resource.name);n&&(t=n[0]&&n[1]&&o.ShaderInjectionTarget.ALL||n[0]&&!n[1]&&o.ShaderInjectionTarget.VERTEX||!n[0]&&n[1]&&o.ShaderInjectionTarget.FRAGMENT||t)}return[{name:e.resource.name,shaderInjection:t,size:o.UniformSize.ATLAS,update:function(){var t=i.getResource(e.resource.key);return t&&t.texture||a}},{name:e.resource.name+"_size",shaderInjection:t,size:o.UniformSize.TWO,update:function(){var t=i.getResource(e.resource.key);if(t){var n=t.texture;if(n&&n.data){var r=n.data,A=r.width,o=r.height;return[A||1,o||1]}}return[1,1]}}]}).forEach(function(e){return e.forEach(function(e){return u.push(e)})}),{instanceAttributes:[],vertexAttributes:[],uniforms:u}},t.prototype.validate=function(e,t,n,r){var A=!1;return t.forEach(function(e){e.easing&&e.resource&&(console.warn("An instance attribute can not have both easing and resource properties. Undefined behavior will occur."),console.warn(e),A=!0)}),!A},t.prototype.processHeaderInjection=function(e,t,n,r,A,i,a){for(var s=0,c=a.length;s<c;++s){var u=a[s],l=u.shaderInjection||o.ShaderInjectionTarget.VERTEX;u.size===o.UniformSize.ATLAS&&l===e&&this.setDeclaration(t,u.name,"uniform sampler2D "+u.name+";\n","TextureIOExpansion")}return{injection:""}},t}(i.BaseIOExpansion);t.TextureIOExpansion=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var r=n(17),A=s(n(18)),i=s(n(33)),o=n(34),a=n(77);function s(e){return e&&e.__esModule?e:{default:e}}var c=["OL","UL","MENU"],u=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==c.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,n){var a=t.style.listStyle;if(a){var s=e.ownerDocument.defaultView.getComputedStyle(e,null),c=e.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(s,c),c.style.position="absolute",c.style.bottom="auto",c.style.display="block",c.style.letterSpacing="normal",a.listStylePosition){case o.LIST_STYLE_POSITION.OUTSIDE:c.style.left="auto",c.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",c.style.textAlign="right";break;case o.LIST_STYLE_POSITION.INSIDE:c.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",c.style.right="auto",c.style.textAlign="left"}var u=void 0,l=t.style.margin[0].getAbsoluteValue(t.bounds.width),d=a.listStyleImage;if(d)if("url"===d.method){var h=e.ownerDocument.createElement("img");h.src=d.args[0],c.style.top=t.bounds.top-l+"px",c.style.width="auto",c.style.height="auto",c.appendChild(h)}else{var f=.5*parseFloat(t.style.font.fontSize);c.style.top=t.bounds.top-l+t.bounds.height-1.5*f+"px",c.style.width=f+"px",c.style.height=f+"px",c.style.backgroundImage=s.listStyleImage}else"number"==typeof t.listIndex&&(u=e.ownerDocument.createTextNode(y(t.listIndex,a.listStyleType,!0)),c.appendChild(u),c.style.top=t.bounds.top-l+"px");var p=e.ownerDocument.body;p.appendChild(c),u?(t.childNodes.push(i.default.fromTextNode(u,t)),p.removeChild(c)):t.childNodes.push(new A.default(c,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),l={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},d={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},h={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},f=function(e,t,n,r,A,i){return e<t||e>n?y(e,A,i.length>0):r.integers.reduce(function(t,n,A){for(;e>=n;)e-=n,t+=r.values[A];return t},"")+i},p=function(e,t,n,r){var A="";do{n||e--,A=r(e)+A,e/=t}while(e*t>=t);return A},g=function(e,t,n,r,A){var i=n-t+1;return(e<0?"-":"")+(p(Math.abs(e),i,r,function(e){return(0,a.fromCodePoint)(Math.floor(e%i)+t)})+A)},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return p(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},w=function(e,t,n,A,i,a){if(e<-9999||e>9999)return y(e,o.LIST_STYLE_TYPE.CJK_DECIMAL,i.length>0);var s=Math.abs(e),c=i;if(0===s)return t[0]+c;for(var u=0;s>0&&u<=4;u++){var l=s%10;0===l&&(0,r.contains)(a,1)&&""!==c?c=t[l]+c:l>1||1===l&&0===u||1===l&&1===u&&(0,r.contains)(a,2)||1===l&&1===u&&(0,r.contains)(a,4)&&e>100||1===l&&u>1&&(0,r.contains)(a,8)?c=t[l]+(u>0?n[u-1]:"")+c:1===l&&u>0&&(c=n[u-1]+c),s=Math.floor(s/10)}return(e<0?A:"")+c},y=t.createCounterText=function(e,t,n){var r=n?". ":"",A=n?"、":"",i=n?", ":"";switch(t){case o.LIST_STYLE_TYPE.DISC:return"•";case o.LIST_STYLE_TYPE.CIRCLE:return"◦";case o.LIST_STYLE_TYPE.SQUARE:return"◾";case o.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var a=g(e,48,57,!0,r);return a.length<4?"0"+a:a;case o.LIST_STYLE_TYPE.CJK_DECIMAL:return B(e,"〇一二三四五六七八九",A);case o.LIST_STYLE_TYPE.LOWER_ROMAN:return f(e,1,3999,u,o.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case o.LIST_STYLE_TYPE.UPPER_ROMAN:return f(e,1,3999,u,o.LIST_STYLE_TYPE.DECIMAL,r);case o.LIST_STYLE_TYPE.LOWER_GREEK:return g(e,945,969,!1,r);case o.LIST_STYLE_TYPE.LOWER_ALPHA:return g(e,97,122,!1,r);case o.LIST_STYLE_TYPE.UPPER_ALPHA:return g(e,65,90,!1,r);case o.LIST_STYLE_TYPE.ARABIC_INDIC:return g(e,1632,1641,!0,r);case o.LIST_STYLE_TYPE.ARMENIAN:case o.LIST_STYLE_TYPE.UPPER_ARMENIAN:return f(e,1,9999,l,o.LIST_STYLE_TYPE.DECIMAL,r);case o.LIST_STYLE_TYPE.LOWER_ARMENIAN:return f(e,1,9999,l,o.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case o.LIST_STYLE_TYPE.BENGALI:return g(e,2534,2543,!0,r);case o.LIST_STYLE_TYPE.CAMBODIAN:case o.LIST_STYLE_TYPE.KHMER:return g(e,6112,6121,!0,r);case o.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return B(e,"子丑寅卯辰巳午未申酉戌亥",A);case o.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return B(e,"甲乙丙丁戊己庚辛壬癸",A);case o.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case o.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return w(e,"零一二三四五六七八九","十百千萬","負",A,14);case o.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return w(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",A,15);case o.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return w(e,"零一二三四五六七八九","十百千萬","负",A,14);case o.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return w(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",A,15);case o.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return w(e,"〇一二三四五六七八九","十百千万","マイナス",A,0);case o.LIST_STYLE_TYPE.JAPANESE_FORMAL:return w(e,"零壱弐参四伍六七八九","拾百千万","マイナス",A,7);case o.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return w(e,"영일이삼사오육칠팔구","십백천만","마이너스 ",i,7);case o.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return w(e,"零一二三四五六七八九","十百千萬","마이너스 ",i,0);case o.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return w(e,"零壹貳參四五六七八九","拾百千","마이너스 ",i,7);case o.LIST_STYLE_TYPE.DEVANAGARI:return g(e,2406,2415,!0,r);case o.LIST_STYLE_TYPE.GEORGIAN:return f(e,1,19999,h,o.LIST_STYLE_TYPE.DECIMAL,r);case o.LIST_STYLE_TYPE.GUJARATI:return g(e,2790,2799,!0,r);case o.LIST_STYLE_TYPE.GURMUKHI:return g(e,2662,2671,!0,r);case o.LIST_STYLE_TYPE.HEBREW:return f(e,1,10999,d,o.LIST_STYLE_TYPE.DECIMAL,r);case o.LIST_STYLE_TYPE.HIRAGANA:return B(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case o.LIST_STYLE_TYPE.HIRAGANA_IROHA:return B(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case o.LIST_STYLE_TYPE.KANNADA:return g(e,3302,3311,!0,r);case o.LIST_STYLE_TYPE.KATAKANA:return B(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",A);case o.LIST_STYLE_TYPE.KATAKANA_IROHA:return B(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",A);case o.LIST_STYLE_TYPE.LAO:return g(e,3792,3801,!0,r);case o.LIST_STYLE_TYPE.MONGOLIAN:return g(e,6160,6169,!0,r);case o.LIST_STYLE_TYPE.MYANMAR:return g(e,4160,4169,!0,r);case o.LIST_STYLE_TYPE.ORIYA:return g(e,2918,2927,!0,r);case o.LIST_STYLE_TYPE.PERSIAN:return g(e,1776,1785,!0,r);case o.LIST_STYLE_TYPE.TAMIL:return g(e,3046,3055,!0,r);case o.LIST_STYLE_TYPE.TELUGU:return g(e,3174,3183,!0,r);case o.LIST_STYLE_TYPE.THAI:return g(e,3664,3673,!0,r);case o.LIST_STYLE_TYPE.TIBETAN:return g(e,3872,3881,!0,r);case o.LIST_STYLE_TYPE.DECIMAL:default:return g(e,48,57,!0,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toCodePoints=function(e){for(var t=[],n=0,r=e.length;n<r;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&A)<<10)+(1023&i)+65536):(t.push(A),n--)}else t.push(A)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var A=arguments.length<=n?void 0:arguments[n];A<=65535?t.push(A):(A-=65536,t.push(55296+(A>>10),A%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<r.length;i++)A[r.charCodeAt(i)]=i;t.decode=function(e){var t=.75*e.length,n=e.length,r=void 0,i=0,o=void 0,a=void 0,s=void 0,c=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),l=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)o=A[e.charCodeAt(r)],a=A[e.charCodeAt(r+1)],s=A[e.charCodeAt(r+2)],c=A[e.charCodeAt(r+3)],l[i++]=o<<2|a>>4,l[i++]=(15&a)<<4|s>>2,l[i++]=(3&s)<<6|63&c;return u},t.polyUint16Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var A=t.BORDER_STYLE={NONE:0,SOLID:1},i=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},o=Object.keys(i).map(function(e){return e.toLowerCase()});t.parseBorder=function(e){return o.map(function(t){var n=new r.default(e.getPropertyValue("border-"+t+"-color")),i=function(e){switch(e){case"none":return A.NONE}return A.SOLID}(e.getPropertyValue("border-"+t+"-style")),o=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:i,borderWidth:isNaN(o)?0:o}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var A=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},i=t.TEXT_DECORATION={NONE:null},o=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},a=function(e){switch(e){case"underline":return o.UNDERLINE;case"overline":return o.OVERLINE;case"line-through":return o.LINE_THROUGH}return o.BLINK};t.parseTextDecoration=function(e){var t=function(e){return"none"===e?null:e.split(" ").map(a)}(e.textDecorationLine?e.textDecorationLine:e.textDecoration);return null===t?i.NONE:{textDecorationLine:t,textDecorationColor:e.textDecorationColor?new r.default(e.textDecorationColor):null,textDecorationStyle:function(e){switch(e){case"double":return A.DOUBLE;case"dotted":return A.DOTTED;case"dashed":return A.DASHED;case"wavy":return A.WAVY}return A.SOLID}(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SCREEN_CURVE=1]="SCREEN_CURVE"}(t.EdgeScaleType||(t.EdgeScaleType={})),function(e){e[e.LINE=0]="LINE",e[e.BEZIER=1]="BEZIER",e[e.BEZIER2=2]="BEZIER2"}(t.EdgeType||(t.EdgeType={})),function(e){e[e.ALL=0]="ALL",e[e.PASS_Y=1]="PASS_Y",e[e.PASS_X=2]="PASS_X"}(t.EdgeBroadphase||(t.EdgeBroadphase={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(92),o=n(38),a=[],s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,a,r);else{var A=e.layer.bufferManager.add(t);o.isUniformBufferLocation(A)&&(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,A))}},t.prototype.changeInstance=function(e,t,n,r){r?e.updateInstance(e.layer,t,r):e.addInstance(e,t,a,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,r),e.layer.bufferManager.remove(t))},t.prototype.updateInstance=function(e,t,n){if(t.active){for(var r=n.buffer,i=n.range[0],o=r.value,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,d=void 0,h=0,f=e.instanceAttributes.length;h<f;++h)if(s=(a=e.instanceAttributes[h]).update(t),c=o[i+(a.block||0)],A.isResourceAttribute(a)&&e.resource.setAttributeContext(a,a.resource.type),void 0!==(u=a.blockIndex))for(l=u,d=s.length+u;l<d;++l)c[l]=s[l-u];r.value=o}else{r=n.buffer,i=n.range[0],o=r.value,a=void 0,s=void 0,c=void 0,u=void 0;if(s=(a=e.activeAttribute).update(t),c=o[i+(a.block||0)],A.isResourceAttribute(a)&&e.resource.setAttributeContext(a,a.resource.type),void 0!==(u=a.blockIndex))for(l=u,d=s.length+u;l<d;++l)c[l]=s[l-u];r.value=o}},t.prototype.commit=function(){},t.prototype.incomingChangeList=function(e){},t}(i.BaseDiffProcessor);t.UniformDiffProcessor=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A,i=n(0),o=n(92),a=n(20),s=[],c=Math.min,u=Math.max;!function(e){e[e.PARTIAL=0]="PARTIAL",e[e.FULL=1]="FULL"}(A||(A={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diffMode=A.PARTIAL,t.bufferAttributeUpdateRange={},t.bufferAttributeWillUpdate={},t.updateInstance=t.updateInstancePartial,t}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,s,r);else{var A=e.layer.bufferManager.add(t);a.isBufferLocationGroup(A)&&(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,s,A))}},t.prototype.changeInstance=function(e,t,n,r){r?e.updateInstance(e.layer,t,n,r):e.addInstance(e,t,s,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,s,r),e.layer.bufferManager.remove(t))},t.prototype.updateInstancePartial=function(e,t,n,r){var A,o,a,s,l,d,h=r.propertyToBufferLocation,f=this.bufferAttributeUpdateRange,p=e.resource;if(t.active){(0===n.length||t.reactivate)&&(n=this.bufferManager.getUpdateAllPropertyIdList());for(var g=0,B=n.length;g<B;++g)if(d=(l=(A=h[n[g]]).attribute).packUID||l.uid,i.isResourceAttribute(l)&&p.setAttributeContext(l,l.resource.type),o=l.update(t),A.buffer.value.set(o,A.range[0]),(a=f[d]||[null,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER])[0]=l,a[1]=c(A.range[0],a[1]),a[2]=u(A.range[1],a[2]),f[d]=a,A.childLocations)for(var w=0,y=(s=A.childLocations).length;w<y;++w)d=(A=s[w]).attribute.packUID||A.attribute.uid,o=A.attribute.update(t),A.buffer.value.set(o,A.range[0]),(a=f[d]||[null,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER])[0]=A.attribute,a[1]=c(A.range[0],a[1]),a[2]=u(A.range[1],a[2]),f[d]=a}else d=(l=(A=h[this.bufferManager.getActiveAttributePropertyId()]).attribute).packUID||l.uid,o=l.update(t),A.buffer.value.set(o,A.range[0]),(a=f[d]||[null,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER])[0]=l,a[1]=c(A.range[0],a[1]),a[2]=u(A.range[1],a[2]),f[d]=a;t.reactivate=!1},t.prototype.updateInstanceFull=function(e,t,n,r){var A,o,a,s,c=r.propertyToBufferLocation,u=this.bufferAttributeWillUpdate,l=e.resource;if(t.active){(0===n.length||t.reactivate)&&(n=this.bufferManager.getUpdateAllPropertyIdList());for(var d=0,h=n.length;d<h;++d)if(s=(A=c[n[d]]).attribute,i.isResourceAttribute(s)&&l.setAttributeContext(s,s.resource.type),o=s.update(t),A.buffer.value.set(o,A.range[0]),u[s.packUID||s.uid]=s,A.childLocations)for(var f=0,p=(a=A.childLocations).length;f<p;++f)o=(s=(A=a[f]).attribute).update(t),A.buffer.value.set(o,A.range[0]),u[s.packUID||s.uid]=s}else s=(A=c[this.bufferManager.getActiveAttributePropertyId()]).attribute,i.isResourceAttribute(s)&&l.setAttributeContext(s,s.resource.type),o=s.update(t),A.buffer.value.set(o,A.range[0]),u[s.packUID||s.uid]=s;t.reactivate=!1},t.prototype.commit=function(){if(this.diffMode===A.PARTIAL)for(var e=0,t=(r=Object.values(this.bufferAttributeUpdateRange)).length;e<t;++e){var n=r[e];n[0].bufferAttribute.updateRange={count:n[2]-n[1],offset:n[1]}}else{var r;for(e=0,t=(r=Object.values(this.bufferAttributeWillUpdate)).length;e<t;++e){r[e].bufferAttribute.updateRange={count:-1,offset:0}}}this.bufferAttributeUpdateRange={}},t.prototype.incomingChangeList=function(e){0===e.length?this.diffMode=A.PARTIAL:e.length>.7*this.bufferManager.getInstanceCount()?this.diffMode=A.FULL:this.diffMode=A.PARTIAL,this.diffMode===A.PARTIAL?this.updateInstance=this.updateInstancePartial:this.updateInstance=this.updateInstanceFull},t}(o.BaseDiffProcessor);t.InstanceAttributeDiffProcessor=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniformBufferInstanceBufferName="instanceData",t.activeAttributeName="_active"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.models=new Set}return e.prototype.add=function(e){this.models.add(e)},e.prototype.remove=function(e){this.models.delete(e)},e}();t.Scene=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.drawMode=function(e,t){switch(t){case r.GLSettings.Model.DrawMode.LINES:return e.LINES;case r.GLSettings.Model.DrawMode.LINE_LOOP:return e.LINE_LOOP;case r.GLSettings.Model.DrawMode.LINE_STRIP:return e.LINE_STRIP;case r.GLSettings.Model.DrawMode.POINTS:return e.POINTS;case r.GLSettings.Model.DrawMode.TRIANGLES:return e.TRIANGLES;case r.GLSettings.Model.DrawMode.TRIANGLE_FAN:return e.TRIANGLE_FAN;case r.GLSettings.Model.DrawMode.TRIANGLE_STRIP:return e.TRIANGLE_STRIP;default:return e.TRIANGLES}},t.texelFormat=function(e,t){switch(t){case r.GLSettings.Texture.TexelDataType.Alpha:return e.ALPHA;case r.GLSettings.Texture.TexelDataType.DepthComponent:return e.DEPTH_COMPONENT;case r.GLSettings.Texture.TexelDataType.DepthStencil:return e.DEPTH_STENCIL;case r.GLSettings.Texture.TexelDataType.Luminance:return e.LUMINANCE;case r.GLSettings.Texture.TexelDataType.LuminanceAlpha:return e.LUMINANCE_ALPHA;case r.GLSettings.Texture.TexelDataType.RGB:return e.RGB;case r.GLSettings.Texture.TexelDataType.RGBA:return e.RGBA;default:return console.warn("An Unsupported texel format was provided",t),e.RGBA}},t.inputImageFormat=function(e,t){switch(t){case r.GLSettings.Texture.SourcePixelFormat.Byte:return e.BYTE;case r.GLSettings.Texture.SourcePixelFormat.Float:return e.FLOAT;case r.GLSettings.Texture.SourcePixelFormat.HalfFloat:return console.warn("Unsupported HALF_FLOAT"),e.BYTE;case r.GLSettings.Texture.SourcePixelFormat.Int:return e.INT;case r.GLSettings.Texture.SourcePixelFormat.Short:return e.SHORT;case r.GLSettings.Texture.SourcePixelFormat.UnsignedByte:return e.UNSIGNED_BYTE;case r.GLSettings.Texture.SourcePixelFormat.UnsignedInt:return e.UNSIGNED_INT;case r.GLSettings.Texture.SourcePixelFormat.UnsignedShort:return e.UNSIGNED_SHORT;case r.GLSettings.Texture.SourcePixelFormat.UnsignedShort_4_4_4_4:return e.UNSIGNED_SHORT_4_4_4_4;case r.GLSettings.Texture.SourcePixelFormat.UnsignedShort_5_5_5_1:return e.UNSIGNED_SHORT_5_5_5_1;case r.GLSettings.Texture.SourcePixelFormat.UnsignedShort_5_6_5:return e.UNSIGNED_SHORT_5_6_5;default:return console.warn("An Unsupported input image format was provided",t),e.BYTE}},t.magFilter=function(e,t,n){if(!n)return e.LINEAR;switch(t){case r.GLSettings.Texture.TextureMagFilter.Linear:return e.LINEAR;case r.GLSettings.Texture.TextureMagFilter.Nearest:return e.NEAREST}},t.minFilter=function(e,t,n,A){if(!n)return e.LINEAR;switch(t){case r.GLSettings.Texture.TextureMinFilter.Linear:return e.LINEAR;case r.GLSettings.Texture.TextureMinFilter.Nearest:return e.NEAREST;case r.GLSettings.Texture.TextureMinFilter.LinearMipMapLinear:return A?e.LINEAR_MIPMAP_LINEAR:e.LINEAR;case r.GLSettings.Texture.TextureMinFilter.LinearMipMapNearest:return A?e.LINEAR_MIPMAP_NEAREST:e.LINEAR;case r.GLSettings.Texture.TextureMinFilter.NearestMipMapLinear:return A?e.NEAREST_MIPMAP_LINEAR:e.NEAREST;case r.GLSettings.Texture.TextureMinFilter.NearestMipMapNearest:return A?e.NEAREST_MIPMAP_NEAREST:e.NEAREST;default:return e.LINEAR}},t.colorBufferFormat=function(e,t){switch(t){case r.GLSettings.RenderTarget.ColorBufferFormat.RGB565:return e.RGB565;case r.GLSettings.RenderTarget.ColorBufferFormat.RGB5_A1:return e.RGB5_A1;case r.GLSettings.RenderTarget.ColorBufferFormat.RGBA4:default:return e.RGBA4}},t.depthBufferFormat=function(e,t){switch(t){case r.GLSettings.RenderTarget.DepthBufferFormat.DEPTH_COMPONENT16:return e.DEPTH_COMPONENT16;case r.GLSettings.RenderTarget.DepthBufferFormat.DEPTH_STENCIL:return e.DEPTH_STENCIL;default:return e.DEPTH_COMPONENT16}},t.stencilBufferFormat=function(e,t){switch(t){case r.GLSettings.RenderTarget.StencilBufferFormat.STENCIL_INDEX8:default:return e.STENCIL_INDEX8}},t.wrapMode=function(e,t){switch(t){case r.GLSettings.Texture.Wrapping.CLAMP_TO_EDGE:return e.CLAMP_TO_EDGE;case r.GLSettings.Texture.Wrapping.MIRRORED_REPEAT:return e.MIRRORED_REPEAT;case r.GLSettings.Texture.Wrapping.REPEAT:return e.REPEAT}},t.indexToColorAttachment=function(e,t,n,r){if(r)return e.COLOR_ATTACHMENT0;var A=t.drawBuffers;if(A instanceof WebGL2RenderingContext)switch(n){case 0:return A.COLOR_ATTACHMENT0;case 1:return A.COLOR_ATTACHMENT1;case 2:return A.COLOR_ATTACHMENT2;case 3:return A.COLOR_ATTACHMENT3;case 4:return A.COLOR_ATTACHMENT4;case 5:return A.COLOR_ATTACHMENT5;case 6:return A.COLOR_ATTACHMENT6;case 7:return A.COLOR_ATTACHMENT7;case 8:return A.COLOR_ATTACHMENT8;case 9:return A.COLOR_ATTACHMENT9;case 10:return A.COLOR_ATTACHMENT10;case 11:return A.COLOR_ATTACHMENT11;case 12:return A.COLOR_ATTACHMENT12;case 13:return A.COLOR_ATTACHMENT13;case 14:return A.COLOR_ATTACHMENT14;case 15:return A.COLOR_ATTACHMENT15}else if(A)switch(n){case 0:return A.COLOR_ATTACHMENT0_WEBGL;case 1:return A.COLOR_ATTACHMENT1_WEBGL;case 2:return A.COLOR_ATTACHMENT2_WEBGL;case 3:return A.COLOR_ATTACHMENT3_WEBGL;case 4:return A.COLOR_ATTACHMENT4_WEBGL;case 5:return A.COLOR_ATTACHMENT5_WEBGL;case 6:return A.COLOR_ATTACHMENT6_WEBGL;case 7:return A.COLOR_ATTACHMENT7_WEBGL;case 8:return A.COLOR_ATTACHMENT8_WEBGL;case 9:return A.COLOR_ATTACHMENT9_WEBGL;case 10:return A.COLOR_ATTACHMENT10_WEBGL;case 11:return A.COLOR_ATTACHMENT11_WEBGL;case 12:return A.COLOR_ATTACHMENT12_WEBGL;case 13:return A.COLOR_ATTACHMENT13_WEBGL;case 14:return A.COLOR_ATTACHMENT14_WEBGL;case 15:return A.COLOR_ATTACHMENT15_WEBGL}return e.COLOR_ATTACHMENT0},t.indexToTextureUnit=function(e,t){return e.TEXTURE0+t},t.textureUnitToIndex=function(e,t){return t-e.TEXTURE0}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONTROLLED=0]="CONTROLLED",e[e.CUSTOM=1]="CUSTOM"}(r=t.ViewCameraType||(t.ViewCameraType={}));var A=function(){return function(){this.type=r.CONTROLLED}}();t.ViewCamera=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;function A(e,t){e&&t&&e.splice.apply(e,[0,t.length].concat(t))}var i=function(){function e(e){this._id=r++,this._offset=[0,0,0],this._scale=[1,1,1],this._needsViewDrawn=!0,e&&(A(this.offset,e.offset),A(this.scale,e.scale))}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.setId=function(e){this._id=e,this._needsViewDrawn=!0},Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),e.prototype.setOffset=function(e){this._offset=e.slice(0),this._needsViewDrawn=!0},Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),e.prototype.setScale=function(e){this._scale=e,this._needsViewDrawn=!0},Object.defineProperty(e.prototype,"needsViewDrawn",{get:function(){return this._needsViewDrawn},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){this._needsViewDrawn=!1},e.prototype.update=function(){this._needsViewDrawn=!0},e}();t.ChartCamera=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getProjection=function(e){return this.mouseManager.getView(e)},e.prototype.getView=function(e){return this.mouseManager&&this.mouseManager.getView(e)||null},e.prototype.getViewScreenBounds=function(e){var t=this.mouseManager.getView(e);return t?t.screenBounds:null},e.prototype.setMouseManager=function(e){this.mouseManager=e},e}();t.EventManager=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(2),i=n(24),o=n(6),a=n(0),s=n(1),c=n(10),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.glyphRequests={},t}return r(t,e),t.prototype.initShader=function(){var e,r,A=this,o=this.props.animate||{},s=o.anchor,u=o.color,l=o.offset,d=o.origin,h={0:[0,0],1:[0,0],2:[1,0],3:[0,1],4:[1,1],5:[1,1]},f={name:"texture",resource:{key:this.props.resourceKey||"",name:"fontMap",type:a.ResourceType.FONT},update:function(e){var t=e.character;return e.request&&e.character===e.request.character||(A.glyphRequests[e.character]?e.request=A.glyphRequests[e.character]:(e.request=i.fontRequest({character:t}),A.glyphRequests[e.character]=e.request),e.request.fontMap&&e.onReady&&e.onReady(e)),e.request.fetch=i.FontResourceRequestFetch.TEXCOORDS,A.resource.request(A,e,e.request)}},p={name:"glyphSize",parentAttribute:f,resource:{key:this.props.resourceKey||"",name:"fontMap",type:a.ResourceType.FONT},size:a.InstanceAttributeSize.TWO,update:function(e){var t=e.character;return e.request&&e.character===e.request.character||(A.glyphRequests[e.character]?e.request=A.glyphRequests[e.character]:(e.request=i.fontRequest({character:t}),A.glyphRequests[e.character]=e.request),e.request.fontMap&&e.onReady&&e.onReady(e)),e.request.fetch=i.FontResourceRequestFetch.IMAGE_SIZE,A.resource.request(A,e,e.request)}};switch(f.childAttributes=[p],this.props.scaleMode||c.ScaleMode.ALWAYS){case c.ScaleMode.BOUND_MAX:e=n(158),r=n(157);break;case c.ScaleMode.NEVER:e=n(156),r=n(155);break;case c.ScaleMode.ALWAYS:default:e=n(154),r=n(153)}return{fs:e,instanceAttributes:[{easing:u,name:t.attributeNames.color,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.color}},{name:t.attributeNames.depth,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{name:"fontScale",size:a.InstanceAttributeSize.ONE,update:function(e){return[e.fontScale]}},{easing:s,name:t.attributeNames.anchor,size:a.InstanceAttributeSize.TWO,update:function(e){return e.anchor}},{easing:d,name:t.attributeNames.origin,size:a.InstanceAttributeSize.TWO,update:function(e){return e.origin}},{easing:l,name:t.attributeNames.offset,size:a.InstanceAttributeSize.TWO,update:function(e){return e.offset}},{name:"padding",size:a.InstanceAttributeSize.TWO,update:function(e){return e.padding}},{name:"maxScale",size:a.InstanceAttributeSize.ONE,update:function(e){return[e.maxScale]}},p,f],uniforms:[],vertexAttributes:[{name:"normals",size:a.VertexAttributeSize.TWO,update:function(e){return h[e]}}],vertexCount:6,vs:r}},t.prototype.getMaterialOptions=function(){return Object.assign({},s.CommonMaterialOptions.transparentImageBlending,a.createMaterialOptions({depthTest:!1}))},t.defaultProps={key:"",data:new A.InstanceProvider,resourceKey:"No resource specified",scene:"default"},t.attributeNames={color:"color",depth:"depth",anchor:"anchor",origin:"origin",offset:"offset"},t}(o.Layer);t.GlyphLayer=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.anchor=[0,0],n.character="a",n.color=[1,1,1,1],n.depth=0,n.fontScale=1,n.maxScale=1,n.offset=[0,0],n.origin=[0,0],n.padding=[0,0],n.origin=t.origin||n.origin,n.offset=t.offset||n.offset,n.character=t.character||n.character,n.color=t.color||n.color,n.maxScale=t.maxScale||n.maxScale,n.padding=t.padding||n.padding,n.anchor=t.anchor||n.anchor,n.onReady=t.onReady,n}return r(t,e),t.prototype.clone=function(){var e=new t(this);e.onReady=this.onReady,e.request=this.request},t.prototype.resourceTrigger=function(){this.offset=this.offset,this.origin=this.origin,this.character=this.character,this.color=this.color,this.onReady&&this.onReady(this)},A([i.observable],t.prototype,"anchor",void 0),A([i.observable],t.prototype,"character",void 0),A([i.observable],t.prototype,"color",void 0),A([i.observable],t.prototype,"depth",void 0),A([i.observable],t.prototype,"fontScale",void 0),A([i.observable],t.prototype,"maxScale",void 0),A([i.observable],t.prototype,"offset",void 0),A([i.observable],t.prototype,"origin",void 0),A([i.observable],t.prototype,"padding",void 0),t}(i.Instance);t.GlyphInstance=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),A=n(106),i=n(165);function o(e,t){return t.data.depth-e.data.depth}function a(e){return Boolean(e)}var s=function(){function e(e,t,n,r){var A=this;this.eventCleanup=[],this._waitingForRender=!0,this.getViewsUnderMouse=function(e){var t=A.quadTree.query(e);return t.sort(o),t},this.resize=function(){A._waitingForRender=!0},this.context=e,this.setViews(t),this.setControllers(n),this.addContextListeners(r)}return Object.defineProperty(e.prototype,"waitingForRender",{get:function(){return this._waitingForRender},set:function(e){this._waitingForRender=e,e||(this.quadTree=new i.QuadTree(0,0,0,0),this.quadTree.addAll(this.views.map(function(e){return e.bounds}).filter(a)))},enumerable:!0,configurable:!0}),e.prototype.addContextListeners=function(e){var t,n=this,i=this.context,o=[0,0];if(e){var a=function(e){var r=A.eventElementPosition(e,i),a=n.makeInteraction(r,o,t),s=n.makeWheel(e);n.controllers.forEach(function(e){e.handleWheel(a,s)}),e.stopPropagation(),e.preventDefault()};"onwheel"in i&&(i.onwheel=a),"addEventListener"in i&&(i.addEventListener("DOMMouseScroll",a),this.eventCleanup.push(["DOMMouseScroll",a]))}i.onmouseleave=function(e){if(!n.waitingForRender){var r=A.eventElementPosition(e,i),a=n.makeInteraction(r,o,t);n.controllers.forEach(function(e){e.handleMouseOut(a)})}},i.onmousemove=function(e){if(!n.waitingForRender){var r=A.eventElementPosition(e,i),a=n.makeInteraction(r,o,t);n.controllers.forEach(function(e){e.handleMouseMove(a)})}},i.onmousedown=function(e){if(!n.waitingForRender){o=A.eventElementPosition(e,i);var a=n.getViewsUnderMouse(o),s=!0,c=Date.now();if(!(a.length<=0)&&(t=a[0].data)){var u=n.makeInteraction(o,o,t),l=o;n.controllers.forEach(function(t){t.handleMouseDown(u,e.button)}),e.stopPropagation(),document.onmousemove=function(e){var a=A.eventElementPosition(e,i),c=n.makeInteraction(a,o,t),u=r.subtract2(a,l),d=n.makeDrag(a,o||{x:0,y:0},l,u);l=a,n.controllers.forEach(function(e){e.handleDrag(c,d)}),s=!1},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,document.onmouseover=null},document.onmouseover=function(e){var r=A.eventElementPosition(e,i),a=n.makeInteraction(r,o,t);n.controllers.forEach(function(e){e.handleMouseOver(a)}),e.stopPropagation()},i.onmouseup=function(e){var r=A.eventElementPosition(e,i),a=n.makeInteraction(r,o,t);n.controllers.forEach(function(t){t.handleMouseUp(a,e.button)}),s&&Date.now()-c<1e3&&n.controllers.forEach(function(t){t.handleClick(a,e.button)})};var d=i;void 0!==d.onselectstart?d.onselectstart=function(){return!1}:i.addEventListener("selectstart",function(){e.preventDefault()})}}},this.addTouchContextListeners()},e.prototype.addTouchContextListeners=function(){var e=this.context;e.ontouchstart=function(e){},e.ontouchend=function(e){},e.ontouchmove=function(e){},e.ontouchcancel=function(e){}},e.prototype.getView=function(e){for(var t=0,n=this.views;t<n.length;t++){var r=n[t];if(r.view.id===e)return r.view}return null},e.prototype.makeDrag=function(e,t,n,r){return{screen:{current:e,delta:r,previous:n,start:t}}},e.prototype.makeInteraction=function(e,t,n){var r=this.getViewsUnderMouse(e);return{screen:{mouse:e},start:t&&n&&{mouse:n.view.screenToView(e),view:n.view},target:{mouse:r[0]&&r[0].data.view.screenToView(e),view:r[0]&&r[0].data.view},viewsUnderMouse:r.map(function(t){return{mouse:t.data.view.screenToView(e),view:t.data.view}})}},e.prototype.makeWheel=function(e){var t=A.normalizeWheel(e);return{wheel:[t.pixelX,t.pixelY]}},e.prototype.setControllers=function(e){this.controllers=e;for(var t=0,n=this.controllers;t<n.length;t++){n[t].setMouseManager(this)}},e.prototype.setViews=function(e){this.views=e},e.prototype.destroy=function(){var e=this;delete this.quadTree,this.context.onmousedown=null,this.context.onmousemove=null,this.context.onmouseleave=null;var t=this.context;t.onmousewheel&&(t.onmousewheel=null),this.eventCleanup.forEach(function(t){e.context.removeEventListener(t[0],t[1])})},e}();t.MouseEventManager=s},function(e,t,n){"use strict";var r,A;Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(0),a=((r={})[o.UniformSize.ONE]=i.MaterialUniformType.FLOAT,r[o.UniformSize.TWO]=i.MaterialUniformType.VEC2,r[o.UniformSize.THREE]=i.MaterialUniformType.VEC3,r[o.UniformSize.FOUR]=i.MaterialUniformType.VEC4,r[o.UniformSize.MATRIX3]=i.MaterialUniformType.MATRIX3x3,r[o.UniformSize.MATRIX4]=i.MaterialUniformType.MATRIX4x4,r[o.UniformSize.ATLAS]=i.MaterialUniformType.TEXTURE,r),s=((A={})[o.UniformSize.ONE]=[0],A[o.UniformSize.TWO]=[0,0],A[o.UniformSize.THREE]=[0,0,0],A[o.UniformSize.FOUR]=[0,0,0,0],A[o.UniformSize.MATRIX3]=[0,0,0,0,0,0,0,0,0],A[o.UniformSize.MATRIX4]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A);function c(e){return{type:a[e.size],value:s[e.size]}}t.generateLayerMaterial=function(e,t,n,r,A){var o=e.getMaterialOptions();Object.assign(o,e.props.materialOptions||{}),o.vertexShader=t,o.fragmentShader=n,o.name=e.id,o.uniforms={};for(var a=0,s=r.length;a<s;++a){var u=r[a],l=c(u);o.uniforms[u.name]=l}for(a=0,s=A.length;a<s;++a){var d=A[a];o.uniforms[d.name]={type:d.type,value:d.value}}return new i.Material(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),A=n(16);function i(e){return!Array.isArray(e[0])}t.generateLayerGeometry=function(e,t,n,o){var a=[];e.bufferType!==A.LayerBufferType.INSTANCE_ATTRIBUTE&&e.bufferType!==A.LayerBufferType.INSTANCE_ATTRIBUTE_PACKING||(t=1);for(var s=0,c=n.length;s<c;++s){var u=n[s];a.push(new Float32Array(u.size*o*t))}var l,d,h,f=n.length,p=!1;for(s=0,c=o;s<c;++s)for(var g=0;g<f;++g)if(d=n[g],l=a[g],i(h=d.update(s)))for(var B=s*d.size,w=B+d.size,y=0;B<w;++B,++y)l[B]=h[y];else p=!0;for(p&&console.warn("A vertex buffer updating method should not use arrays of arrays of numbers."),s=0,c=n.length;s<c;++s)for(var v=n[s].size*o,b=(g=1,t);g<b;++g)a[s].copyWithin(v*g,0,v);if(e.bufferType===A.LayerBufferType.UNIFORM){var m=a[0];for(s=0,c=t;s<c;++s){var E=s*o;for(g=0;g<o;++g)m[g+E]=s}}var C=new r.Geometry;for(s=0,c=n.length;s<c;++s){var U=n[s],T=new r.Attribute(a[s],U.size);U.materialAttribute=T,C.addAttribute(U.name,T)}return C}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,A=n(105),i=n(4);function o(e){return e.projectionOptions.type===r.ORTHOGRAPHIC&&"left"in e.projectionOptions}function a(e){return e.projectionOptions.type===r.PERSPECTIVE&&"fov"in e.projectionOptions}!function(e){e[e.PERSPECTIVE=0]="PERSPECTIVE",e[e.ORTHOGRAPHIC=1]="ORTHOGRAPHIC"}(r=t.CameraProjectionType||(t.CameraProjectionType={})),t.isOrthographic=o,t.isPerspective=a;var s=function(){function e(e){this._projection=A.identity4(),this._view=A.identity4(),this._needsUpdate=!1,this._position=[0,0,0],this._scale=[1,1,1],this._rotation=[0,0,0],this._projectionOptions=e,this._needsUpdate=!0,this.update()}return Object.defineProperty(e.prototype,"projectionType",{get:function(){return this._projectionOptions.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this._projection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needsUpdate",{get:function(){return this._needsUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return i.copy3(this._position)},set:function(e){this._position=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return i.copy3(this._scale)},set:function(e){this._scale=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return i.copy3(this._rotation)},set:function(e){this._rotation=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projectionOptions",{get:function(){return Object.assign({},this._projectionOptions)},set:function(e){this._projectionOptions=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),e.prototype.update=function(e){(this._needsUpdate||e)&&(this.updateProjection(),this.updateTransform())},e.prototype.updateProjection=function(){o(this)?this._projection=A.orthographic4x4(this.projectionOptions.left,this.projectionOptions.right,this.projectionOptions.bottom,this.projectionOptions.top,this.projectionOptions.near,this.projectionOptions.far):a(this)&&(this._projection=A.perspective4x4(this.projectionOptions.fov,this.projectionOptions.width/this.projectionOptions.height,this.projectionOptions.near,this.projectionOptions.far))},e.prototype.updateTransform=function(){this._view=A.multiply4x4(A.scale4x4by3(this._scale),A.translation4x4by3(this._position))},e}();t.Camera=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),A=n(56),i=n(55),o=n(41),a=n(40);t.generateDefaultScene=function(e){var t=e.canvas.height,n=e.canvas.width,s={aspectRatio:n/t,bottom:-t/2,far:1e7,left:-n/2,near:-100,right:n/2,top:t/2,viewSize:t},c=new i.ViewCamera;c.baseCamera=new r.Camera({type:r.CameraProjectionType.ORTHOGRAPHIC,left:s.left,right:s.right,top:s.top,bottom:s.bottom,near:s.near,far:s.far}),c.baseCamera.scale=[1,-1,1],c.baseCamera.position=[0,0,-300],c.baseCamera.update();var u=new A.ChartCamera,l={bottom:0,left:0,right:0,top:0},d=new a.View({camera:u,key:a.View.DEFAULT_VIEW_ID,viewCamera:c,viewport:l}),h=new o.LayerScene({key:o.LayerScene.DEFAULT_SCENE_ID,views:[]});return h.addView(d),{camera:u,scene:h,view:d,viewCamera:c,viewport:l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="Once a ShaderModuleUnit has been registered, you CAN NOT modify it! Module ID:",A=function(){function e(e){this._dependents=null,Object.assign(this,e)}return Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(e){this._isLocked?console.warn(r,this._moduleId):this._content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compatibility",{get:function(){return this._compatibility},set:function(e){this._isLocked?console.warn(r,this._moduleId):this._compatibility=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependents",{get:function(){return this._dependents},set:function(e){this._isLocked&&null!==this._dependents?console.warn(r,this._moduleId):this._dependents=e},enumerable:!0,configurable:!0}),e.prototype.isLocked=function(){return this._isLocked},Object.defineProperty(e.prototype,"moduleId",{get:function(){return this._moduleId},set:function(e){this._isLocked?console.warn(r,this._moduleId):this._moduleId=e},enumerable:!0,configurable:!0}),e.prototype.applyAnalyzedContent=function(e){this._isLocked&&null!==this.dependents?console.warn(r,this._moduleId):this._content=e},e.prototype.lock=function(){this._isLocked=!0},e}();t.ShaderModuleUnit=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),A=n(1),i=n(65),o=n(3)("performance"),a=n(3)("shader-module-vs"),s=n(3)("shader-module-fs");function c(e,t){return Boolean(e)&&(e.compatibility===t||e.compatibility===r.ShaderInjectionTarget.ALL)}var u=function(){function e(){}return e.register=function(t){if(!(t instanceof i.ShaderModuleUnit)){if(Array.isArray(t)){var n="";return t.forEach(function(t){var r=e.register(t);r&&(n+=r+"\n")}),n||null}return e.register(new i.ShaderModuleUnit(t))}var A=e.modules.get(t.moduleId);A||(A={},e.modules.set(t.moduleId,A));var a=A.fs,s=A.vs,u=c(t,r.ShaderInjectionTarget.FRAGMENT),l=c(t,r.ShaderInjectionTarget.VERTEX);if(a&&u){if(a.isFinal)return"Module ID: "+t.moduleId+" Can not override the module's existing Fragment registration as the exisitng module is marked as final";o("A Shader Module Unit has overridden an existing module for the Fragment Shader Module ID: %o",t.moduleId)}if(s&&l){if(s.isFinal)return"Module ID: "+t.moduleId+" Can not override the module's existing Vertex registration as the exisitng module is marked as final";o("A Shader Module Unit has overridden an existing module for the Vertex Shader Module ID: %o",t.moduleId)}return u&&(A.fs=t),l&&(A.vs=t),t.lock(),null},e.analyzeDependents=function(t){if(t.dependents&&t.isLocked)return[];var n=[],i=[],o=new Set,a=t.compatibility,s=t.moduleId,c=A.shaderTemplate({options:{},shader:t.content,onToken:function(t){var A=t.trim();if(0===A.indexOf("import")){var c=A.substr("import".length).trim();if(":"===c[0]){var u=!1,l=c.substr(":".length).trim().split(",");return 0===l[l.length-1].trim().length&&l.pop(),l.forEach(function(t){t=t.trim();var A=e.modules.get(t);A?(a!==r.ShaderInjectionTarget.FRAGMENT&&a!==r.ShaderInjectionTarget.ALL||(A.fs?(u=!0,o.has(t)||i.push(t)):n.push("Could not find requested target fragment module for Module ID: "+t+" requested by module: "+s)),a!==r.ShaderInjectionTarget.VERTEX&&a!==r.ShaderInjectionTarget.ALL||(A.vs?(u=!0,o.has(t)||i.push(t)):n.push("Could not find requested target vertex module for Module ID: "+t+" requested by module: "+s)),A.vs||A.fs||n.push("Could not find a vertex or fragment shader within exisitng module"),u||n.push("Error Processing module Module ID: "+t+" requested by module: "+s)):n.push("Could not find requested module: "+t+" requested by module: "+s)}),""}}return"${"+t+"}"}});return t.applyAnalyzedContent(c.shader),t.dependents=i,n},e.process=function(t,n,A,o){var c=new Set,u=new Set,l=[],d=[],h=A===r.ShaderInjectionTarget.VERTEX?a:s;h("Processing Shader for id %o:",t);var f=n;if(o){var p="";o.forEach(function(e){return p+="${import: "+e+"}\n"}),f=p+n}var g=new i.ShaderModuleUnit({content:f,compatibility:A,moduleId:'Layer "'+t+'" '+(A===r.ShaderInjectionTarget.ALL?"fs vs":A===r.ShaderInjectionTarget.VERTEX?"vs":"fs")});return{errors:d,shader:function t(n){var i=n.moduleId;if(!function(e){var t=e.moduleId;h("%o: %o",t,l.slice(0).reverse().join(" -> "));var n=l.indexOf(t);if(l.unshift(t),n>-1){var r=l.slice(0,n+2).reverse();return d.push("A Shader has detected a Circular dependency in import requests: "+r.join(" -> ")),l.shift(),!1}return!0}(n))return null;if(i&&u.has(i))return l.shift(),"";var o="";e.analyzeDependents(n).forEach(function(e){return d.push(e)});var a=n.dependents;if(a&&a.length>0)for(var s=0,f=a.length;s<f;++s){var p=a[s],g=e.modules.get(p);if(g){var B=void 0;A!==r.ShaderInjectionTarget.FRAGMENT&&A!==r.ShaderInjectionTarget.ALL||(g.fs?(c.add(g.fs),B=t(g.fs)):d.push("Could not find requested target fragment module for Module ID: "+p+" requested by module: "+i)),A!==r.ShaderInjectionTarget.VERTEX&&A!==r.ShaderInjectionTarget.ALL||(g.vs?(c.add(g.vs),B=t(g.vs)):d.push("Could not find requested target vertex module for Module ID: "+p+" requested by module: "+i)),g.vs||g.fs||d.push("Could not find a vertex or fragment shader within exisitng module"),null===B&&d.push("Error Processing module Module ID: "+p+" requested by module: "+i),o+=B||""}else d.push("Could not find requested module: "+p+" requested by module: "+i)}return l.shift(),u.add(i||""),o.trim()+"\n\n"+n.content.trim()}(g),shaderModuleUnits:c}},e.modules=new Map,e}();t.ShaderModule=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),A=n(175);function i(e){return Boolean(e)}function o(e){return Boolean(e)}function a(e){return Boolean(e)}function s(e){return Object.assign({},e,{materialAttribute:null})}function c(e){return Object.assign({},e,{materialUniforms:[]})}t.injectShaderIO=function(e,t,n,u,l,d){!function(e,t,n){if(n){var r=t.instanceAttributes||[],A=t.uniforms||[],i=t.vertexAttributes||[];n.shaderModuleUnits.forEach(function(t){t.instanceAttributes&&(r=r.concat(t.instanceAttributes(e))),t.uniforms&&(A=A.concat(t.uniforms(e))),t.vertexAttributes&&(i=i.concat(t.vertexAttributes(e)))});var o=new Set,a=new Set,s=new Set;A.filter(function(e){return!!e&&(o.has(e.name)?(console.warn("Included shader modules has introduced duplicate uniform names:",e.name,"One will be overridden thus causing a potential crash of the shader."),!1):(o.add(e.name),!0))}),r.filter(function(e){return!!e&&(a.has(e.name)?(console.warn("Included shader modules has introduced duplicate Instance Attribute names:",e.name,"One will be overridden thus causing a potential crash of the shader."),!1):(a.add(e.name),!0))}),i.filter(function(e){return!!e&&(s.has(e.name)?(console.warn("Included shader modules has introduced duplicate Vertex Attribute names:",e.name,"One will be overridden thus causing a potential crash of the shader."),!1):(s.add(e.name),!0))}),t.instanceAttributes=r,t.uniforms=A,t.vertexAttributes=i}}(t,n,d);for(var h=(n.instanceAttributes||[]).filter(i),f=(n.vertexAttributes||[]).filter(o),p=(n.uniforms||[]).filter(a),g=0,B=u.length;g<B;++g){var w=u[g];if(w.validate(t,h,f,p)){var y=w.expand(t,h,f,p);y.instanceAttributes.filter(i).forEach(function(e){return h.push(e)}),y.vertexAttributes.filter(o).forEach(function(e){return f.push(e)}),y.uniforms.filter(a).forEach(function(e){return p.push(e)})}}!function(e,t,n,r){t.forEach(function(r){void 0===r.name&&console.warn("All instance attributes MUST have a name on Layer:",e.id),t.find(function(e){return e!==r&&e.name===r.name})&&console.warn("An instance attribute can not have the same name used more than once:",r.name),n.find(function(e){return e.name===r.name})&&console.warn("An instance attribute and a vertex attribute in a layer can not share the same name:",r.name),r.resource||void 0===r.size&&(console.warn("An instance attribute requires the size to be defined."),console.warn(r))})}(t,h,f);var v=h.slice(0),b=(f||[]).map(s),m=p.map(c);return v.sort(l.sortInstanceAttributes),m.sort(l.sortUniforms),b.sort(l.sortVertexAttributes),A.packAttributes(v),r.getLayerBufferType(e,t,f,v),{instanceAttributes:v,uniforms:m,vertexAttributes:b}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var A=n(0);t.atlasRequest=function(e){return r({type:A.ResourceType.ATLAS,source:""},e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(37),c=n(43),u=n(71),l=n(19),d=n(44),h=function(e){function t(t){var n=e.call(this)||this;return n.resources=new Map,n.targetAtlas="",n.requestQueue=new Map,n.requestLookup=new Map,n.atlasManager=t&&t.atlasManager||new u.AtlasManager,n}return r(t,e),t.prototype.dequeueRequests=function(){return A(this,void 0,void 0,function(){var e,t,n,r,A,o,s,c,u;return i(this,function(l){switch(l.label){case 0:e=!1,t=[],this.requestQueue.forEach(function(e,n){t.push([n,e])}),this.requestQueue.clear(),n=function(t,n){var A,o;return i(this,function(i){switch(i.label){case 0:return n.length>0?(e=!0,A=n.slice(0),n.length=0,[4,r.atlasManager.updateAtlas(t,A)]):[3,2];case 1:i.sent(),(o=r.requestLookup.get(t))&&A.forEach(function(e){var t=o.get(e);if(o.delete(e),t&&!e.disposeResource){for(var n=0,r=t.length;n<r;++n){var A=t[n],i=A[0],s=A[1];i.managesInstance(s)&&(s.active=!0)}a.nextFrame(function(){for(var e=new Set,n=0,r=t.length;n<r;++n){var A=t[n][1];e.has(A)||(e.add(A),A.active=!0,A.resourceTrigger())}})}}),i.label=2;case 2:return[2]}})},r=this,A=0,o=t,l.label=1;case 1:return A<o.length?(s=o[A],c=s[0],u=s[1],[5,n(c,u)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2,e]}})})},t.prototype.destroy=function(){this.atlasManager.destroy()},t.prototype.getAtlasTexture=function(e){var t=this.atlasManager.getAtlasTexture(e);return t?t.texture:null},t.prototype.getResource=function(e){return this.resources.get(e)||null},t.prototype.getIOExpansion=function(){return[new d.TextureIOExpansion(o.ResourceType.ATLAS,this)]},t.prototype.initResource=function(e){return A(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return c.isAtlasResource(e)?[4,this.atlasManager.createAtlas(e)]:[3,2];case 1:t=n.sent(),this.resources.set(e.key,t),n.label=2;case 2:return[2]}})})},t.prototype.request=function(e,t,n,r){var A=this.targetAtlas||r&&r.resource.key||"",i=n.texture;if(i)return l.subTextureIOValue(i);var o=this.requestLookup.get(A);if(o){var a=o.get(n);if(a)return a.push([e,t]),t.active=!1,l.subTextureIOValue(i)}else o=new Map,this.requestLookup.set(A,o);n.disposeResource||(t.active=!1);var s=this.requestQueue.get(A);return s||(s=[],this.requestQueue.set(A,s)),s.push(n),o.set(n,[[e,t]]),l.subTextureIOValue(i)},t.prototype.setAttributeContext=function(e){this.targetAtlas=e.resource.key},t}(s.BaseResourceManager);t.AtlasResourceManager=h},function(e,t,n){"use strict";var r,A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.awaitContext=function(){return A(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return r?[3,2]:(this.getContext(),[4,new Promise(function(e){return setTimeout(e,10)})]);case 1:return e.sent(),[3,0];case 2:return[2]}})})},e.getContext=function(){r||(r=document.createElement("canvas").getContext("2d"))},e.calculateImageSize=function(e){return A(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.awaitContext()];case 1:return t.sent(),r?0===e.width||0===e.height?(console.warn("Images provided shoud have valid dimensions! Please ensure the image is loaded first."),[2]):(r.canvas.width=100,r.canvas.height=100,r.drawImage(e,0,0,1,1),[2,[e.width,e.height]]):(console.warn("The Image rasterizer was unable to establish a valid canvas context. Please ensure the system supports contexts and ensure the document is ready first."),[2])}})})},e.resizeImage=function(t,n){return A(this,void 0,void 0,function(){var A;return i(this,function(i){switch(i.label){case 0:return[4,this.awaitContext()];case 1:return i.sent(),r?0===t.width||0===t.height?(console.warn("Images provided shoud have valid dimensions! Please ensure the image is loaded first."),[2,t]):(r.canvas.width=Math.floor(t.width*n),r.canvas.height=Math.floor(t.height*n),t instanceof ImageData?r.putImageData(t,0,0,0,0,r.canvas.width,r.canvas.height):r.drawImage(t,0,0,r.canvas.width,r.canvas.height),(A=new Image).src=r.canvas.toDataURL("image/png"),[4,e.calculateImageSize(A)]):(console.warn("The Image rasterizer was unable to establish a valid canvas context. Please ensure the system supports contexts and ensure the document is ready first."),[2,t]);case 2:return i.sent(),[2,A]}})})},e}();t.ImageRasterizer=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(70),s=n(43),c=n(23),u=n(19),l=n(3)("performance"),d={aspectRatio:0,atlasBL:[0,0],atlasBR:[0,0],textureReferenceID:"",texture:null,atlasTL:[0,0],atlasTR:[0,0],heightOnAtlas:0,isValid:!1,pixelHeight:0,pixelWidth:0,widthOnAtlas:0};var h=function(){function e(){this.allAtlas=new Map}return e.prototype.createAtlas=function(e){return A(this,void 0,void 0,function(){var t;return i(this,function(n){return t=new s.Atlas(e),this.allAtlas.set(t.id,t),l("Atlas Created-> %o",t),[2,t]})})},e.prototype.destroy=function(){this.allAtlas.forEach(function(e){return e.destroy()})},e.prototype.destroyAtlas=function(e){var t=this.allAtlas.get(e);t&&t.destroy()},e.prototype.setDefaultImage=function(e,t){return e=Object.assign(e,d,{atlasReferenceID:t})},e.prototype.draw=function(e,t){return A(this,void 0,void 0,function(){var n,A,a,s,d,h,f;return i(this,function(i){switch(i.label){case 0:return n=e.id,t.disposeResource?[2,!0]:e.resourceReferences.get(t.source)?[2,!0]:(t.texture=t.texture||new u.SubTexture,t.texture.isValid=!0,e.resourceReferences.set(t.source,{subtexture:t.texture,count:0}),[4,this.loadImage(t)]);case 1:return A=i.sent(),a=t.texture,A&&function(e){return!!(e&&e.isValid&&e.pixelWidth&&e.pixelHeight)}(a)?(s=new o.Bounds({bottom:a.pixelHeight,left:0,right:a.pixelWidth,top:0}),(d={data:a,bounds:s}).bounds.width+=1,d.bounds.height+=1,h=e.packing,(f=h.insert(d))||(this.repackResources(e),h=e.packing,f=h.insert(d)),f?(f.data=a,c.PackNode.applyToSubTexture(h,f,a,{top:0,left:0,right:1,bottom:1}),e.texture.update(A,r({},f.bounds,{y:e.height-f.bounds.y-f.bounds.height})),[2,!0]):(console.error("Could not fit resource into atlas",t),t.texture=this.setDefaultImage(a,n),[2,!1])):(a&&!a.isValid?l("Resource was invalidated during load:",t):console.error("Could not load resource:",t),t.texture&&(t.texture=this.setDefaultImage(t.texture,n)),[2,!1])}})})},e.prototype.getAtlasTexture=function(e){return this.allAtlas.get(e)},e.prototype.loadImage=function(e){return A(this,void 0,void 0,function(){var t,n,r,A;return i(this,function(i){switch(i.label){case 0:return t=e.texture||new u.SubTexture,n=e.source,e.texture=t,!1===e.texture.isValid?[2,null]:n instanceof HTMLImageElement?[4,new Promise(function(e){if(n instanceof HTMLImageElement){var r=n;if(r.width&&r.height)return a.ImageRasterizer.calculateImageSize(r),t.pixelWidth=r.width,t.pixelHeight=r.height,t.aspectRatio=r.width/r.height,void e(r);r?(r.onload=function(){t.pixelWidth=r.width,t.pixelHeight=r.height,t.aspectRatio=r.width/r.height,e(r)},r.onerror=function(){e(null)}):e(null)}})]:[3,4];case 1:return(A=i.sent())&&void 0!==e.rasterizationScale&&1!==e.rasterizationScale?[4,a.ImageRasterizer.resizeImage(A,e.rasterizationScale||1)]:[3,3];case 2:A=i.sent(),i.label=3;case 3:return[2,A];case 4:return n instanceof HTMLVideoElement?(console.warn("System does not support HTMLVideoElements yet"),[3,12]):[3,5];case 5:return"string"!=typeof n?[3,9]:(r=n,[4,new Promise(function(e){var n=new Image;n.onload=function(){t.pixelWidth=n.width,t.pixelHeight=n.height,t.aspectRatio=n.width/n.height,e(n)},n.onerror=function(){e(null)},n.src=r})]);case 6:return(A=i.sent())&&void 0!==e.rasterizationScale&&1!==e.rasterizationScale?[4,a.ImageRasterizer.resizeImage(A,e.rasterizationScale||1)]:[3,8];case 7:A=i.sent(),i.label=8;case 8:return[3,12];case 9:return(A=n)&&void 0!==e.rasterizationScale&&1!==e.rasterizationScale?[4,a.ImageRasterizer.resizeImage(A,e.rasterizationScale||1)]:[3,11];case 10:A=i.sent(),i.label=11;case 11:return[2,A];case 12:return[2,null]}})})},e.prototype.repackResources=function(e){return console.warn("Atlas is attempting repacking, but the method to do so has not been implmented yet."),!0},e.prototype.updateAtlas=function(e,t){return A(this,void 0,void 0,function(){var n,r,A,o,a;return i(this,function(i){switch(i.label){case 0:if(!(n=this.allAtlas.get(e)))return[3,2];for(r=[],A=0,o=t.length;A<o;++A)(a=t[A]).disposeResource||r.push(this.draw(n,a));return[4,Promise.all(r)];case 1:for(i.sent(),A=0,o=t.length;A<o;++A)(a=t[A]).disposeResource?n.stopUsingResource(a):n.useResource(a);return n.resolveResources(),[3,3];case 2:console.warn("Can not update non-existing atlas:",e,"These resources will not be loaded:",t),i.label=3;case 3:return[2,n]}})})},e}();t.AtlasManager=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TEXCOORDS=0]="TEXCOORDS",e[e.IMAGE_SIZE=1]="IMAGE_SIZE"}(t.FontResourceRequestFetch||(t.FontResourceRequestFetch={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3)("performance"),A=function(){function e(){}return e.prototype.setDeclaration=function(e,t,n,A){e.get(t)&&r("%s: Overriding declaration %s\nSetting new value: %s",A||"Expand IO Declarations",t,n),e.set(t,n)},e}();t.BaseShaderIOInjection=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,A=Math.min,i=Math.max,o=document.createElement("canvas");t.renderGlyph=function(e,t,n,a){if(e=e[0],(o.width<t||o.height<n)&&(o.width=t,o.height=n),!r){var s=o.getContext("2d");if(!s)return null;r=s}r.clearRect(0,0,o.width,o.height),r.font=a,r.fillStyle="white",r.fillText(e,t/2,n/2);var c=function(e){for(var t=e.canvas,n=t.width,r=t.height,o=e.getImageData(0,0,n,r).data,a=!1,s=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,d=0;d<n;++d)for(var h=0;h<r;++h)o[h*(4*n)+4*d]>0&&(a=!0,s=A(s,h),c=A(c,d),u=i(u,d),l=i(l,h));return a?(l+=2,u+=2,c-=1,s=i(s-=1,0),{minX:c=i(c,0),minY:s,maxX:u,maxY:l}):null}(r);if(!c)return{data:r.getImageData(0,0,1,1),size:[0,0]};var u=c.maxX-c.minX,l=c.maxY-c.minY;return{data:r.getImageData(c.minX,c.minY,u,l),size:[u,l]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32));t.Proxy=function(e,t){if(!t.proxy)return Promise.reject(null);var n=t.proxy;return new Promise(function(A,i){var o=r.default.SUPPORT_CORS_XHR&&r.default.SUPPORT_RESPONSE_TYPE?"blob":"text",a=r.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(a.onload=function(){if(a instanceof XMLHttpRequest)if(200===a.status)if("text"===o)A(a.response);else{var e=new FileReader;e.addEventListener("load",function(){return A(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(a.response)}else i("");else A(a.responseText)},a.onerror=i,a.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t.imageTimeout){var s=t.imageTimeout;a.timeout=s,a.ontimeout=function(){return i("")}}a.send()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(17);t.FontMetrics=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={},this._document=t}return r(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;if(!i)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",i.appendChild(t),n.src=A.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(r),t.appendChild(n);var o=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:o,middle:a}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(190);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});!function(e){e&&e.__esModule}(n(18));var A=n(83);t.breakWords=function(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===A.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],o=void 0;!(o=n.next()).done;)i.push(o.value.slice());return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t}return r(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=i(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return o(n).then(function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas})}}]),e}();t.default=A;var i=t.createForeignObjectSVG=function(e,t,n,r,A){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",t),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",r),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(A),o},o=t.loadSerializedSVG=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var r=n(11),A=n(48),i=function(e){return e&&e.__esModule?e:{default:e}}(n(32)),o=n(77);var a=t.TextBounds=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.bounds=n},s=(t.parseTextBounds=function(e,t,n){for(var r=0!==t.style.letterSpacing?(0,o.toCodePoints)(e).map(function(e){return(0,o.fromCodePoint)(e)}):(0,o.breakWords)(e,t),u=r.length,l=n.parentNode?n.parentNode.ownerDocument.defaultView:null,d=l?l.pageXOffset:0,h=l?l.pageYOffset:0,f=[],p=0,g=0;g<u;g++){var B=r[g];if(t.style.textDecoration!==A.TEXT_DECORATION.NONE||B.trim().length>0)if(i.default.SUPPORT_RANGE_BOUNDS)f.push(new a(B,c(n,p,B.length,d,h)));else{var w=n.splitText(B.length);f.push(new a(B,s(n,d,h))),n=w}else i.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(B.length));p+=B.length}return f},function(e,t,n){var A=e.ownerDocument.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(A,e);var o=(0,r.parseBounds)(A,t,n);return A.firstChild&&i.replaceChild(A.firstChild,A),o}return new r.Bounds(0,0,0,0)}),c=function(e,t,n,A,i){var o=e.ownerDocument.createRange();return o.setStart(e,t),o.setEnd(e,t+n),r.Bounds.fromClientRect(o.getBoundingClientRect(),A,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var r=l(n(33)),A=n(22),i=n(47),o=l(n(186)),a=l(n(35)),s=l(n(12)),c=l(n(14)),u=(n(11),n(79),n(17));function l(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new s.default([42,42,42]);var d=new s.default([165,165,165]),h=new s.default([222,222,222]),f={borderWidth:1,borderColor:d,borderStyle:i.BORDER_STYLE.SOLID},p=(t.INPUT_BORDERS=[f,f,f,f],t.INPUT_BACKGROUND={backgroundColor:h,backgroundImage:[],backgroundClip:A.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:A.BACKGROUND_ORIGIN.PADDING_BOX},new c.default("50%")),g=[p,p],B=[g,g,g,g],w=new c.default("3px"),y=[w,w],v=[y,y,y,y],b=(t.getInputBorderRadius=function(e){return"radio"===e.type?B:v},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new a.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new a.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new a.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new a.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new a.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new a.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new a.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new o.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else b(m(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){b(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var n=e.options[e.selectedIndex||0];b(n&&n.text||"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,n,A){var i=t.ownerDocument.body;if(e.length>0&&i){var o=t.ownerDocument.createElement("html2canvaswrapper");(0,u.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),o),o.style.position="absolute",o.style.left=n.bounds.left+"px",o.style.top=n.bounds.top+"px",A||(o.style.whiteSpace="nowrap");var a=t.ownerDocument.createTextNode(e);o.appendChild(a),i.appendChild(o),n.childNodes.push(r.default.fromTextNode(a,n)),i.removeChild(o)}}),m=function(e){var t="password"===e.type?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var A=["top","right","bottom","left"];t.parsePadding=function(e){return A.map(function(t){return new r.default(e.getPropertyValue("padding-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=t,this.start=r||Date.now(),this.id=n}return r(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}();t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(36),i=n(48);var o=function(e,t){var n=Math.max.apply(null,e.colorStops.map(function(e){return e.stop})),r=1/Math.max(1,n);e.colorStops.forEach(function(e){t.addColorStop(r*e.stop,e.color.toString())})},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t||document.createElement("canvas")}return r(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach(function(e){n.path(e),n.ctx.clip()})),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach(function(e,n){var r=e.type===A.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===A.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,r,A){this.ctx.fillStyle=A.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);o(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,r=e.left+t.center.x,A=e.top+t.center.y,i=this.ctx.createRadialGradient(r,A,0,r,A,t.radius.x);if(i)if(o(t,i),this.ctx.fillStyle=i,t.radius.x!==t.radius.y){var a=e.left+.5*e.width,s=e.top+.5*e.height,c=t.radius.y/t.radius.x,u=1/c;this.transform(a,s,[1,0,0,c,0,0],function(){return n.ctx.fillRect(e.left,u*(e.top-s)+s,e.width,e.height*u)})}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,r,A){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,A),this.ctx.fill(),this.ctx.translate(-r,-A)}},{key:"renderTextNode",value:function(e,t,n,r,A){var o=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach(function(e){if(o.ctx.fillStyle=t.toString(),A&&e.text.trim().length?A.slice(0).reverse().forEach(function(t){o.ctx.shadowColor=t.color.toString(),o.ctx.shadowOffsetX=t.offsetX*o.options.scale,o.ctx.shadowOffsetY=t.offsetY*o.options.scale,o.ctx.shadowBlur=t.blur,o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}):o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var a=r.textDecorationColor||t;r.textDecorationLine.forEach(function(t){switch(t){case i.TEXT_DECORATION_LINE.UNDERLINE:var r=o.options.fontMetrics.getMetrics(n).baseline;o.rectangle(e.bounds.left,Math.round(e.bounds.top+e.bounds.height-r),e.bounds.width,1,a);break;case i.TEXT_DECORATION_LINE.OVERLINE:o.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,a);break;case i.TEXT_DECORATION_LINE.LINE_THROUGH:var A=o.options.fontMetrics.getMetrics(n).middle;o.rectangle(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1,a)}})}})}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(209),o=n(28),a=n(1),s=n(74),c=n(3)("performance"),u=Math.floor;function l(e,t,n){e=e.replace(/\s/g,"");for(var r=n&&n.all||[],A=n&&n.pairs||{},i=0;i<e.length-1;i++){var o=e[i],a=e[i+1],s=A[o];s||(s=A[o]={}),t[o]&&t[o][a]||s[a]||(s[a]=[0,0],r.push(""+o+a))}return{all:r,pairs:A,spaceWidth:0}}var d=function(){function e(){}return e.prototype.makeBitmapGlyphs=function(e,t,n){for(var r={},A=new Set,i=0,o=e.length;i<o;++i)A.add(e[i]);var a=Array.from(A.values());for(i=0,o=a.length;i<o;++i){var c=a[i],u=s.renderGlyph(c,2*n,2*n,t);u?r[c]={glyph:u.data,glyphIndex:i}:console.warn("Unable to render character",c,"to font map for rendering.")}return r},e.prototype.estimateKerning=function(e,t,n,d,h){return r(this,void 0,void 0,function(){var f,p,g;return A(this,function(B){switch(B.label){case 0:for(f={all:[],pairs:{},spaceWidth:0},c("Estimating Kerning for",e),p=0,g=e.length;p<g;++p)l(e[p],d,f);return f.all.length>0?[4,function(e,t,n,l){return r(this,void 0,void 0,function(){var r,d,h,f,p,g,B,w,y,v,b,m,E,C,U,T,Q,_,F,I,x,S,O,M,N,R,L,H,P,D,k,K,z,G,V,j,X,W,Y,J,q,$,Z,ee,te,ne,re,Ae;return A(this,function(A){switch(A.label){case 0:for(r=o.WebGLStat.MAX_TEXTURE_SIZE/window.devicePixelRatio,d=document.createElement("div"),h=u(r/(2*t)),f=2*t,p=2*t,d.style.display="table",d.style.width=r+"px",d.style.textAlign="center",d.style.tableLayout="fixed",d.style.position="relative",d.style.left="0px",d.style.top=window.innerHeight+"px",g=0,B=0,v=0;g<n.all.length;){for(S=document.createElement("div"),w=S,S.style.display="table-row",S.style.height=p+"px",S.style.width="width:"+r+"px",b=r,B=0;B<h&&g<n.all.length;B++)(I=document.createElement("div")).style.display="table-cell",I.style.width=f+"px",I.style.height=p+"px",I.style.overflow="hidden",I.style.font=e,$=n.all[g],g++,m=$[0],E=$[1],C=document.createElement("span"),U=document.createElement("span"),C.style.color="#ff0000",U.style.color="#0000ff",C.innerText=m,U.innerText=E,I.appendChild(C),I.appendChild(U),S.appendChild(I),b-=f;b>=0?((I=document.createElement("div")).style.display="table-cell",I.style.width=b+"px",S.appendChild(I),y=I):y=null,v=b,d.appendChild(S)}for(T=[],J=0;J<n.all.length;J++)T.push([Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]);return Q=0,_=!1,l?(F=n.all[0][0],(I=document.createElement("div")).style.display="table-cell",I.style.width=f+"px",I.style.height=p+"px",I.style.overflow="hidden",I.style.font=e,[4,s.renderGlyph(F,128,128,e)]):[3,2];case 1:(x=A.sent())&&(Q=x.size[0],I.innerHTML='<span style="color:#ff0000">'+F+'</span> <span style="color:#0000ff">'+F+"</span>",B<h&&w?(w.appendChild(I),v-=f,y&&(y.remove(),v>0&&(w.style.width=v+"px",w.appendChild(y)))):(S=document.createElement("div"),w=S,S.style.display="table-row",S.style.height=p+"px",S.style.width="width:"+r+"px",w.appendChild(I),d.appendChild(S),(y=document.createElement("div")).style.display="table-cell",y.style.width=(h-1)*f+"px",S.appendChild(y)),T.push([Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]),_=!0),A.label=2;case 2:return document.getElementsByTagName("body")[0].appendChild(d),O={backgroundColor:null,logging:c.enabled},c("Rendering table for font kerning analysis",n,d),[4,i(d,O)];case 3:if(!(M=A.sent()))return console.warn("Could not convert DOM structure to canvas"),[2];if(N=f*window.devicePixelRatio,R=p*window.devicePixelRatio,L=M.getContext("2d"),c("Analyzing rendered canvas",M),L){for(H=L.getImageData(0,0,M.width,M.height).data,P=void 0,D=void 0,k=void 0,K=void 0,z=void 0,G=void 0,V=0,j=M.height;V<j;V++)for(X=0,W=M.width;X<W;X++)D=H[0+(P=4*(W*V+X))],k=H[P+1],K=H[P+2],(G=u(V/R)*h+u(X/N))<T.length&&(z=T[G],D>0&&0===k&&0===K&&(X<z[0]&&(z[0]=X),V<z[1]&&(z[1]=V)),0===D&&0===k&&K>0&&(X<z[2]&&(z[2]=X),V<z[3]&&(z[3]=V)));for(_&&(Y=T.pop())&&(ne=[Y[2]-Y[0],0],Ae=a.scale2(ne,1/window.devicePixelRatio),n.spaceWidth=Math.ceil(Ae[0])-Q),J=0,q=T.length;J<q;J++)$=n.all[J],Z=$[0],ee=$[1],te=T[J],ne=[te[2]-te[0],te[3]-te[1]],(re=n.pairs[Z])&&(Ae=a.scale2(ne,1/window.devicePixelRatio),re[ee]=[Math.ceil(Ae[0]),Ae[1]])}else console.warn("html2canvas did not produce a valid canvas context to analyze");return c("Kerning rendering analysis complete",n.pairs),[2]}})})}(t,n,f,h)]:[3,2];case 1:B.sent(),B.label=2;case 2:return[2,f]}})})},e}();t.FontRenderer=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(8),c=n(0),u=n(26),l=n(4),d=n(23),h=n(3)("performance");!function(e){e[e.BITMAP=0]="BITMAP",e[e.SDF=1]="SDF",e[e.MSDF=2]="MSDF"}(a=t.FontMapGlyphType||(t.FontMapGlyphType={}));var f=function(e){function t(t){var n=e.call(this,t)||this;n.dynamic=!1,n.glyphMap={},n.kerning={},n.spaceWidth=0,n.type=c.ResourceType.FONT,n.dynamic=t.dynamic||!1,n.fontSource=t.fontSource,t.characters&&t.characters.forEach(function(e){n.doRegisterGlyph(e[0],e[1])});var r=t.fontMapSize?t.fontMapSize:[c.TextureSize._1024,c.TextureSize._1024];return n.makeGlyphTypeTextureSettings(t.glyphType),n.createTexture(r),n.packing=new d.PackNode(0,0,r[0],r[1]),n.addCachedKerning(),n}return r(t,e),Object.defineProperty(t.prototype,"fontString",{get:function(){return this.fontSource.size+"px "+this.fontSource.family},enumerable:!0,configurable:!0}),t.prototype.getKerningCacheName=function(){return"__deltav_kerning_cache_"+this.fontSource.family+"__"},t.prototype.addCachedKerning=function(){if(this.fontSource.localKerningCache){var e=localStorage.getItem(this.getKerningCacheName());if(e){h("Loading cached kerning items:",this.getKerningCacheName());try{var t=JSON.parse(e),n=0;for(var r in t){var A="string"==typeof r&&1===r.length;if(A){var i=t[r],o=this.kerning[r]||{};for(var a in this.kerning[r]=o,i)(A="string"==typeof r&&1===r.length)&&(o[a]=i[a],n++)}}h("Found kerning items in the cache!","Count:",n)}catch(e){}}}},t.prototype.addKerning=function(e){var t=!1;for(var n in e){var r=e[n],A=this.kerning[n]||{};for(var i in this.kerning[n]||(t=!0),this.kerning[n]=A,r)A[i]||(t=!0),A[i]=r[i]}if(t&&this.fontSource.localKerningCache)try{h("Storing kerning info in cache...");var o=JSON.stringify(this.kerning);localStorage.setItem(this.getKerningCacheName(),o)}catch(e){h("Could not cache kerning info")}},t.prototype.createTexture=function(e){var t;this.texture||(t=this.textureSettings?A({generateMipMaps:!0,premultiplyAlpha:!0},this.textureSettings):{generateMipMaps:!0,premultiplyAlpha:!0},this.texture=new s.Texture(A({data:{width:e[0],height:e[1],buffer:null}},t)))},t.prototype.destroy=function(){this.texture.dispose()},t.prototype.doRegisterGlyph=function(e,t){var n=e[0];this.glyphMap[n]?console.warn("A Glyph is already registered with a rendering"):this.glyphMap[n]=t},t.prototype.findMissingCharacters=function(e){for(var t=new Set,n="",r=0,A=e.length;r<A;++r){var i=e[r];this.glyphMap[i]||t.has(i)||(t.add(i),n+=i)}return n},t.prototype.getGlyphTexture=function(e){return this.glyphMap[e[0]]||null},t.prototype.getGlyphKerning=function(e,t){var n=this.kerning[e];return n&&n[t]||[0,0]},t.prototype.getGlyphWidth=function(e,t,n){var r=e.positions[t],A=e.positions[n];if(!t||!n)return 0;var i=this.glyphMap[e.glyphs[n]];return i?A[0]+i.pixelWidth-r[0]:0},t.prototype.getTruncatedLayout=function(e,t,n,r,A){return i(this,void 0,void 0,function(){var i,a,s,u,l,d,h,f,p,g,B,w,y,v,b;return o(this,function(o){switch(o.label){case 0:if(!(e.size[0]>n))return[3,5];for(i="",a=0,y=0,v=t.length;y<v;++y)a+=this.glyphMap[t[y]].pixelWidth;if(a>n)return[2,{fontScale:1,glyphs:"",positions:[],size:[0,0],text:""}];for(s=0,u=e.positions.length,l=0,d=0,h="";s!==u;){if(l=Math.floor((u-s)/2)+s,h=e.glyphs[l],(d=e.positions[l][0]+this.glyphMap[h].pixelWidth+a)>n)u=l;else{if(!(d<n))break;s=l}if(Math.abs(s-u)<=1){if(d<n)break;for(;d>n&&l>=0;)l--,d=e.positions[l][0]+this.glyphMap[h].pixelWidth+a;break}}if(!((d=e.positions[l][0]+this.glyphMap[h].pixelWidth+a)<n))return[3,3];for(f=0,p=0,y=0,v=e.text.length;y<v&&f<=l;++y)g=e.text[y],p++,c.isWhiteSpace(g)||f++;for(B=e.text[p-1],w=void 0,y=0,v=t.length;y<v;++y)if(!c.isWhiteSpace(t[y])){w=t[y];break}return B&&w&&!this.kerning[B][w]?[4,A.estimateKerning([B+w],this.fontString,this.fontSource.size,this.kerning,!1)]:[3,2];case 1:b=o.sent(),this.addKerning(b.pairs),o.label=2;case 2:return i=""+e.text.substr(0,p)+t,[3,4];case 3:i=t,o.label=4;case 4:return[2,this.getStringLayout(i,r)];case 5:return[2,e]}})})},t.prototype.getStringWidth=function(e,t,n){var r=e.text,A=0,i=r.length;if("string"==typeof t){var o=r.indexOf(t);if(o<0)return 0;i=(A=o)+t.length}else A=t;void 0!==n&&(i=n);for(var a=0,s=Math.min(r.length,A),u=Math.min(r.length,i);a<s;++a)c.isWhiteSpace(r[a])&&(A--,i--);for(;a<u;++a)c.isWhiteSpace(r[a])&&i--;var l=this.glyphMap[e.text[i]||""];return l?(e.positions[i]||[0,0])[0]-(e.positions[A]||[0,0])[0]+l.pixelWidth:0},t.prototype.getStringLayout=function(e,t){for(var n,r,A=[],i="",o=t/this.fontSource.size,a=Number.MAX_SAFE_INTEGER,s=0,u=0,d=[0,0],h=this.spaceWidth,f=0,p="",g=0,B=e.length;g<B;++g){var w=e[g];c.isWhiteSpace(w)?f++:(n=[0,0],p&&(n=this.kerning[p][w]||[0,0]),d=l.add2(l.add2(d,l.scale2(n,o)),[f*h*o,0]),A.push([d[0],d[1]]),i+=w,r=this.glyphMap[w],a=Math.min(d[1],a),s=Math.max(d[1]+r.pixelHeight*o,s),p=w,u=d[0]+r.pixelWidth*o,f=0)}var y=[u,s-a];for(g=0,B=A.length;g<B;++g)(d=A[g])[1]-=a;return{fontScale:o,glyphs:i,positions:A,size:y,text:e}},t.prototype.makeGlyphTypeTextureSettings=function(e){switch(e){case a.BITMAP:this.textureSettings={magFilter:s.GLSettings.Texture.TextureMagFilter.Linear,minFilter:s.GLSettings.Texture.TextureMinFilter.LinearMipMapLinear,format:s.GLSettings.Texture.TexelDataType.LuminanceAlpha};break;case a.SDF:this.textureSettings={magFilter:s.GLSettings.Texture.TextureMagFilter.Linear,minFilter:s.GLSettings.Texture.TextureMinFilter.Linear,format:s.GLSettings.Texture.TexelDataType.Luminance};break;case a.MSDF:this.textureSettings={magFilter:s.GLSettings.Texture.TextureMagFilter.Linear,minFilter:s.GLSettings.Texture.TextureMinFilter.Linear,format:s.GLSettings.Texture.TexelDataType.RGB}}},t.prototype.registerGlyph=function(e,t){this.dynamic?this.doRegisterGlyph(e,t):console.warn("Attempted to register a new glyph with a non-dynamic FontMap")},t.prototype.supportsKerning=function(e){for(var t=1,n=e.length;t<n;++t){var r=e[t],A=e[t-1];if(!this.kerning[A])return!1;if(!this.kerning[A][r])return!1}return!0},t}(u.IdentifyByKey);t.FontMap=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},A=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),a=n(23),s=n(0),c=n(19),u=n(88),l=n(87),d=n(3)("performance");!function(e){e[e._16=16]="_16",e[e._32=32]="_32",e[e._64=64]="_64",e[e._128=128]="_128"}(t.FontGlyphRenderSize||(t.FontGlyphRenderSize={})),t.isFontResource=function(e){return e&&e.type===s.ResourceType.FONT},t.createFont=function(e){return r({type:s.ResourceType.FONT},e)};var h=function(){function e(){this.fontMaps=new Map,this.fontRenderer=new l.FontRenderer}return e.prototype.calculateMetrics=function(e,t){return A(this,void 0,void 0,function(){var n,r,A,o,a,s;return i(this,function(i){switch(i.label){case 0:if(d("Calculating metrics for requests"),!(n=this.fontMaps.get(e)))return[2];r=0,A=t.length,i.label=1;case 1:return r<A?(o=t[r],(a=o.metrics)?(a.layout=n.getStringLayout(a.text,a.fontSize),a.maxWidth?(d("Calculating truncation for",a.text,a.maxWidth),s=a,[4,n.getTruncatedLayout(a.layout,a.truncation||"",a.maxWidth,a.fontSize,this.fontRenderer)]):[3,3]):[3,3]):[3,4];case 2:s.layout=i.sent(),a.truncatedText=a.layout.text,i.label=3;case 3:return++r,[3,1];case 4:return[2]}})})},e.prototype.characterFilterToCharacters=function(e){for(var t=new Set,n="",r=0,A=e.length;r<A;++r){var i=e[r];t.has(i)||(t.add(i),n+=i)}return n},e.prototype.createFontMap=function(e){return A(this,void 0,void 0,function(){var t,n,A,o;return i(this,function(i){switch(i.label){case 0:return t=this.characterFilterToCharacters(e.characterFilter||""),A=e.fontSource,o=u.FontMapGlyphType.SDF,A&&(o=function(e){return e&&void 0===e.type}(A)?u.FontMapGlyphType.BITMAP:A.type||o),n=new u.FontMap(r({},e,{glyphType:o})),[4,this.updateFontMapCharacters(t,n)];case 1:return i.sent(),this.fontMaps.set(e.key,n),[2,n]}})})},e.prototype.destroy=function(){this.fontMaps.forEach(function(e){return e.destroy()})},e.prototype.updateFontMap=function(e,t){return A(this,void 0,void 0,function(){var n,r,A,o,a,s,c,u,l,d;return i(this,function(i){switch(i.label){case 0:if(!(n=this.fontMaps.get(e)))return[2];for(r=[],A=new Set,l=0,d=t.length;l<d;++l)if((o=t[l]).character&&A.add(o.character),o.kerningPairs&&(r=r.concat(o.kerningPairs)),o.metrics&&o.metrics.truncation)for(a=o.metrics.truncation.replace(/\s/g,""),r.push(a),s=0,c=o.metrics.truncation.length;s<c;++s)A.add(a);for(l=0,d=r.length;l<d;++l)A.add(r[l]);return u="",A.forEach(function(e){return u+=e}),[4,this.updateFontMapCharacters(u,n)];case 1:return i.sent(),[4,this.updateKerningPairs(r,n)];case 2:for(i.sent(),l=0,d=t.length;l<d;++l)t[l].fontMap=n;return[2]}})})},e.prototype.updateKerningPairs=function(e,t){return A(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return t?[4,this.fontRenderer.estimateKerning(e,t.fontString,t.fontSource.size,t.kerning,!t.spaceWidth)]:[2];case 1:return n=r.sent(),t.addKerning(n.pairs),t.spaceWidth=t.spaceWidth||n.spaceWidth,[2]}})})},e.prototype.updateFontMapCharacters=function(e,t){return A(this,void 0,void 0,function(){var n,A,s,u,l,d,h,f;return i(this,function(i){if(!t)return[2];if(n=t.texture,(A=t.findMissingCharacters(e)).length<=0)return[2];for(u in s=this.fontRenderer.makeBitmapGlyphs(A,t.fontString,t.fontSource.size))if(l=s[u],n.data){if(d=new o.Bounds({x:0,y:0,width:l.glyph.width,height:l.glyph.height}),h=new c.SubTexture,!(f=t.packing.insert({data:h,bounds:d})))return console.warn("Font map is full and could not pack in any more glyphs"),[2];a.PackNode.applyToSubTexture(t.packing,f,h,void 0,!0),n.update(l.glyph,r({},f.bounds,{y:t.packing.bounds.height-f.bounds.y-f.bounds.height})),h?t.registerGlyph(u,h):console.warn("Could not generate a subtexture for the font map registration.")}else console.warn("Can not update font map as the maps texture data is not defined.");return[2]})})},e.prototype.getPrerenderedImageData=function(e,t,n){return A(this,void 0,void 0,function(){var r;return i(this,function(A){switch(A.label){case 0:return r=[],n.forEach(function(n){var A=e.glyphs[n];if(A||(A=e.errorGlyph),!e.errorGlyph)return console.warn("The prerendered source provided did NOT provide a proper glyph for rendering when a glyph could not be located."),[];var i,o=new Image,a=new Promise(function(e){return i=e});return o.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d");if(n){e.width=t,e.height=t,n.drawImage(o,0,0,t,t);var r=n.getImageData(0,0,t,t);i(r)}},o.onerror=function(){console.warn("There was an issue with loading the glyph data for character:",n),i(null)},o.src=e.glyphs[n],r.push(a),[]}),[4,Promise.all(r)];case 1:return[2,A.sent()]}})})},e}();t.FontManager=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.emptyBounds=function(){return new t({height:0,width:0,x:0,y:0})},t}(n(5).Bounds);t.DataBounds=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90);function A(e,t,n){var r=""+e,A=parseFloat(r);return isNaN(A)?0:r.indexOf("%")>-1?A/100*t:A*n}t.getAbsolutePositionBounds=function(e,t,n){0!==t.width&&0!==t.height||console.warn("An AbsolutePosition evaluated to invalid dimensions.","Please ensure that the object provided and the reference has valid dimensions","to produce dimensions with width and height that are non-zero.","item:",e,"reference:",t.toString());var i,o,a=r.DataBounds.emptyBounds();if(e.width)a.width=A(e.width,t.width,n),void 0!==e.left?a.x=A(e.left,t.width,n):void 0!==e.right&&(a.x=t.width-A(e.right,t.width,n)-a.width);else{var s=A(e.left||0,t.width,n);(i=t.width-A(e.right||0,t.width,n)-s)<0&&console.warn("An AbsolutePosition evaluated to invalid dimensions.","Please ensure that the object provided and the reference has valid dimensions","to produce dimensions with width and height that are greater than zero.","item:",e,"reference:",t.toString()),a.x=s,a.width=i}if(e.height)a.height=A(e.height,t.height,n),void 0!==e.top?a.y=A(e.top,t.height,n):void 0!==e.bottom&&(a.y=t.height-A(e.bottom,t.height,n)-a.height);else{var c=A(e.top||0,t.height,n);(void 0===(o=t.height-A(e.bottom||0,t.height,n)-c)||o<0)&&console.warn("An AbsolutePosition evaluated to invalid dimensions.","Please ensure that the object provided and the reference has valid dimensions","to produce dimensions with width and height that are greater than zero.","item:",e,"reference:",t.toString()),a.y=c,a.height=o}return(0===a.width||0===a.height||isNaN(a.x+a.y+a.width+a.height))&&(a.x=0,a.y=0,a.width=t.width,a.height=t.height),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.layer=e,this.bufferManager=t}}();t.BaseDiffProcessor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.emitOnce=function(e,t){var n=r[e]||[t,-1,0];r[e]=n,n[2]++,clearTimeout(n[1]),n[1]=window.setTimeout(function(){t(n[2],e),delete r[e]},1)},t.flushEmitOnce=function(){for(var e in r){var t=r[e];clearTimeout(t[1]),t[0](t[2],e)}r={}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.delay=0,this.isManualStart=!1,this.isTimeSet=!1,Object.assign(this,e)}return e.prototype.setAutomatic=function(){this.isManualStart=!1,this.isTimeSet=!1},e.prototype.setStart=function(e){e&&(this.start.length!==e.length?console.warn("A manual easing adjustment provided an incompatible value for the easing type."):(this.start=e,this.isManualStart=!0))},e.prototype.setTiming=function(e,t){this.delay=void 0===e?this.delay:e,this.duration=void 0===t?this.duration:t,this.isTimeSet=!0},e}();t.EasingProps=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),A=n(30),i=function(){function e(){this._uid=A.uid(),this.cleanObservation=new Map,this.instanceChanges=new Map,this.allowChanges=!0,this.resolveContext=""}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeList",{get:function(){this.allowChanges=!1;var e=[];return this.instanceChanges.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),e.prototype.add=function(e){if(this.cleanObservation.get(e.uid))return e;if(this.allowChanges){e.observer=this;var t=e.observableDisposer;this.cleanObservation.set(e.uid,[e,t]),this.instanceChanges.set(e.uid,[e,r.InstanceDiffType.INSERT,e.changes])}return e},e.prototype.clear=function(){var e=this;this.cleanObservation.forEach(function(t){e.remove(t[0])})},e.prototype.destroy=function(){this.cleanObservation.forEach(function(e){e[1]()}),this.cleanObservation.clear(),this.instanceChanges.clear()},e.prototype.instanceUpdated=function(e){this.allowChanges&&this.instanceChanges.set(e.uid,[e,r.InstanceDiffType.CHANGE,e.changes])},e.prototype.remove=function(e){if(this.allowChanges){var t=this.cleanObservation.get(e.uid);t&&(t[1](),this.cleanObservation.delete(e.uid),this.instanceChanges.set(e.uid,[e,r.InstanceDiffType.REMOVE,{}]))}return!1},e.prototype.resolve=function(e){if(this.allowChanges=!0,this.instanceChanges.clear(),this.resolveContext&&this.resolveContext!==e)throw new Error("An instance provider has been issued to two layers. This is not a suppported feature yet and can cause issues.");this.resolveContext=e},e.prototype.sync=function(){var e=this,t=[];this.cleanObservation.forEach(function(n){var A=n[0];e.instanceChanges.set(A.uid,[A,r.InstanceDiffType.INSERT,t])})},e}();t.InstanceProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(101),A=n(100),i=n(28),o=function(){function e(e){this.state={clearMask:[!1,!1,!1],currentRenderTarget:null,displaySize:[1,1],pixelRatio:1,renderSize:[1,1]},this.options=Object.assign({alpha:!1,antialias:!1,preserveDrawingBuffer:!1},e),this.options.canvas||console.warn("WebGLRenderer ERROR: A canvas is REQUIRED as a parameter."),this.getContext()}return Object.defineProperty(e.prototype,"debugContext",{set:function(e){this.glProxy&&(this.glProxy.debugContext=e),this.glState&&(this.glState.debugContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return this._gl},enumerable:!0,configurable:!0}),e.prototype.clear=function(e,t,n){var r=this.state.clearMask;this.state.clearMask=[r[0]||e||!1,r[1]||t||!1,r[2]||n||!1]},e.prototype.clearColor=function(e){e&&this.glState.setClearColor(e)},e.prototype.dispose=function(){},e.prototype.getContext=function(){if(this._gl)return this._gl;var e=r.GLProxy.getContext(this.options.canvas,{alpha:this.options.alpha||!1,antialias:this.options.antialias||!1,premultipliedAlpha:this.options.premultipliedAlpha||!1,preserveDrawingBuffer:this.options.preserveDrawingBuffer||!1});return e.context?(this._gl=e.context,this.glState=new A.GLState(e.context,e.extensions),this.glProxy=new r.GLProxy(e.context,this.glState,e.extensions),this.glState.setProxy(this.glProxy),this.glState.syncState()):this.options.onNoContext?this.options.onNoContext():console.warn("No context was able to be produced, and the handler onNoContext was not implemented for such cases."),this._gl},e.prototype.getDisplaySize=function(){return this.state.displaySize},e.prototype.getPixelRatio=function(){return this.state.pixelRatio},e.prototype.getRenderSize=function(){return this.state.renderSize},e.prototype.getFullViewport=function(){var e=this.state.currentRenderTarget;if(e)return{x:0,y:0,width:e.width,height:e.height};var t=this.getDisplaySize();return{x:0,y:0,width:t[0],height:t[1]}},e.prototype.prepareAttribute=function(e,t){return this.glProxy.updateAttribute(e)?(this.glProxy.useAttribute(t,e),!0):(console.warn("Could not update attribute",e),!1)},e.prototype.render=function(e,t){var n=this;if(void 0===t&&(t=null),this.gl){this.setRenderTarget(t);var r=this.state.clearMask;if((r[0]||r[1]||r[2])&&(this.glProxy.clear(r[0],r[1],r[2]),this.state.clearMask=[!1,!1,!1]),!t||t.gl){var A=[];e.models.forEach(function(e){n.renderModel(e,A)}),A.forEach(function(t){e.remove(t)})}else console.warn("FBO is not ready for drawing. Skipping the rendering of the scene and target:",{scene:e,target:t})}},e.prototype.renderModel=function(e,t){var n=e.geometry,r=e.material;if(this.glState.useMaterial(r)){var A=!0;n.attributes.forEach(function(e,t){A=this.prepareAttribute(e,t)&&A},this),this.glState.applyVertexAttributeArrays(),A?this.glProxy.draw(e):(console.warn("Geometry was unable to update correctly, thus we are skipping the drawing of",e),t.push(e))}else console.warn("Could not utilize material. Skipping draw call for:",r,n),t.push(e)},e.prototype.readPixels=function(e,t,n,r,A){if(this.gl){var i=this.state.currentRenderTarget,o=!0;if(i&&(o=i.validFramebuffer),o)if(e=Math.max(0,e),t=Math.max(0,t),i){e+n>i.width&&(n=i.width-e),t+r>i.height&&(r=i.height-t);var a=i.height;this.gl.readPixels(e,a-t-r,n,r,this.gl.RGBA,this.gl.UNSIGNED_BYTE,A)}else{var s=this.state.pixelRatio,c=this.getDisplaySize();a=c[1];e+n>c[0]&&(n=c[0]-e),t+r>c[1]&&(r=c[1]-t),this.gl.readPixels(e*s,(a-t-r)*s,n*s,r*s,this.gl.RGBA,this.gl.UNSIGNED_BYTE,A)}else console.warn("Framebuffer is incomplete. Can not read pixels at this time.")}},e.prototype.setClearColor=function(e){this.glState.setClearColor(e)},e.prototype.setPixelRatio=function(e){var t=this.options.canvas,n=this.getDisplaySize();t.width=n[0]*e,t.height=n[1]*e,this.state.pixelRatio=e},e.prototype.setScissor=function(e,t){if(t){var n=t.height;if(e){var r=e.x,A=e.y,i=e.width,o=e.height;this.glState.setScissor({x:r,y:n-A-o,width:i,height:o})}else this.glState.setScissor(null)}else{var a=this.state.pixelRatio;n=this.getDisplaySize()[1];if(e){r=e.x,A=e.y,i=e.width,o=e.height;this.glState.setScissor({x:r*a,y:(n-A-o)*a,width:i*a,height:o*a})}else this.glState.setScissor(null)}},e.prototype.setSize=function(e,t){var n=this.options.canvas,r=this.state.pixelRatio;n.width=Math.min(e*r,i.WebGLStat.MAX_TEXTURE_SIZE),n.height=Math.min(t*r,i.WebGLStat.MAX_TEXTURE_SIZE),n.style.width=e+"px",n.style.height=t+"px",this.state.renderSize=[n.width,n.height],this.state.displaySize=[e,t]},e.prototype.setRenderTarget=function(e){var t=this;this.state.currentRenderTarget!==e&&(!this.glState.useRenderTarget(e)&&e&&(e.getTextures().forEach(function(n){t.glState.willUseTextureUnit(n,e)}),this.glState.applyUsedTextures(),this.glProxy.compileRenderTarget(e)&&this.glState.useRenderTarget(e)),this.state.currentRenderTarget=e)},e.prototype.setViewport=function(e){var t=this.state.currentRenderTarget,n=e.x,r=e.y,A=e.width,i=e.height;if(t){var o=t.height;this.glState.setViewport(n,o-r-i,A,i)}else{var a=this.state.pixelRatio;o=this.getDisplaySize()[1];this.glState.setViewport(n*a,(o-r-i)*a,A*a,i*a)}},e}();t.WebGLRenderer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),A=function(){return function(e,t){this.drawMode=r.GLSettings.Model.DrawMode.TRIANGLES,this.vertexDrawRange=[-1,-1],this.drawInstances=-1,this.vertexCount=0,this.geometry=e,this.material=t}}();t.Model=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),A=function(){function e(e){this.blending={blendDst:r.GLSettings.Material.BlendingDstFactor.OneMinusSrcAlpha,blendEquation:r.GLSettings.Material.BlendingEquations.Add,blendSrc:r.GLSettings.Material.BlendingSrcFactor.SrcAlpha},this.colorWrite=[!0,!0,!0,!0],this.culling=r.GLSettings.Material.CullSide.CCW,this.depthFunc=r.GLSettings.Material.DepthFunctions.LESS_OR_EQUAL,this.depthTest=!0,this.depthWrite=!0,this.dithering=!0,this.fragmentShader="",this.name="",this.uniforms={},this.vertexShader="",Object.assign(this,e),delete this.gl}return e.prototype.clone=function(){var t=new e(this);t.blending=Object.assign({},this.blending),t.polygonOffset=Object.assign({},this.polygonOffset),t.uniforms=Object.assign({},this.uniforms);var n=function(e){var n=t.uniforms[e];if(n.gl){var r=new Map;n.gl.forEach(function(e,t){r.set(t,Object.assign({},e))})}};for(var r in t.uniforms)n(r);return t},e.prototype.dispose=function(){this.gl&&this.gl.proxy.disposeMaterial(this)},e}();t.Material=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),A=n(21),i=function(){function e(e){this._uid=r.uid(),this._validFramebuffer=!1,this._splitRenderBuffers=null,this._buffers={color:Array.isArray(e.buffers.color)?e.buffers.color.slice(0):e.buffers.color,depth:e.buffers.depth,stencil:e.buffers.stencil},this._width=e.width||0,this._height=e.height||0,this.getDimensions()}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return{color:Array.isArray(this._buffers.color)?this._buffers.color.slice(0):this._buffers.color,depth:this._buffers.depth,stencil:this._buffers.stencil}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validFramebuffer",{get:function(){return this._validFramebuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"splitRenderBuffers",{get:function(){return this._splitRenderBuffers},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.gl&&this.gl.proxy.disposeRenderTarget(this)},e.prototype.getDimensions=function(){var e=this,t=[];if(this._buffers.color instanceof A.Texture&&t.push(this._buffers.color),Array.isArray(this._buffers.color)&&this._buffers.color.forEach(function(e){e instanceof A.Texture&&t.push(e)}),this._buffers.depth instanceof A.Texture&&t.push(this._buffers.depth),this._buffers.stencil instanceof A.Texture&&t.push(this._buffers.stencil),t.length>0&&t[0].data){var n=t[0].data,r=n.width,i=n.height;t.forEach(function(n){if(n.data){var A=n.data,o=A.width,a=A.height;o===r&&a===i||(console.warn("Texture applied to the render target is invalid as it does not match dimensions of all textures applied:",n,t,"The texture will be removed as a target for the render target"),e.removeTextureFromBuffer(n))}}),this._width=r,this._height=i}else this._width&&this._height||console.warn("A RenderTarget was not able to establish valid dimensions. This target had no texture buffers and did not specify valid width and height values.",this)},e.prototype.getTextures=function(){var e=[];return Array.isArray(this.buffers.color)?this.buffers.color.forEach(function(t){t instanceof A.Texture&&e.push(t)}):this.buffers.color instanceof A.Texture&&e.push(this.buffers.color),this.buffers.depth instanceof A.Texture&&e.push(this.buffers.depth),this.buffers.stencil instanceof A.Texture&&e.push(this.buffers.stencil),e},e.prototype.removeTextureFromBuffer=function(e){if(Array.isArray(this._buffers.color)){var t=this._buffers.color.indexOf(e);t>-1&&this._buffers.color.splice(t,1)}else this._buffers.color===e&&delete this._buffers.color;this._buffers.depth===e&&delete this._buffers.depth,this._buffers.stencil===e&&delete this._buffers.stencil},e.prototype.setSize=function(e,t){this.dispose(),this._width=e,this._height=t,this.getTextures().forEach(function(n){n.data={buffer:null,height:t,width:e}})},e.prototype.setAsValid=function(){this._validFramebuffer=!0},e}();t.RenderTarget=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),A=n(54),i=n(9),o=n(99),a=n(29),s=n(3)("performance"),c=function(){function e(e,t){this.debugContext="",this._textureUnitToTexture=new Map,this._freeUnits=[],this._blendingEnabled=!0,this._blendDstFactor=i.GLSettings.Material.BlendingDstFactor.One,this._blendSrcFactor=i.GLSettings.Material.BlendingDstFactor.One,this._blendEquation=i.GLSettings.Material.BlendingEquations.Add,this._cullFace=i.GLSettings.Material.CullSide.NONE,this._colorMask=[!0,!0,!0,!0],this._clearColor=[0,0,0,1],this._depthFunc=i.GLSettings.Material.DepthFunctions.ALWAYS,this._depthTestEnabled=!0,this._depthMask=!0,this._ditheringEnabled=!0,this._boundFBO=null,this._boundRBO=null,this._boundVBO=null,this._boundTexture={id:null,unit:-1},this._currentProgram=null,this._scissorTestEnabled=!1,this._scissorBounds={x:0,y:0,width:1,height:1},this._activeTextureUnit=-1,this._textureWillBeUsed=new Map,this._viewport={x:0,y:0,width:100,height:100},this._enabledVertexAttributeArray=[],this._willUseVertexAttributeArray=[],this._vertexAttributeArrayDivisor=new Map,this.gl=e,this.extensions=t;for(var n=this.gl.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),r=0;r<n;++r)this._freeUnits.push(A.indexToTextureUnit(e,r));this._activeTextureUnit=e.TEXTURE0}return Object.defineProperty(e.prototype,"blendingEnabled",{get:function(){return this._blendingEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendDstFactor",{get:function(){return this._blendDstFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendSrcFactor",{get:function(){return this._blendSrcFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendEquation",{get:function(){return this._blendEquation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cullFace",{get:function(){return this._cullFace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorMask",{get:function(){return this._colorMask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearColor",{get:function(){return this._clearColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depthFunc",{get:function(){return this._depthFunc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depthTestEnabled",{get:function(){return this._depthTestEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return this._depthMask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ditheringEnabled",{get:function(){return this._ditheringEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundFBO",{get:function(){return this._boundFBO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundRBO",{get:function(){return this._boundRBO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundVBO",{get:function(){return this._boundVBO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundTexture",{get:function(){return this._boundTexture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentProgram",{get:function(){return this._currentProgram},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scissorTestEnabled",{get:function(){return this._scissorTestEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scissorBounds",{get:function(){return this._scissorBounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUniforms",{get:function(){return this._currentUniforms},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeTextureUnit",{get:function(){return this._activeTextureUnit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureWillBeUsed",{get:function(){return this._textureWillBeUsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewport",{get:function(){return this._viewport},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabledVertexAttributeArray",{get:function(){return this._enabledVertexAttributeArray.slice(0).filter(function(e){return void 0!==e})},enumerable:!0,configurable:!0}),e.prototype.bindVBO=function(e){this._boundVBO!==e&&(this._boundVBO=e,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e))},e.prototype.bindRBO=function(e){this._boundRBO!==e&&(this._boundRBO=e,this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,e))},e.prototype.bindFBO=function(e){this._boundFBO!==e&&(this._boundFBO=e,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e))},e.prototype.bindTexture=function(e,t){if(e.gl&&e.gl.textureId&&(!e||this._boundTexture.id!==e.gl.textureId||this._boundTexture.unit!==this._activeTextureUnit)){switch(this._boundTexture={id:e.gl.textureId,unit:this._activeTextureUnit},t){case i.GLSettings.Texture.TextureBindingTarget.TEXTURE_2D:this.gl.bindTexture(this.gl.TEXTURE_2D,e.gl.textureId);break;case i.GLSettings.Texture.TextureBindingTarget.TEXTURE_2D:this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,e.gl.textureId)}var n=this._textureUnitToTexture.get(this._activeTextureUnit);n&&n.gl&&(n.gl.textureUnit=-1),this._textureUnitToTexture.set(this._activeTextureUnit,e),e.gl.textureUnit=this._activeTextureUnit}},e.prototype.willUseVertexAttributeArray=function(e){this._willUseVertexAttributeArray[e]=e,void 0===this._enabledVertexAttributeArray[e]&&(this._enabledVertexAttributeArray[e]=e,this.gl.enableVertexAttribArray(e))},e.prototype.applyVertexAttributeArrays=function(){for(var e=0,t=this._enabledVertexAttributeArray.length;e<t;++e){var n=this._enabledVertexAttributeArray[e];if(void 0!==n){if(void 0!==this._willUseVertexAttributeArray[n])return;this.gl.disableVertexAttribArray(n),delete this._enabledVertexAttributeArray[n]}}this._willUseVertexAttributeArray=[]},e.prototype.setVertexAttributeArrayDivisor=function(e,t){this.extensions.instancing&&void 0!==this._enabledVertexAttributeArray[e]&&this._vertexAttributeArrayDivisor.get(e)!==t&&(this.extensions.instancing instanceof WebGL2RenderingContext?this.extensions.instancing.vertexAttribDivisor(e,t):this.extensions.instancing.vertexAttribDivisorANGLE(e,t),this._vertexAttributeArrayDivisor.set(e,t))},e.prototype.freeTextureUnit=function(e){e.gl&&e.gl.textureUnit>-1&&(this._freeUnits.unshift(e.gl.textureUnit),e.gl.textureUnit=-1)},e.prototype.setActiveTextureUnit=function(e){this._activeTextureUnit!==e&&(this._activeTextureUnit=e,this.gl.activeTexture(e))},e.prototype.setClearColor=function(e){r.compare4(e,this._clearColor)||(this._clearColor=r.copy4(e),this.applyClearColor())},e.prototype.setProxy=function(e){this.glProxy=e},e.prototype.setScissor=function(e){e?(this._scissorTestEnabled||(this._scissorTestEnabled=!0,this.gl.enable(this.gl.SCISSOR_TEST)),e.x===this._scissorBounds.x&&e.y===this._scissorBounds.y&&e.width===this._scissorBounds.width&&e.height===this._scissorBounds.height||(this._scissorBounds=e,this.applyScissorBounds())):this._scissorTestEnabled&&(this._scissorTestEnabled=!1,this.gl.disable(this.gl.SCISSOR_TEST))},e.prototype.setViewport=function(e,t,n,r){e===this._viewport.x&&t===this._viewport.y&&n===this._viewport.width&&r===this._viewport.height||(this._viewport={x:e,y:t,width:n,height:r},this.applyViewport())},e.prototype.useProgram=function(e){this._currentProgram!==e&&(this._currentProgram=e,this.gl.useProgram(this._currentProgram))},e.prototype.useMaterial=function(e){if(!e.gl){if(!this.glProxy.compileMaterial(e))return!1;if(!e.gl)return!1}return!!e.gl.programId&&(this.useProgram(e.gl.programId),this.syncMaterial(e),!0)},e.prototype.useRenderTarget=function(e){return e?!!e.gl&&(this.bindFBO(e.gl.fboId),!0):(this.bindFBO(null),!0)},e.prototype.syncMaterial=function(e){var t=this,n=this.gl,r=Boolean(e.depthWrite);this._depthMask!==r&&(this._depthMask=r,n.depthMask(this._depthMask)),this._depthTestEnabled!==e.depthTest&&(this._depthTestEnabled=e.depthTest,this._depthTestEnabled?n.enable(n.DEPTH_TEST):n.disable(n.DEPTH_TEST)),this._depthFunc!==e.depthFunc&&(this._depthFunc=e.depthFunc,this.applyDepthFunc()),e.blending?(this._blendingEnabled||n.enable(n.BLEND),this._blendDstFactor===e.blending.blendDst&&this._blendSrcFactor===e.blending.blendSrc&&this._blendEquation===e.blending.blendEquation||(this._blendDstFactor=e.blending.blendDst||this._blendDstFactor,this._blendSrcFactor=e.blending.blendSrc||this._blendSrcFactor,this._blendEquation=e.blending.blendEquation||this._blendEquation,this.applyBlendFactors())):this._blendingEnabled&&n.disable(n.BLEND),this._cullFace!==e.culling&&(this._cullFace=e.culling,this.applyCullFace()),this._colorMask[0]===e.colorWrite[0]&&this._colorMask[1]===e.colorWrite[1]&&this._colorMask[2]===e.colorWrite[2]&&this._colorMask[3]===e.colorWrite[3]||(this._colorMask=e.colorWrite,this.applyColorMask()),this._ditheringEnabled!==e.dithering&&(this._ditheringEnabled=e.dithering,this._ditheringEnabled?n.enable(n.DITHER):n.disable(n.DITHER)),this._currentUniforms=e.uniforms;var A=!0;return!!this._currentProgram&&(Object.entries(e.uniforms).forEach(function(e){var n=e[0],r=e[1];if(t._currentProgram){r.gl||(r.gl=new Map);var i=r.gl.get(t._currentProgram);if(!i){var o=t.gl.getUniformLocation(t._currentProgram,n);if(!o)return console.warn(t.debugContext,"A Material specified a uniform "+n+", but none was found in the current program."),void(A=!1);i={location:o},r.gl.set(t._currentProgram,i)}t.uploadUniform(i.location,r)}}),A?!(this._textureWillBeUsed.size>0&&!this.applyUsedTextures()):(console.warn(e.vertexShader),console.warn(e.fragmentShader),!1))},e.prototype.uploadUniform=function(e,t){var n;switch(t.type){case a.MaterialUniformType.FLOAT:n=t.value,this.gl.uniform1f(e,n);break;case a.MaterialUniformType.VEC2:n=t.value,this.gl.uniform2f(e,n[0],n[1]);break;case a.MaterialUniformType.VEC3:n=t.value,this.gl.uniform3f(e,n[0],n[1],n[2]);break;case a.MaterialUniformType.VEC4:n=t.value,this.gl.uniform4f(e,n[0],n[1],n[2],n[3]);break;case a.MaterialUniformType.VEC4_ARRAY:n=t.value,this.gl.uniform4fv(e,r.flatten4(n));break;case a.MaterialUniformType.MATRIX3x3:n=t.value,this.gl.uniformMatrix3fv(e,!1,n);break;case a.MaterialUniformType.MATRIX4x4:n=t.value,this.gl.uniformMatrix4fv(e,!1,n);break;case a.MaterialUniformType.TEXTURE:n=t.value,this.willUseTextureUnit(n,e);break;default:console.warn(this.debugContext,"A uniform specified an unrecognized type. It will not sync with the GPU:",t)}},e.prototype.applyUsedTextures=function(){var e=this,t=this.assignTextureUnits(Array.from(this._textureWillBeUsed.keys()));t.forEach(function(t){t.gl?t.gl.textureUnit=e.gl.TEXTURE0:t.gl={textureId:null,textureUnit:e.gl.TEXTURE0,proxy:e.glProxy}});var n=new Map,r=new Set;return this._textureWillBeUsed.forEach(function(e,t){e instanceof o.RenderTarget?r.add(e):n.set(t,e)}),r.forEach(function(n){n.getTextures().some(function(n){return!(t.indexOf(n)<0)||(e.glProxy.updateTexture(n),!1)})?console.warn(e.debugContext,"A RenderTarget can not be used because all of it's textures could not be compiled."):e.glProxy.compileRenderTarget(n)}),n.forEach(function(n,r){t.indexOf(r)<0?(e.glProxy.updateTexture(r),n.forEach(function(t){e.uploadTextureToUniform(t,r)})):n.forEach(function(t){e.gl.uniform1i(t,A.textureUnitToIndex(e.gl,0))})}),this._textureWillBeUsed.clear(),!0},e.prototype.assignTextureUnits=function(e){var t=[],n=[];for(e.forEach(function(e){!e.gl||e.gl.textureUnit<0?t.push(e):n.push(e)});this._freeUnits.length>0&&t.length>0;){if(i=t.shift())void 0!==(o=this._freeUnits.shift())?(i.gl?i.gl.textureUnit=o:i.gl={textureId:null,textureUnit:o,proxy:this.glProxy},n.push(i)):t.unshift(i)}if(t.length<=0)return t;s("WARNING: Too many textures in use are causing texture units to be swapped. Doing this occasionally is fine, but handling this on a frame loop can have serious performance concerns.");var r=new Map;this._textureUnitToTexture.forEach(function(e){e&&r.set(e,!1)}),n.forEach(function(e){r.set(e,!0)});var A=[];if(r.forEach(function(e,t){e||A.push(t)}),0===A.length)return console.warn(this.debugContext,"There are too many textures being used for a single draw call. These textures will not be utilized on the GPU",t),t;for(;A.length>0&&t.length>0;){var i,o;if(i=t.shift())void 0===(o=A.shift())||!o.gl||o.gl.textureUnit<0?t.unshift(i):(i.gl?i.gl.textureUnit=o.gl.textureUnit:i.gl={textureId:null,textureUnit:o.gl.textureUnit,proxy:this.glProxy},n.push(i))}return t.length>0&&console.warn(this.debugContext,"There are too many textures being used for a single draw call. These textures will not be utilized on the GPU",t),t},e.prototype.uploadTextureToUniform=function(e,t){t.gl&&t.gl.textureUnit>=0?this.gl.uniform1i(e,A.textureUnitToIndex(this.gl,t.gl.textureUnit)):console.warn(this.debugContext,"Attempted to set a Texture Object to a uniform, but the Texture object did not have a valid texture unit.",t)},e.prototype.willUseTextureUnit=function(e,t){var n=this._textureWillBeUsed.get(e);t instanceof o.RenderTarget?n?n instanceof o.RenderTarget&&n!==t&&console.warn(this.debugContext,"A Texture is attempting to be used by two different render targets in a single draw."):this._textureWillBeUsed.set(e,t):n?n instanceof o.RenderTarget?console.warn(this.debugContext,"A texture in a single draw is attempting to attach to a uniform AND a render target which is invalid."):n.add(t):this._textureWillBeUsed.set(e,new Set([t]))},e.prototype.syncState=function(){var e=this.gl;this._blendingEnabled?e.enable(e.BLEND):e.disable(e.BLEND),this._ditheringEnabled?e.enable(e.DITHER):e.disable(e.DITHER),this._depthTestEnabled?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this._scissorTestEnabled?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),this.setActiveTextureUnit(this._activeTextureUnit),this.applyClearColor(),this.applyCullFace(),this.applyBlendFactors(),this.applyBlendEquation(),this.applyColorMask(),this.applyDepthFunc(),this.applyScissorBounds(),this.applyViewport(),e.depthMask(this._depthMask)},e.prototype.applyClearColor=function(){this.gl.clearColor(this._clearColor[0],this._clearColor[1],this._clearColor[2],this._clearColor[3])},e.prototype.applyDepthFunc=function(){var e=this.gl;switch(this._depthFunc){case i.GLSettings.Material.DepthFunctions.ALWAYS:e.depthFunc(e.ALWAYS);break;case i.GLSettings.Material.DepthFunctions.EQUAL:e.depthFunc(e.EQUAL);break;case i.GLSettings.Material.DepthFunctions.GREATER:e.depthFunc(e.GREATER);break;case i.GLSettings.Material.DepthFunctions.GREATER_OR_EQUAL:e.depthFunc(e.GEQUAL);break;case i.GLSettings.Material.DepthFunctions.LESS:e.depthFunc(e.LESS);break;case i.GLSettings.Material.DepthFunctions.LESS_OR_EQUAL:e.depthFunc(e.LEQUAL);break;case i.GLSettings.Material.DepthFunctions.NEVER:e.depthFunc(e.NEVER);break;case i.GLSettings.Material.DepthFunctions.NOTEQUAL:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.ALWAYS)}},e.prototype.applyScissorBounds=function(){this.gl.scissor(this._scissorBounds.x,this._scissorBounds.y,this._scissorBounds.width,this._scissorBounds.height)},e.prototype.applyColorMask=function(){this.gl.colorMask(this.colorMask[0]||!1,this.colorMask[1]||!1,this.colorMask[2]||!1,this.colorMask[3]||!1)},e.prototype.applyBlendEquation=function(){var e=this.gl;switch(this._blendEquation){case i.GLSettings.Material.BlendingEquations.Add:e.blendEquation(e.FUNC_ADD);break;case i.GLSettings.Material.BlendingEquations.Subtract:e.blendEquation(e.FUNC_SUBTRACT);break;case i.GLSettings.Material.BlendingEquations.ReverseSubtract:e.blendEquation(e.FUNC_REVERSE_SUBTRACT)}},e.prototype.applyBlendFactors=function(){var e,t,n=this.gl;switch(this._blendDstFactor){case i.GLSettings.Material.BlendingDstFactor.DstAlpha:e=n.BLEND_DST_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.DstColor:e=n.BLEND_DST_RGB;break;case i.GLSettings.Material.BlendingDstFactor.One:e=n.ONE;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusDstAlpha:e=n.ONE_MINUS_DST_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusDstColor:e=n.ONE_MINUS_DST_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusSrcAlpha:e=n.ONE_MINUS_SRC_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusSrcColor:e=n.ONE_MINUS_SRC_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.SrcAlpha:e=n.SRC_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.SrcColor:e=n.SRC_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.Zero:e=n.ZERO;break;default:e=n.ONE}switch(this._blendSrcFactor){case i.GLSettings.Material.BlendingDstFactor.DstAlpha:t=n.BLEND_DST_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.DstColor:t=n.BLEND_DST_RGB;break;case i.GLSettings.Material.BlendingDstFactor.One:t=n.ONE;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusDstAlpha:t=n.ONE_MINUS_DST_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusDstColor:t=n.ONE_MINUS_DST_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusSrcAlpha:t=n.ONE_MINUS_SRC_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.OneMinusSrcColor:t=n.ONE_MINUS_SRC_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.SrcAlpha:t=n.SRC_ALPHA;break;case i.GLSettings.Material.BlendingDstFactor.SrcColor:t=n.SRC_COLOR;break;case i.GLSettings.Material.BlendingDstFactor.Zero:t=n.ZERO;break;case i.GLSettings.Material.BlendingSrcFactor.SrcAlphaSaturate:t=n.SRC_ALPHA_SATURATE;break;default:t=n.ONE}n.blendFunc(t,e)},e.prototype.applyCullFace=function(){var e=this.gl;switch(this._cullFace!==i.GLSettings.Material.CullSide.NONE&&e.enable(e.CULL_FACE),this._cullFace){case i.GLSettings.Material.CullSide.CW:e.frontFace(e.CW),e.cullFace(e.FRONT);break;case i.GLSettings.Material.CullSide.CCW:e.frontFace(e.CCW),e.cullFace(e.FRONT);break;case i.GLSettings.Material.CullSide.BOTH:e.frontFace(e.CW),e.cullFace(e.FRONT_AND_BACK);break;default:e.disable(e.CULL_FACE)}},e.prototype.applyViewport=function(){this.gl.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},e}();t.GLState=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),A=n(9),i=n(21),o=n(3)("performance");function a(e){return e&&e.buffer&&void 0!==e.buffer.byteOffset&&e.buffer.byteLength||null===e.buffer}function s(e){return 0==(e&e-1)}function c(e){return Boolean(e.gl&&e.gl.textureId&&e.gl.textureUnit>-1)}var u=function(){function e(e,t,n){this.debugContext="",this.fragmentShaders=new Map,this.vertexShaders=new Map,this.programs=new Map,this.gl=e,this.state=t,this.extensions=n}return e.addExtensions=function(e){var t=e.getExtension("ANGLE_instanced_arrays"),n=e.getExtension("WEBGL_draw_buffers"),r=e.getExtension("EXT_texture_filter_anisotropic"),A={maxAnistropicFilter:0};return t||e instanceof WebGL2RenderingContext||o("This device does not have hardware instancing. All buffering strategies will be utilizing compatibility modes."),n||e instanceof WebGL2RenderingContext||o("This device does not have hardware multi-render target capabilities. The system will have to fallback to multiple render passes to multiple FBOs to achieve the same result."),r?A.maxAnistropicFilter=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):o("This device does not have hardware anisotropic filtering for textures. This property will be ignored when setting texture settings."),{instancing:(e instanceof WebGL2RenderingContext?e:t)||void 0,drawBuffers:(e instanceof WebGL2RenderingContext?e:n)||void 0,anisotropicFiltering:r?{ext:r,stat:A}:void 0}},e.prototype.clear=function(e,t,n){var r=0;e&&(r|=this.gl.COLOR_BUFFER_BIT),t&&(r|=this.gl.DEPTH_BUFFER_BIT),n&&(r|=this.gl.STENCIL_BUFFER_BIT),this.gl.clear(r)},e.prototype.compileAttribute=function(e){if(!e.gl){var t=this.gl,n=t.createBuffer();return n?(this.state.bindVBO(n),t.bufferData(t.ARRAY_BUFFER,e.data,e.isDynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW),e.gl={bufferId:n,type:t.ARRAY_BUFFER},e.resolve(),!0):(console.warn(this.debugContext,"Could bot create WebGLBuffer. Printing any existing gl errors:"),void this.printError())}},e.prototype.compileGeometry=function(e){var t=this,n=!0;return e.attributes.forEach(function(e){n=Boolean(t.compileAttribute(e)&&n)}),n},e.prototype.compileMaterial=function(e){if(!e.gl){var t=this.fragmentShaders.get(e.fragmentShader)||null;if(!t){if(!(t=this.gl.createShader(this.gl.FRAGMENT_SHADER)))return console.warn(this.debugContext,"Could not create a Fragment WebGLShader. Printing GL Errors:"),void this.printError();if(this.gl.shaderSource(t,e.fragmentShader),this.gl.compileShader(t),!this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS))return console.error(this.debugContext,"FRAGMENT SHADER COMPILER ERROR:",e.name),console.warn("Could not compile provided shader. Printing logs and errors:"),console.warn(this.lineFormatShader(e.fragmentShader)),console.warn("LOGS:"),console.warn(this.gl.getShaderInfoLog(t)),this.printError(),void this.gl.deleteShader(t)}var n=this.vertexShaders.get(e.vertexShader)||null;if(!n){if(!(n=this.gl.createShader(this.gl.VERTEX_SHADER)))return console.warn(this.debugContext,"Could not create a Vertex WebGLShader. Printing GL Errors:"),void this.printError();if(this.gl.shaderSource(n,e.vertexShader),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))return console.error(this.debugContext,"VERTEX SHADER COMPILER ERROR",e.name),console.warn("Could not compile provided shader. Printing logs and errors:"),console.warn(this.lineFormatShader(e.vertexShader)),console.warn("LOGS:"),console.warn(this.gl.getShaderInfoLog(n)),this.printError(),void this.gl.deleteShader(n)}var r=this.programs.get(n);r||(r=new Map,this.programs.set(n,r));var A=r.get(t)||null;if(A)A.useCount++;else{var i=this.gl.createProgram();if(!i)return console.warn(this.debugContext,"Could not create a WebGLProgram. Printing GL Errors:"),void this.printError();if(A={useCount:1,program:i},this.gl.attachShader(i,n),this.gl.attachShader(i,t),this.gl.linkProgram(i),this.gl.validateProgram(i),!this.gl.getProgramParameter(i,this.gl.LINK_STATUS)||!this.gl.getProgramParameter(i,this.gl.VALIDATE_STATUS)){var o=this.gl.getProgramInfoLog(i);return console.warn(this.debugContext,"Could not compile WebGL program. \n\n",o),void this.gl.deleteProgram(i)}r.set(t,A)}e.gl={fsId:t,vsId:n,programId:A.program,proxy:this},this.state.useProgram(A.program);var a=this.state.currentProgram;if(!a)return!1;for(var s=this.gl.getProgramParameter(a,this.gl.ACTIVE_UNIFORMS),c=new Set,u=0;u<s;u++){var l=this.gl.getActiveUniform(a,u);l&&c.add(l.name)}var d=new Set;return Object.keys(e.uniforms).forEach(function(e){c.has(e)||d.add(e)}),d.forEach(function(t){delete e.uniforms[t]}),Object.keys(e.uniforms).length===c.size||(console.warn(this.debugContext,"A program is requesting a set of uniforms:",Array.from(c.values()),"but our material only provides",Object.keys(e.uniforms),"thus the expected rendering will be considered invalid."),!1)}},e.prototype.compileRenderTarget=function(e){var t=this;if(!e.gl){var n=this.gl,A=n.createFramebuffer();if(!A)return console.warn(this.debugContext,"Could not generate a frame buffer object. Printing GL errors:"),this.printError(),!1;this.state.bindFBO(A);var o={fboId:A,proxy:this};if(Array.isArray(e.buffers.color)){var a=[],s=!0;if(o.colorBufferId=a,e.buffers.color.forEach(function(A,o){if(s)if(A instanceof i.Texture)a.push(A),c(A)?n.framebufferTexture2D(n.FRAMEBUFFER,r.indexToColorAttachment(n,t.extensions,o,!0),n.TEXTURE_2D,A.gl.textureId,0):(console.warn(t.debugContext,"Attempted to compile render target whose target texture was not ready for use."),s=!1);else{var u=t.compileColorBuffer(A,e.width,e.height);u&&(a.push(u),n.framebufferRenderbuffer(n.FRAMEBUFFER,r.indexToColorAttachment(n,t.extensions,o,!0),n.RENDERBUFFER,u))}}),!s)return!1}else if(void 0!==e.buffers.color){var u;if((u=e.buffers.color)instanceof i.Texture){if(o.colorBufferId=u,!c(u))return console.warn(this.debugContext,"Attempted to compile render target whose target texture was not ready for use."),!1;n.framebufferTexture2D(n.FRAMEBUFFER,r.indexToColorAttachment(n,this.extensions,0,!0),n.TEXTURE_2D,u.gl.textureId,0)}else{var l;(l=this.compileColorBuffer(u,e.width,e.height))&&(o.colorBufferId=l,n.framebufferRenderbuffer(n.FRAMEBUFFER,r.indexToColorAttachment(n,this.extensions,0,!0),n.RENDERBUFFER,l))}}if(void 0!==e.buffers.depth)if((u=e.buffers.depth)instanceof i.Texture)o.depthBufferId=u,c(u)&&n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u.gl.textureId,0);else(l=this.compileDepthBuffer(u,e.width,e.height))&&(o.depthBufferId=l,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,l));if(void 0!==e.buffers.stencil)if((u=e.buffers.stencil)instanceof i.Texture)o.stencilBufferId=u,c(u)&&n.framebufferTexture2D(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.TEXTURE_2D,u.gl.textureId,0);else(l=this.compileStencilBuffer(u,e.width,e.height))&&(o.stencilBufferId=l,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,l));e.gl=o;var d=n.checkFramebufferStatus(n.FRAMEBUFFER),h=!1,f=!1,p="";switch(d){case n.FRAMEBUFFER_COMPLETE:e.setAsValid();break;case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:p="FRAMEBUFFER_INCOMPLETE_ATTACHMENT";break;case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:p="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";break;case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:p="FRAMEBUFFER_INCOMPLETE_DIMENSIONS";break;case n.FRAMEBUFFER_UNSUPPORTED:p="FRAMEBUFFER_UNSUPPORTED";break;default:h=!0}if(n instanceof WebGL2RenderingContext)switch(d){case n.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:p="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE";break;case n.RENDERBUFFER_SAMPLES:p="RENDERBUFFER_SAMPLES";break;default:f=!0}return h&&f&&(console.warn(this.debugContext,"A framebuffer check failed to return a known result. This FBO for render target will be assumed failed"),console.warn("Result:",d,"Render Target:",e),p="UNKNOWN"),!p||(console.warn(this.debugContext,"When creating a new FrameBuffer Object, the check on the framebuffer failed. Printing Errors:"),console.warn(p),console.warn("FAILED RENDER TARGET:",e),delete e.gl,!1)}},e.prototype.compileDepthBuffer=function(e,t,n){var A=this.gl,i=A.createRenderbuffer();return i?(this.state.bindRBO(i),A.renderbufferStorage(A.RENDERBUFFER,r.depthBufferFormat(A,e),t,n),i):(console.warn(this.debugContext,"Could not generate a WebGLRenderBuffer. Printing GL Errors:"),void this.printError())},e.prototype.compileStencilBuffer=function(e,t,n){var A=this.gl,i=A.createRenderbuffer();return i?(this.state.bindRBO(i),A.renderbufferStorage(A.RENDERBUFFER,r.stencilBufferFormat(A,e),t,n),i):(console.warn(this.debugContext,"Could not generate a WebGLRenderBuffer. Printing GL Errors:"),void this.printError())},e.prototype.compileColorBuffer=function(e,t,n){var A=this.gl,i=A.createRenderbuffer();return i?(this.state.bindRBO(i),A.renderbufferStorage(A.RENDERBUFFER,r.colorBufferFormat(A,e),t,n),i):(console.warn(this.debugContext,"Could not generate a WebGLRenderBuffer. Printing GL Errors:"),void this.printError())},e.prototype.compileTexture=function(e){if(e.gl&&!e.gl.textureId){if(!(e.gl.textureUnit<0)){this.state.setActiveTextureUnit(e.gl.textureUnit);var t=this.gl.createTexture();return t?(e.gl.textureId=t,e.needsDataUpload=!0,e.needsSettingsUpdate=!0,this.updateTextureData(e),this.updateTextureSettings(e),!0):(console.warn(this.debugContext,"Could not generate a texture object on the GPU. Printing any gl errors:"),void this.printError())}console.warn(this.debugContext,"A Texture object attempted to be compiled without an established Texture Unit.",e)}},e.prototype.draw=function(e){var t,n=[0,0];n=e.vertexDrawRange&&e.vertexDrawRange[0]>=0&&e.vertexDrawRange[1]>=0?[e.vertexDrawRange[0],e.vertexDrawRange[1]-e.vertexDrawRange[0]]:[0,e.vertexCount],e.drawInstances>=0&&(t=this.extensions.instancing),t&&t instanceof WebGL2RenderingContext?t.drawArraysInstanced(r.drawMode(this.gl,e.drawMode),n[0],n[1],e.drawInstances):t?t.drawArraysInstancedANGLE(r.drawMode(this.gl,e.drawMode),n[0],n[1],e.drawInstances):this.gl.drawArrays(r.drawMode(this.gl,e.drawMode),n[0],n[1])},e.prototype.disposeMaterial=function(e){if(e.gl){var t=e.gl,n=t.vsId,r=t.fsId,A=t.programId,i=this.programs.get(n);i||(i=new Map,this.gl.deleteShader(n));var o=i.get(r);o||(o={useCount:0,program:A}),o.useCount--,o.useCount<1&&(this.gl.deleteProgram(o.program),i.delete(r),i.size<=0&&this.gl.deleteShader(n));var a=!1;this.programs.forEach(function(e){e.has(r)&&(a=!0)}),a||this.gl.deleteShader(r)}delete e.gl},e.prototype.disposeRenderBuffer=function(e){this.gl.deleteRenderbuffer(e)},e.prototype.disposeRenderTarget=function(e){var t=this;e.gl&&(Array.isArray(e.gl.colorBufferId)?e.gl.colorBufferId.forEach(function(e){e instanceof i.Texture?t.disposeTexture(e):t.disposeRenderBuffer(e)}):e.gl.colorBufferId instanceof i.Texture?this.disposeTexture(e.gl.colorBufferId):e.gl.colorBufferId instanceof WebGLRenderbuffer&&this.disposeRenderBuffer(e.gl.colorBufferId),e.gl.depthBufferId instanceof i.Texture?this.disposeTexture(e.gl.depthBufferId):e.gl.depthBufferId instanceof WebGLRenderbuffer&&this.disposeRenderBuffer(e.gl.depthBufferId),e.gl.stencilBufferId instanceof i.Texture?this.disposeTexture(e.gl.stencilBufferId):e.gl.stencilBufferId instanceof WebGLRenderbuffer&&this.disposeRenderBuffer(e.gl.stencilBufferId),delete e.gl)},e.prototype.disposeTexture=function(e){e.gl&&(this.gl.deleteTexture(e.gl.textureId),this.state.freeTextureUnit(e)),delete e.gl},e.getContext=function(t,n){for(var r=["webgl","experimental-webgl"],A=null,i={},a=0;a<r.length;++a){var s=r[a],c=t.getContext(s,n);if(c&&(c instanceof WebGLRenderingContext||c instanceof WebGL2RenderingContext)){o("Generated GL Context of version with attributes:",s,n),A=c,i=e.addExtensions(A);break}}return{context:A,extensions:i}},e.prototype.printError=function(){var e=this.gl.getError();switch(e){case this.gl.NO_ERROR:console.warn("GL Error: No Error");break;case this.gl.INVALID_ENUM:console.warn("GL Error: INVALID ENUM");break;case this.gl.INVALID_VALUE:console.warn("GL Error: INVALID_VALUE");break;case this.gl.INVALID_OPERATION:console.warn("GL Error: INVALID OPERATION");break;case this.gl.INVALID_FRAMEBUFFER_OPERATION:console.warn("GL Error: INVALID FRAMEBUFFER OPERATION");break;case this.gl.OUT_OF_MEMORY:console.warn("GL Error: OUT OF MEMORY");break;case this.gl.CONTEXT_LOST_WEBGL:console.warn("GL Error: CONTEXT LOST WEBGL");break;default:console.warn("GL Error: GL Context output an unrecognized error value:",e)}},e.prototype.lineFormatShader=function(e){var t=e.split("\n"),n=String(t.length).length+1;return"\n"+t.map(function(e,t){return""+Array(n-String(t+1).length).join(" ")+(t+1)+": "+e}).join("\n")},e.prototype.updateTexture=function(e){!e.gl||e.gl.textureUnit<0?console.warn(this.debugContext,"Can not update or compile a texture that does not have an established texture unit.",e):(this.compileTexture(e),this.updateTextureData(e),this.updateTexturePartialData(e),this.updateTextureSettings(e),e.resolve())},e.prototype.updateTextureData=function(e){if(e.needsDataUpload&&e.gl&&e.gl.textureId)if(e.gl.textureUnit<0)console.warn(this.debugContext,"A Texture object attempted to update it's data without an established Texture Unit.",e);else{var t=this.gl;this.state.setActiveTextureUnit(e.gl.textureUnit),this.state.bindTexture(e,A.GLSettings.Texture.TextureBindingTarget.TEXTURE_2D),e.needsSettingsUpdate=!0,this.updateTextureSettings(e),t instanceof WebGLRenderingContext&&(a(e.data)?(s(e.data.width)&&s(e.data.height)||o("Created a texture that is not using power of 2 dimensions."),t.texImage2D(t.TEXTURE_2D,0,r.texelFormat(t,e.format),e.data.width,e.data.height,0,r.texelFormat(t,e.format),r.inputImageFormat(t,e.type),e.data.buffer)):e.data&&(s(e.data.width)&&s(e.data.height)||o("Created a texture that is not using power of 2 dimensions. %o",e),t.texImage2D(t.TEXTURE_2D,0,r.texelFormat(t,e.format),r.texelFormat(t,e.format),r.inputImageFormat(t,e.type),e.data)),e.generateMipMaps&&t.generateMipmap(t.TEXTURE_2D)),e.data&&(e.data={width:e.data.width,height:e.data.height,buffer:null}),e.needsDataUpload=!1}},e.prototype.updateTexturePartialData=function(e){if(e.needsPartialDataUpload&&e.gl&&e.gl.textureId)if(e.gl.textureUnit<0)console.warn(this.debugContext,"A Texture object attempted to update it's data without an established Texture Unit.",e);else{var t=this.gl;this.state.setActiveTextureUnit(e.gl.textureUnit),this.state.bindTexture(e,A.GLSettings.Texture.TextureBindingTarget.TEXTURE_2D),e.updateRegions.forEach(function(n){var A=n[0],i=n[1];t instanceof WebGLRenderingContext&&(a(A)?t.texSubImage2D(t.TEXTURE_2D,0,i.x,i.y,A.width,A.height,r.texelFormat(t,e.format),r.inputImageFormat(t,e.type),A.buffer):A&&t.texSubImage2D(t.TEXTURE_2D,0,i.x,i.y,r.texelFormat(t,e.format),r.inputImageFormat(t,e.type),A),e.generateMipMaps&&t.generateMipmap(t.TEXTURE_2D))}),e.needsPartialDataUpload=!1}},e.prototype.updateTextureSettings=function(e){if(e.needsSettingsUpdate&&e.gl&&e.data&&e.gl.textureId)if(e.gl.textureUnit<0)console.warn(this.debugContext,"A Texture object attempted to update it's settings without an established Texture Unit.",e);else{var t=s(e.data.width)&&s(e.data.height),n=this.gl;if(this.state.setActiveTextureUnit(e.gl.textureUnit),this.state.bindTexture(e,A.GLSettings.Texture.TextureBindingTarget.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,r.magFilter(n,e.magFilter,t)),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r.minFilter(n,e.minFilter,t,e.generateMipMaps)),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,r.wrapMode(n,e.wrapHorizontal)),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,r.wrapMode(n,e.wrapVertical)),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,e.flipY),this.extensions.anisotropicFiltering){var i=this.extensions.anisotropicFiltering,o=i.ext,a=i.stat;n.texParameterf(n.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.maxAnistropicFilter,Math.floor(e.anisotropy)))}e.needsSettingsUpdate=!1}},e.prototype.updateAttribute=function(e){if(!e.gl)return this.compileAttribute(e);if(!e.fullUpdate&&!e.needsUpdate)return!0;var t=this.gl;if(e.fullUpdate||e.updateRange.count<0||e.updateRange.offset<0)this.state.bindVBO(e.gl.bufferId),t.bufferData(t.ARRAY_BUFFER,e.data,e.isDynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW);else if(e.updateRange.count>0){this.state.bindVBO(e.gl.bufferId);var n=e.updateRange.offset;t.bufferSubData(t.ARRAY_BUFFER,4*n,e.data.subarray(n,n+e.updateRange.count))}return e.resolve(),!0},e.prototype.useAttribute=function(e,t){if(!this.state.currentProgram)return!1;if(!t.gl)return!1;t.gl.locations=t.gl.locations||new Map;var n=t.gl.locations.get(this.state.currentProgram);return void 0===n&&(-1===(n=this.gl.getAttribLocation(this.state.currentProgram,e))&&o("WARN: An attribute is not being used with the current material: %o",t),t.gl.locations.set(this.state.currentProgram,n)),-1!==n?(this.state.bindVBO(t.gl.bufferId),this.state.willUseVertexAttributeArray(n),this.gl.vertexAttribPointer(n,t.size,this.gl.FLOAT,t.normalize,0,0),t.isInstanced&&this.extensions.instancing?this.state.setVertexAttributeArrayDivisor(n,1):this.state.setVertexAttributeArrayDivisor(n,0),!0):void 0},e}();t.GLProxy=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._attributes={},this.gl={},this.maxInstancedCount=0}return Object.defineProperty(e.prototype,"attributes",{get:function(){return new Map(Object.entries(this._attributes))},enumerable:!0,configurable:!0}),e.prototype.addAttribute=function(e,t){this._attributes[e]=t},e.prototype.removeAttribute=function(e){delete this._attributes[e]},e.prototype.dispose=function(){},e}();t.Geometry=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this._isInstanced=!1,this._fullUpdate=!1,this.normalize=!1,this._updateRange={count:-1,offset:-1},this.data=e,this.size=t,this._isDynamic=n,this._isInstanced=r}return Object.defineProperty(e.prototype,"isDynamic",{get:function(){return this._isDynamic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInstanced",{get:function(){return this._isInstanced},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullUpdate",{get:function(){return this._fullUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needsUpdate",{get:function(){return this._needsUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateRange",{get:function(){return this._updateRange},set:function(e){this._updateRange=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){this._needsUpdate=!1,this._fullUpdate=!1},e.prototype.setDynamic=function(e){this._isDynamic=e,this._needsUpdate=!0,this._fullUpdate=!0},e}();t.Attribute=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],A=[];requestAnimationFrame(function e(t){requestAnimationFrame(e);for(var n=0,i=A.length;n<i;++n){var o=A[n];o&&o(t)}A=r.slice(0),r=[]}),t.nextFrame=function(e){r.push(e)}},function(e,t,n){"use strict";function r(e){return e[3]*e[0]-e[1]*e[2]}function A(e){return e[0]*e[4]*e[8]-e[0]*e[5]*e[7]+e[1]*e[5]*e[6]-e[1]*e[3]*e[8]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]}function i(e){var t=[e[5],e[6],e[7],e[9],e[10],e[11],e[13],e[14],e[15]],n=[e[4],e[6],e[7],e[8],e[10],e[11],e[12],e[14],e[15]],r=[e[4],e[5],e[7],e[8],e[9],e[11],e[12],e[13],e[15]],i=[e[4],e[5],e[6],e[8],e[9],e[10],e[12],e[13],e[14]];return e[0]*A(t)-e[1]*A(n)+e[2]*A(r)-e[3]*A(i)}function o(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]}function a(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]}Object.defineProperty(t,"__esModule",{value:!0}),t.determinant2x2=r,t.determinant3x3=A,t.determinant4x4=i,t.affineInverse2x2=function(e){var t=r(e);return 0===t?null:[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t]},t.affineInverse3x3=function(e){var t=A(e);if(0===t)return null;var n=r([e[4],e[5],e[7],e[8]]),i=r([e[3],e[5],e[6],e[8]]),o=r([e[3],e[4],e[6],e[7]]),a=r([e[1],e[2],e[7],e[8]]),s=r([e[0],e[2],e[6],e[8]]),c=r([e[0],e[1],e[6],e[7]]);return[n/t,-a/t,r([e[1],e[2],e[4],e[5]])/t,-i/t,s/t,r([e[0],e[2],e[3],e[5]])/t,o/t,-c/t,r([e[0],e[1],e[3],e[4]])/t]},t.affineInverse4x4=function(e){var t=i(e);if(0===t)return null;var n=r([e[0],e[1],e[4],e[5]]),A=r([e[0],e[2],e[4],e[6]]),o=r([e[0],e[3],e[4],e[7]]),a=r([e[1],e[2],e[5],e[6]]),s=r([e[1],e[3],e[5],e[7]]),c=r([e[2],e[3],e[6],e[7]]),u=r([e[10],e[11],e[14],e[15]]),l=r([e[9],e[11],e[13],e[15]]),d=r([e[9],e[10],e[13],e[14]]),h=r([e[8],e[11],e[12],e[15]]),f=r([e[8],e[10],e[12],e[14]]),p=r([e[8],e[9],e[12],e[13]]);return[(e[5]*u-e[6]*l+e[7]*d)/t,(-e[1]*u+e[2]*l-e[3]*d)/t,(e[12]*c-e[13]*s+e[14]*a)/t,(-e[9]*c+e[10]*s-e[11]*a)/t,(-e[4]*u+e[6]*h-e[7]*f)/t,(e[0]*u-e[2]*h+e[3]*f)/t,(-e[12]*c+e[14]*o-e[15]*A)/t,(e[8]*c-e[10]*o+e[11]*A)/t,(e[4]*l-e[5]*h+e[7]*p)/t,(-e[0]*l+e[1]*h-e[3]*p)/t,(e[12]*s-e[13]*o+e[15]*n)/t,(-e[8]*s+e[9]*o-e[11]*n)/t,(-e[4]*d+e[5]*f-e[6]*p)/t,(e[0]*d-e[1]*f+e[2]*p)/t,(-e[12]*a+e[13]*A-e[14]*n)/t,(e[8]*a-e[9]*A+e[10]*n)/t]},t.scale2x2=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]},t.scale3x3=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t,e[8]*t]},t.multiplyScalar4x4=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t,e[8]*t,e[9]*t,e[10]*t,e[11]*t,e[12]*t,e[13]*t,e[14]*t,e[15]*t]},t.identity2=function(){return[1,0,0,1]},t.identity3=function(){return[1,0,0,0,1,0,0,0,1]},t.identity4=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.multiply2x2=function(e,t){return[e[0]*t[0]+e[1]*t[2],e[0]*t[1]+e[1]*t[3],e[2]*t[0]+e[3]*t[2],e[2]*t[1]+e[1]*t[3]]},t.multiply3x3=function(e,t){return[e[0]*t[0]+e[1]*t[3]+e[2]*t[6],e[0]*t[1]+e[1]*t[4]+e[2]*t[7],e[0]*t[2]+e[1]*t[5]+e[2]*t[8],e[3]*t[0]+e[4]*t[3]+e[5]*t[6],e[3]*t[1]+e[4]*t[4]+e[5]*t[7],e[3]*t[2]+e[4]*t[5]+e[5]*t[8],e[6]*t[0]+e[7]*t[3]+e[8]*t[6],e[6]*t[1]+e[7]*t[4]+e[8]*t[7],e[6]*t[2]+e[7]*t[5]+e[8]*t[8]]},t.multiply4x4=function(e,t){return[e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15]]},t.add2x2=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]},t.add3x3=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7],e[8]+t[8]]},t.add4x4=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7],e[8]+t[8],e[9]+t[9],e[10]+t[10],e[11]+t[11],e[12]+t[12],e[13]+t[13],e[14]+t[14],e[15]+t[15]]},t.subtract2x2=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3]]},t.subtract3x3=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7],e[8]-t[8]]},t.subtract4x4=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7],e[8]-t[8],e[9]-t[9],e[10]-t[10],e[11]-t[11],e[12]-t[12],e[13]-t[13],e[14]-t[14],e[15]-t[15]]},t.Hadamard2x2=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3]]},t.Hadamard3x3=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3],e[4]*t[4],e[5]*t[5],e[6]*t[6],e[7]*t[7],e[8]*t[8]]},t.Hadamard4x4=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3],e[4]*t[4],e[5]*t[5],e[6]*t[6],e[7]*t[7],e[8]*t[8],e[9]*t[9],e[10]*t[10],e[11]*t[11],e[12]*t[12],e[13]*t[13],e[14]*t[14],e[15]*t[15]]},t.transpose2x2=function(e){return[e[0],e[2],e[1],e[3]]},t.transpose3x3=function(e){return[e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]]},t.transpose4x4=function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]},t.toString4x4=function(e){return"Matrix: [\n    "+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+",\n    "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+",\n    "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+",\n    "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+",\n  ]"},t.scale4x4by3=function(e){return o(e[0],e[1],e[2])},t.scale4x4=o,t.translation4x4by3=function(e){return a(e[0],e[1],e[2])},t.translation4x4=a,t.perspective4x4=function(e,t,n,r){var A=1/Math.tan(e/2),i=1/(n-r);return[A/t,0,0,0,0,A,0,0,0,0,(n+r)*i,-1,0,0,n*r*i*2,0]},t.orthographic4x4=function(e,t,n,r,A,i){return[2/(t-e),0,0,0,0,2/(r-n),0,0,0,0,-1/(i-A),0,(t+e)/(e-t),(r+n)/(n-r),-A/(A-i),1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256);t.normalizeWheel=r.normalizeWheel,t.eventElementPosition=function(e,t){var n=0,r=0,A=0,i=0,o=t||e.nativeEvent&&e.nativeEvent.target||e.target;if(e||(e=window.event),e.pageX||e.pageY)n=e.pageX,r=e.pageY;else if(e.clientX||e.clientY){var a=0,s=0;document.documentElement&&(a=document.documentElement.scrollLeft,s=document.documentElement.scrollTop),n=e.clientX+document.body.scrollLeft+a,r=e.clientY+document.body.scrollTop+s}if(o.offsetParent)do{A+=o.offsetLeft,i+=o.offsetTop,o=o.offsetParent}while(o);return[n-A,r-i]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.templateVars={attributes:"attributes",easingMethod:"easingMethod",extend:"extend",extendHeader:"extendHeader",T:"T"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),A=n(107);t.extendShader=function(e,t,n){var i=e.vs,o=e.fs,a={shader:i},s={shader:o};if(t){(u={})[A.templateVars.extendHeader]=t.header?t.header+"\n${"+A.templateVars.extendHeader+"}":"",u[A.templateVars.extend]=t.body?t.body+"\n${"+A.templateVars.extend+"}":"";var c={name:"Extend VS Shader",values:[A.templateVars.extendHeader,A.templateVars.extend]};a=r.shaderTemplate({options:u,required:c,shader:i,onToken:function(e,t){return e===A.templateVars.extendHeader||e===A.templateVars.extend?t:"${"+e+"}"}})}if(n){var u;(u={})[A.templateVars.extendHeader]=n.header?n.header+"\n${"+A.templateVars.extendHeader+"}":"",u[A.templateVars.extend]=n.body?n.body+"\n${"+A.templateVars.extend+"}":"",c={name:"Extend FS Shader",values:[A.templateVars.extendHeader,A.templateVars.extend]},s=r.shaderTemplate({options:u,required:c,shader:o,onToken:function(e,t){return e===A.templateVars.extendHeader||e===A.templateVars.extend?t:"${"+e+"}"}})}return{fs:s.shader,vs:a.shader}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,A=n(30),i=n(4),o=Math.min,a=Math.max,s=Math.pow,c=Math.round,u=Math.sin,l=Math.PI,d=c(1e3*l)/1e3;function h(e,t,n){return o(a(e,t),n)}!function(e){e[e.NONE=1]="NONE",e[e.CONTINUOUS=4]="CONTINUOUS",e[e.REPEAT=2]="REPEAT",e[e.REFLECT=3]="REFLECT"}(r=t.AutoEasingLoopStyle||(t.AutoEasingLoopStyle={}));var f="\n${easingMethod} {\n  float p = 0.3;\n  float time = pow(2.0, -10.0 * t) * sin((t - p / 4.0) * (2.0 * "+d+") / p) + 1.0;\n  return (end - start) * time + start;\n}\n",p="\n${easingMethod} {\n  float time = t * t * t - t * 1.05 * sin(t * "+d+");\n  return (end - start) * time + start;\n}\n",g="\n${easingMethod} {\n  ${T} direction = end - start;\n  float amplitude = length(direction) * 2.0;\n  return start + direction * sin(t * "+d+" * 2.0) * amplitude;\n}\n",B=function(){function e(e,t,n,i){this.uid=A.uid(),this.delay=0,this.duration=500,this.loop=r.NONE,this.cpu=e,this.gpu=t,this.duration=n||500,this.methodName=i||"easingMethod"}return e.immediate=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){return t},delay:t,duration:e,gpu:"\n${easingMethod} {\n  return end;\n}\n",loop:n,methodName:"immediate"}},e.linear=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=i.VecMath(e),A=r.add,o=r.scale,a=r.subtract;return n=h(n,0,1),A(o(a(t,e),n),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  return (end - start) * t + start;\n}\n",loop:n,methodName:"linear"}},e.easeInQuad=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t * t;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInQuad"}},e.easeOutQuad=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*(2-n),A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t * (2.0 - t);\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeOutQuad"}},e.easeInOutQuad=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))<.5?2*n*n:(4-2*n)*n-1,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t < 0.5 ? 2.0 * t * t : -1.0 + (4.0 - 2.0 * t) * t;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInOutQuad"}},e.easeInCubic=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t * t * t;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInCubic"}},e.easeOutCubic=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){n=h(n,0,1);var r=--n*n*n+1,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float time = t1 * t1 * t1 + 1.0;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeOutCubic"}},e.easeInOutCubic=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t < 0.5 ? 4.0 * t * t * t : (t - 1.0) * (2.0 * t - 2.0) * (2.0 * t - 2.0) + 1.0;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInOutCubic"}},e.easeInQuart=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t * t * t * t;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInQuart"}},e.easeOutQuart=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){n=h(n,0,1);var r=1- --n*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float time = 1.0 - t1 * t1 * t1 * t1;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeOutQuart"}},e.easeInOutQuart=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))<.5?8*n*n*n*n:1-8*--n*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float time = t < 0.5 ? 8.0 * t * t * t * t : 1.0 - 8.0 * t1 * t1 * t1 * t1;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInOutQuart"}},e.easeInQuint=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*n*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float time = t * t * t * t * t;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInQuint"}},e.easeOutQuint=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){n=h(n,0,1);var r=1+--n*n*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float time = 1.0 + t1 * t1 * t1 * t1 * t1;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeOutQuint"}},e.easeInOutQuint=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float time = t < 0.5 ? 16.0 * t * t * t * t * t : 1.0 + 16.0 * t1 * t1 * t1 * t1 * t1;\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeInOutQuint"}},e.easeOutElastic=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){n=h(n,0,1);var r=s(2,-10*n)*u(2*l*(n-.075)/.3)+1,A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:f,loop:n,methodName:"easeOutElastic"}},e.easeBackIn=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))*n*n-1.05*n*u(n*l),A=i.VecMath(e);return(0,A.add)((0,A.scale)((0,A.subtract)(t,e),r),e)},delay:t,duration:e,gpu:p,loop:n,methodName:"easeBackIn"}},e.easeBackOut=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=(n=h(n,0,1))-1,A=r*r*(2.7*r+1.7)+1,o=i.VecMath(e);return(0,o.add)((0,o.scale)((0,o.subtract)(t,e),A),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float t1 = t - 1.0;\n  float a = 1.7;\n  float time = (t1 * t1 * ((a + 1.0) * t1 + a) + 1.0);\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeBackOut"}},e.easeBackInOut=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.NONE),{uid:A.uid(),cpu:function(e,t,n){var r=2.5925,A=(n=h(n,0,1))/.5,o=A-2,a=A<1?.5*(A*A*(r+1)*A-r):.5*(o*o*((r+1)*o+r)+2),s=i.VecMath(e);return(0,s.add)((0,s.scale)((0,s.subtract)(t,e),a),e)},delay:t,duration:e,gpu:"\n${easingMethod} {\n  float a = 1.4;\n  float a1 = a * 1.525;\n  float t1 = t / 0.5;\n  float t2 = t1 - 2.0;\n  float time =\n    (t1 < 1.0) ? 0.5 * (t1 * t1 * (a1 + 1.0) * t1 - a1) :\n    0.5 * (t2 * t2 * ((a1 + 1.0) * t2 + a1) + 2.0)\n  ;\n\n  return (end - start) * time + start;\n}\n",loop:n,methodName:"easeBackInOut"}},e.continuousSinusoidal=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=r.CONTINUOUS),{uid:A.uid(),cpu:function(e,t,n){var r=i.VecMath(e),A=r.add,o=r.length,a=r.scale,s=r.subtract;n=h(n,0,1);var c=s(t,e),d=2*o(c);return A(e,a(c,u(n*l*2)*d))},delay:t,duration:e,gpu:g,loop:n,methodName:"repeatingSinusoidal",validation:{ignoreEndValueCheck:!0,ignoreOverTimeCheck:!0}}},e}();t.AutoEasingMethod=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),A=function(){function e(){}return e.transparentShapeBlending={blending:{blendDst:r.GLSettings.Material.BlendingDstFactor.OneMinusSrcAlpha,blendEquation:r.GLSettings.Material.BlendingEquations.Add,blendSrc:r.GLSettings.Material.BlendingSrcFactor.SrcAlpha},culling:r.GLSettings.Material.CullSide.NONE},e.transparentImageBlending={blending:{blendSrc:r.GLSettings.Material.BlendingSrcFactor.One,blendDst:r.GLSettings.Material.BlendingDstFactor.OneMinusSrcAlpha,blendEquation:r.GLSettings.Material.BlendingEquations.Add},culling:r.GLSettings.Material.CullSide.NONE},e}();t.CommonMaterialOptions=A},function(e,t){e.exports="void main() {\n  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n}\n"},function(e,t){e.exports="void main() {\n  gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(13).ShaderModule.register([{moduleId:"no-op",content:n(112),compatibility:r.ShaderInjectionTarget.VERTEX},{moduleId:"no-op",content:n(111),compatibility:r.ShaderInjectionTarget.FRAGMENT}])},function(e,t){e.exports="lowp vec4 setColor(vec4 color) {\n  gl_FragColor = color;\n  return gl_FragColor;\n}\n"},function(e,t){e.exports="\n"},function(e,t){e.exports="// This contains the method required to be used on a fragment shader when a layer desires to use\n// PickType.SINGLE (color picking).\nvarying highp vec4 _picking_color_pass_;\n\nhighp vec4 setColor(vec4 color) {\n  gl_FragColor = mix(color, _picking_color_pass_, pickingActive);\n\n  if (color.a == 0.0) {\n    discard;\n  }\n\n  return gl_FragColor;\n}\n"},function(e,t){e.exports="// This is the varying auto generated for the fragment shader that is needed in the vertex shader to pass the\n// color for the instance through to the fragment shader\nvarying highp vec4 _picking_color_pass_;\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(13).ShaderModule.register([{moduleId:"picking",content:n(117),compatibility:r.ShaderInjectionTarget.VERTEX,instanceAttributes:function(e){return[{name:"_pickingColor",size:r.InstanceAttributeSize.FOUR,update:function(e){var t=16777215-e.uid;return[((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255,1]}}]},uniforms:function(e){return[{name:"pickingActive",shaderInjection:r.ShaderInjectionTarget.ALL,size:r.UniformSize.ONE,update:function(){return[e.picking.currentPickMode===r.PickType.SINGLE?1:0]}}]}},{moduleId:"picking",content:n(116),compatibility:r.ShaderInjectionTarget.FRAGMENT},{moduleId:"no-picking",content:n(115),compatibility:r.ShaderInjectionTarget.VERTEX},{moduleId:"no-picking",content:n(114),compatibility:r.ShaderInjectionTarget.FRAGMENT}])},function(e,t){e.exports="${import: PI, PI2}\n\n/**\n * This is an approximation of sin that allows us to bypass hardware precision\n * limitations for sin.\n *\n * http://lab.polygonal.de/2007/07/18/fast-and-accurate-sinecosine-approximation/\n * This is a GPU adaptation of this method to provide optimal GPU performance for the operation\n */\nfloat fsin(float x) {\n  float sine;\n\n  // Always wrap input angle to -PI..PI\n  x += mix(\n    mix(\n      0.0,\n      -PI2, float(x > PI)\n    ),\n    PI2, float(x < -PI)\n  );\n\n  // Compute sine\n  sine = 1.27323954 * x;\n  sine += mix(-1.0, 1.0, float(x < 0.0)) * 0.405284735 * x * x;\n  sine = 0.225 * (sine * (mix(1.0, -1.0, float(sine < 0.0)) * sine) - sine) + sine;\n\n  return sine;\n}\n"},function(e,t){e.exports="${import: PI, PI2, PI_2}\n\n/**\n * This is an approximation of cos that allows us to bypass hardware precision\n * limitations for cos.\n *\n * http://lab.polygonal.de/2007/07/18/fast-and-accurate-sinecosine-approximation/\n * This is a GPU adaptation of this method to provide optimal GPU performance for the operation\n */\nfloat fcos(float x) {\n  float sine;\n  // Cos is the same as sine but\n  x += PI_2;\n\n  // Always wrap input angle to -PI..PI\n  x += mix(\n    mix(\n      0.0,\n      -PI2, float(x > PI)\n    ),\n    PI2, float(x < -PI)\n  );\n\n  // Compute sine\n  sine = 1.27323954 * x;\n  sine += mix(-1.0, 1.0, float(x < 0.0)) * 0.405284735 * x * x;\n  sine = 0.225 * (sine * (mix(1.0, -1.0, float(sine < 0.0)) * sine) - sine) + sine;\n\n  return sine;\n}\n"},function(e,t){e.exports="float wrap(float value, float start, float end) {\n  float width = end - start;\n  float offsetValue = value - start;\n\n  return (offsetValue - (floor(offsetValue / width) * width)) + start;\n}\n"},function(e,t){e.exports="float fmod(float x, float m, float m_inv) {\n  return x - m * floor(x * m_inv);\n}\n"},function(e,t){e.exports="${import: PI, PI2, fsin, fcos, wrap}\n\n/**\n * A circular arc interpolator\n */\nvec2 arc(float t, vec2 center, float radius, float start, float end) {\n  float angle = wrap((end - start) * t + start, 0.0, PI2);\n  return center + vec2(fcos(angle), fsin(angle)) * radius;\n}\n"},function(e,t){e.exports="/**\n * Two control point bezier curve\n */\nvec2 bezier2(float t, vec2 p1, vec2 p2, vec2 c1, vec2 c2) {\n  float t1 = 1.0 - t;\n  return pow(t1, 3.0) * p1 + 3.0 * t * pow(t1, 2.0) * c1 + 3.0 * pow(t, 2.0) * t1 * c2 + pow(t, 3.0) * p2;\n}"},function(e,t){e.exports="/**\n * Single control point bezier curve\n */\nvec2 bezier1(float t, vec2 p1, vec2 p2, vec2 c1) {\n  return (1.0 - t) * (1.0 - t) * p1 + 2.0 * t * (1.0 - t) * c1 + t * t * p2;\n}\n"},function(e,t){e.exports="float toRadians = 0.01745329252;\n"},function(e,t){e.exports="float toDegrees = 57.2957795131;\n"},function(e,t){e.exports="float PI2 = 6.2831853;\n"},function(e,t){e.exports="float PI = 3.14159265;\n"},function(e,t){e.exports="float PI_4 = 0.7853981634;\n"},function(e,t){e.exports="float PI_2 = 1.5707963268;\n"},function(e,t){e.exports="// This is 1 / (pi * 2.0)\nfloat PI2_INV = 0.1591549431;\n"},function(e,t){e.exports="// This is 1 / pi\nfloat PI_INV = 0.3183098862;\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),A=n(13),i=[{moduleId:"PI_INV",content:n(133),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"PI2_INV",content:n(132),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"PI_2",content:n(131),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"PI_4",content:n(130),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"PI",content:n(129),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"PI2",content:n(128),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"toDegrees",content:n(127),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"toRadians",content:n(126),compatibility:r.ShaderInjectionTarget.ALL}],o={moduleId:"constants",content:"${import: "+i.map(function(e){return e.moduleId}).join(", ")+"}",compatibility:r.ShaderInjectionTarget.ALL},a=[{moduleId:"bezier1",content:n(125),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"bezier2",content:n(124),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"arc",content:n(123),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"fmod",content:n(122),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"wrap",content:n(121),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"fcos",content:n(120),compatibility:r.ShaderInjectionTarget.ALL},{moduleId:"fsin",content:n(119),compatibility:r.ShaderInjectionTarget.ALL}];A.ShaderModule.register(a.concat(i,[o]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),A=n(0);n(13).ShaderModule.register({moduleId:"instancing",content:"",compatibility:A.ShaderInjectionTarget.ALL,instanceAttributes:function(e){var t={name:"_active",size:A.InstanceAttributeSize.ONE,update:function(e){return[e.active?1:0]}};return e.activeAttribute=t,[t]},vertexAttributes:function(e){return e.bufferType===r.LayerBufferType.UNIFORM?[{name:"instance",size:A.VertexAttributeSize.ONE,update:function(){return[0]}}]:[]}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(13).ShaderModule.register({moduleId:"frame",content:"",compatibility:r.ShaderInjectionTarget.ALL,uniforms:function(e){return[{name:"currentTime",size:r.UniformSize.ONE,update:function(){return[e.surface.frameMetrics.currentTime]}}]}})},function(e,t){e.exports="// These are projection methods utilizing the simpler camera breakdown approach\n${import: camera}\n\nvec3 cameraSpace(vec3 world) {\n  return (world + cameraOffset) * cameraScale;\n}\n\nvec3 cameraSpaceSize(vec3 worldSize) {\n  return worldSize * cameraScale;\n}\n\nvec4 clipSpace(vec3 world) {\n  return vec4(((projection * modelView) * vec4(cameraSpace(world), 1.0)).xyz, 1.0);\n}\n\nvec4 clipSpaceSize(vec3 worldSize) {\n  return vec4(((projection * modelView) * vec4(cameraSpaceSize(worldSize), 0.0)).xyz, 1.0);\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(13).ShaderModule.register([{moduleId:"camera",content:"",compatibility:r.ShaderInjectionTarget.ALL,uniforms:function(e){return[{name:"projection",size:r.UniformSize.MATRIX4,update:function(){return e.view.viewCamera.baseCamera.projection}},{name:"modelView",size:r.UniformSize.MATRIX4,update:function(){return e.view.viewCamera.baseCamera.view}},{name:"cameraOffset",size:r.UniformSize.THREE,update:function(){return e.view.camera.offset}},{name:"cameraScale",size:r.UniformSize.THREE,update:function(){return e.view.camera.scale}},{name:"viewSize",size:r.UniformSize.TWO,update:function(){return[e.view.viewBounds.width,e.view.viewBounds.height]}},{name:"pixelRatio",size:r.UniformSize.ONE,update:function(){return[e.view.pixelRatio]}}]}},{moduleId:"projection",content:n(137),compatibility:r.ShaderInjectionTarget.ALL}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(138),n(136),n(135),n(134),n(118),n(113)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(139),r(n(108)),r(n(13))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(42)),r(n(57)),r(n(64)),r(n(62)),r(n(61)),r(n(25)),r(n(67)),r(n(6)),r(n(60)),r(n(41)),r(n(40))},function(e,t){e.exports="precision highp float;\n\n${import: projection}\n\nvarying vec4 vertexColor;\nvarying float edgeSharpness;\nvarying float borderSize;\nvarying vec2 pointCoord;\n${extendHeader}\n\nvarying float scale;\n\nvoid main() {\n  ${attributes}\n\n  scale = scaleFactor;\n\n  vertexColor = color;\n  float size = radius * scaleFactor;\n\n  float ringWidth = mix(2.0 , thickness, float(thickness > 2.0));\n\n  borderSize = mix(\n    (ringWidth) / size,\n    ((ringWidth * pixelRatio) / size),\n    float(pixelRatio > 1.0)\n  );\n\n  edgeSharpness = min(0.2 / (ringWidth * scale),  0.1);\n\n  pointCoord = (normals.xy + vec2(1.0, 1.0)) / 2.0;\n\n  // Center within clip space\n  vec4 clipCenter = clipSpace(vec3(center, depth));\n  // Center in screen space\n  vec2 screenCenter = (clipCenter.xy + vec2(1.0, 1.0)) * vec2(0.5, 0.5) * viewSize;\n  // Position in screen space\n  vec2 vertex = (normals.xy * size) + screenCenter;\n  // Position back to clip space\n  gl_Position = vec4((vertex / viewSize) * vec2(2.0, 2.0) - vec2(1.0, 1.0), clipCenter.zw);\n  ${extend}\n}\n"},function(e,t){e.exports="precision highp float;\n\n/** This is the color of the ring */\nvarying vec4 vertexColor;\n/**\n * This is how sharp the ring renders. For tiny rings, it's best to have\n * less sharpness to better convey the shape of a circle. A good starter setting:\n * edgeSharpness = mix(0.8, 0.01, min(gl_PointSize / 45.0, 1.0));\n */\nvarying float edgeSharpness;\n/**\n * This should be a value that sets the thickness of the ring in normal space\n * relative to the PointSize\n */\nvarying float borderSize;\n/**\n * Since this is now a quad instead of a point sprite, this provides what gl_PointCoord\n * used to provide.\n */\nvarying vec2 pointCoord;\n\nvarying float scale;\n\nfloat circle(vec2 coord, float radius){\n  vec2 dist = coord - vec2(0.5);\n\n  return 1.0 - smoothstep(\n    radius - (radius * edgeSharpness),\n    radius,\n    dot(dist, dist) * 4.0\n  );\n\n}\n\n${extendHeader}\n\nvoid main() {\n  float outer_step_factor = circle(pointCoord, 1.0);\n  float inner_step_factor = circle(pointCoord, 1.0 - borderSize * scale);\n\n  setColor(mix(\n    mix(                        // Select the outer color outside of the inner radius\n      vec4(0.0, 0.0, 0.0, 0.0),    // Select invisible outside of inner and outer radius\n      vertexColor,                  // Select outer color outside of inner, but inside outer\n      outer_step_factor\n    ),\n    vec4(0.0, 0.0, 0.0, 0.0),                 // Select inner color inside inner\n    inner_step_factor\n  ));\n\n  ${extend}\n}\n"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(2),i=n(15),o=n(6),a=n(0),s=n(1),c=Math.max,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInstancePickingMethods=function(){return{boundsAccessor:function(e){return new i.Bounds({height:2*e.radius,width:2*e.radius,x:e.center[0]-e.radius,y:e.center[1]-e.radius})},hitTest:function(e,t,n){var r=e.radius/c.apply(void 0,n.camera.scale),A=s.subtract2(t,e.center);return s.dot2(A,A)<r*r}}},t.prototype.initShader=function(){var e=this.props.scaleFactor||function(){return 1},r=this.props.animate||{},A=r.color,i=r.center,o=r.radius,s={0:1,1:1,2:-1,3:1,4:-1,5:-1},c={0:-1,1:-1,2:-1,3:1,4:1,5:1};return{fs:n(143),instanceAttributes:[{easing:i,name:t.attributeNames.center,size:a.InstanceAttributeSize.TWO,update:function(e){return e.center}},{easing:o,name:t.attributeNames.radius,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.radius]}},{name:t.attributeNames.depth,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{easing:A,name:t.attributeNames.color,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.color}},{name:t.attributeNames.thickness,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.thickness]}}],uniforms:[{name:"scaleFactor",size:a.UniformSize.ONE,update:function(t){return[e()]}}],vertexAttributes:[{name:"normals",size:a.VertexAttributeSize.TWO,update:function(e){return[s[e],c[e]]}}],vertexCount:6,vs:n(142)}},t.prototype.getMaterialOptions=function(){return s.CommonMaterialOptions.transparentShapeBlending},t.defaultProps={key:"",data:new A.InstanceProvider,scene:"default"},t.attributeNames={center:"center",radius:"radius",depth:"depth",color:"color",thickness:"thickness"},t}(o.Layer);t.RingLayer=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(27),a=function(e){function t(t){var n=e.call(this,t)||this;return n.color=[1,1,1,1],n.depth=0,n.radius=0,n.thickness=1,n.center=[0,0],n.color=t.color||n.color,n.depth=t.depth||n.depth,n.radius=t.radius||n.radius,n.thickness=t.thickness||n.thickness,n.center=t.center||n.center,n}return r(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return 2*this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return 2*this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.radius-this.thickness},enumerable:!0,configurable:!0}),A([o.observable],t.prototype,"color",void 0),A([o.observable],t.prototype,"depth",void 0),A([o.observable],t.prototype,"radius",void 0),A([o.observable],t.prototype,"thickness",void 0),A([o.observable],t.prototype,"center",void 0),t}(i.Instance);t.RingInstance=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(145)),r(n(144))},function(e,t,n){"use strict";var r,A=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(7),s=n(10),c=((r={})[s.AnchorType.TopLeft]=function(e,t){e.x=-e.padding,e.y=-e.padding},r[s.AnchorType.TopMiddle]=function(e,t){e.x=t.width/2,e.y=-e.padding},r[s.AnchorType.TopRight]=function(e,t){e.x=t.width+e.padding,e.y=-e.padding},r[s.AnchorType.MiddleLeft]=function(e,t){e.x=-e.padding,e.y=t.height/2},r[s.AnchorType.Middle]=function(e,t){e.x=t.width/2,e.y=t.height/2},r[s.AnchorType.MiddleRight]=function(e,t){e.x=t.width+e.padding,e.y=t.height/2},r[s.AnchorType.BottomLeft]=function(e,t){e.x=-e.padding,e.y=t.height+e.padding},r[s.AnchorType.BottomMiddle]=function(e,t){e.x=t.width/2,e.y=t.height+e.padding},r[s.AnchorType.BottomRight]=function(e,t){e.x=t.width+e.padding,e.y=t.height+e.padding},r[s.AnchorType.Custom]=function(e,t){e.x=e.x||0,e.y=e.y||0},r),u=function(e){function t(t){var n=e.call(this,t)||this;return n.color=[0,0,0,1],n.depth=0,n.height=1,n.maxScale=1,n.scale=1,n.scaling=s.ScaleMode.BOUND_MAX,n.width=1,n.x=0,n.y=0,n._anchor={padding:0,type:s.AnchorType.TopLeft,x:0,y:0},n.depth=t.depth||n.depth,n.color=t.color||n.color,n.scaling=t.scaling||n.scaling,n.x=t.x||n.x,n.y=t.y||n.y,n.width=t.width||1,n.height=t.height||1,t.anchor&&n.setAnchor(t.anchor),n}return A(t,e),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),t.prototype.setAnchor=function(e){var t={padding:e.padding||0,type:e.type,x:e.x||0,y:e.y||0};c[t.type](t,this),this._anchor=t},i([o.observable],t.prototype,"color",void 0),i([o.observable],t.prototype,"depth",void 0),i([o.observable],t.prototype,"height",void 0),i([o.observable],t.prototype,"maxScale",void 0),i([o.observable],t.prototype,"scale",void 0),i([o.observable],t.prototype,"scaling",void 0),i([o.observable],t.prototype,"width",void 0),i([o.observable],t.prototype,"x",void 0),i([o.observable],t.prototype,"y",void 0),i([o.observable],t.prototype,"_anchor",void 0),t}(a.Instance);t.RectangleInstance=u},function(e,t){e.exports="${import: projection}\n\nprecision highp float;\n\nvarying vec4 vertexColor;\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Determine final screen size of label\n  vec3 screenSize = cameraSpaceSize(vec3(size * scale / scaleFactor / maxScale, 1.0));\n\n  // Test whether the label is larger on the screen than the font size\n  bool largerOnScreen = screenSize.y > size.y || screenSize.x > size.x;\n\n  // Determines if a scale mode should be used or not for the vertex\n  float useScaleMode = float(\n    (\n      scaling == 3.0 ||                  // NEVER mode - keep the image the same size always\n      (largerOnScreen && scaling == 2.0) // BOUND_MAX mode - only if we're larger than the font size do we scale down\n    ) &&\n    scaling != 1.0                       // ALWAYS mode - the image stays completely in world space allowing it to scale freely\n  );\n\n  // Correct aspect ratio. Sufficient fix for most applications.\n  // Will need another solution in the case of:\n  // (cameraScale y != cameraScale.x) && (cameraScale.x != 1 && cameraScale.y != 1)\n\n  // If zooms are unequal, assume one is filtered to be 1.0\n  float unequalZooms = float(cameraScale.x != cameraScale.y);\n\n  vec2 adjustedSize = mix(\n    size,\n    (size * cameraScale.yx),\n    unequalZooms\n  );\n\n  // Destructure threejs's bug with the position requirement\n  float normal = normals.x;\n  float side = normals.y;\n\n  vec2 scaledAnchor = anchor * scale;\n\n  // Get the location of the anchor in world space\n  vec2 worldAnchor = location + scaledAnchor;\n\n  vec2 adjustedAnchor = mix(\n    scaledAnchor,\n    (scaledAnchor * cameraScale.yx),\n    unequalZooms\n  );\n\n  // Get the position of the current vertex\n  vec2 vertex = vec2(side, float(normal == 1.0)) * scale * adjustedSize + location - adjustedAnchor;\n\n  // See how scaled the size on screen will be from the actual height of the label\n  float labelScreenScale = mix(\n    screenSize.y / adjustedSize.y,\n    screenSize.x / adjustedSize.x,\n    float((cameraScale.x != 1.0))\n  );\n\n  float currentScale = labelScreenScale * scale;\n\n  // If our screen rendering is larger than the size the label is supposed to be, then we automagically\n  // scale down our label to stay the correct size, centered on the anchor point\n  vec2 anchorToVertex = vertex - location;\n\n  // We now choose between keeping the same image size or keeping it in world space\n  vertex = mix(\n    // This option keeps the image size in world space\n    vertex,\n    // This option counters the scaling of the image on the screen keeping it a static size\n    (anchorToVertex / labelScreenScale) + location,\n    // This is the flag determining if a scale mode should be applied to the vertex\n    useScaleMode\n  );\n\n  // --Texture and Color\n  // Apply the label's color as a tint to the label (all labels are rendered white to the base texture)\n  vertexColor = color;\n\n  gl_Position = clipSpace(vec3(vertex, depth));\n  ${extend}\n}\n"},function(e,t){e.exports="precision highp float;\n\nvarying vec4 vertexColor;\n${extendHeader}\n\nvoid main() {\n  setColor(vertexColor);\n  ${extend}\n}\n"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(2),i=n(15),o=n(6),a=n(0),s=n(1),c=n(10),u=Math.min,l=Math.max,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInstancePickingMethods=function(){return{boundsAccessor:function(e){var t=[0,0];e.anchor&&(t[0]=e.anchor.x||0,t[1]=e.anchor.y||0);var n=[e.x-t[0],e.y-t[1]];return new i.Bounds({height:e.height,width:e.width,x:n[0],y:n[1]})},hitTest:function(e,t,n){var r=l.apply(void 0,n.camera.scale),A=u.apply(void 0,n.camera.scale);if(e.scaling===c.ScaleMode.ALWAYS)return!0;if(e.scaling===c.ScaleMode.BOUND_MAX){if(A<=1&&r<=1)return!0;var o=[0,0];e.anchor&&(o[0]=e.anchor.x||0,o[1]=e.anchor.y||0);var a=[e.x-o[0]/r,e.y-o[1]/r];return new i.Bounds({height:e.height/r,width:e.width/r,x:a[0],y:a[1]}).containsPoint(t)}if(e.scaling===c.ScaleMode.NEVER){o=[0,0];e.anchor&&(o[0]=e.anchor.x||0,o[1]=e.anchor.y||0);a=s.subtract2([e.x,e.y],s.divide2(o,n.camera.scale));var d=n.worldToScreen(t);return new i.Bounds({height:e.height,width:e.width,x:a[0],y:a[1]}).containsPoint(d)}return!0}}},t.prototype.initShader=function(){var e={0:1,1:1,2:-1,3:1,4:-1,5:-1},r={0:0,1:0,2:0,3:1,4:1,5:1},A=this.props.scaleFactor,i=void 0===A?function(){return 1}:A;return{fs:n(149),instanceAttributes:[{name:t.attributeNames.location,size:a.InstanceAttributeSize.TWO,update:function(e){return[e.x,e.y]}},{name:t.attributeNames.anchor,size:a.InstanceAttributeSize.TWO,update:function(e){return[e.anchor.x||0,e.anchor.y||0]}},{name:t.attributeNames.size,size:a.InstanceAttributeSize.TWO,update:function(e){return[e.width,e.height]}},{name:t.attributeNames.depth,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{name:t.attributeNames.scaling,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.scaling]}},{name:t.attributeNames.color,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.color}},{name:t.attributeNames.scale,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.scale]}},{name:t.attributeNames.maxScale,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.maxScale]}}],uniforms:[{name:"scaleFactor",size:a.UniformSize.ONE,update:function(e){return[i()]}}],vertexAttributes:[{name:"normals",size:a.VertexAttributeSize.TWO,update:function(t){return[e[t],r[t]]}}],vertexCount:6,vs:n(148)}},t.prototype.getMaterialOptions=function(){return s.CommonMaterialOptions.transparentShapeBlending},t.defaultProps={key:"",data:new A.InstanceProvider,scene:"default"},t.attributeNames={anchor:"anchor",color:"color",depth:"depth",location:"location",maxScale:"maxScale",scale:"scale",scaling:"scaling",size:"size"},t}(o.Layer);t.RectangleLayer=d},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(150)),r(n(147))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(7),a=n(0),s=n(10),c=function(e){function t(t){var n=e.call(this,t)||this;return n.color=[0,0,0,1],n.depth=0,n.fontSize=12,n.maxScale=1,n.maxWidth=0,n.origin=[0,0],n.scale=1,n.text="",n.preload=!1,n.glyphs=[],n.size=[0,0],n.truncatedText="",n.anchor={padding:0,paddingDirection:[0,0],type:s.AnchorType.TopLeft,x:0,y:0},n.anchor=t.anchor||n.anchor,n.color=t.color||n.color,n.depth=t.depth||n.depth,n.fontSize=t.fontSize||n.fontSize,n.maxScale=t.maxScale||n.maxScale,n.maxWidth=t.maxWidth||0,n.onReady=t.onReady,n.origin=t.origin,n.preload=t.preload||!1,n.scale=t.scale||n.scale,n.text=t.text||n.text,n}return r(t,e),t.prototype.subTextGlyphs=function(e){var t=[],n=this.text.indexOf(e);if(n<0)return t;for(var r=0,A=0,i=Math.min(this.text.length,n+e.length);A<i;++A)a.isWhiteSpace(this.text[A])||(r++,A>=n&&t.push(this.glyphs[r]));return t},t.prototype.resourceTrigger=function(){},A([i.observable],t.prototype,"color",void 0),A([i.observable],t.prototype,"depth",void 0),A([i.observable],t.prototype,"fontSize",void 0),A([i.observable],t.prototype,"maxScale",void 0),A([i.observable],t.prototype,"maxWidth",void 0),A([i.observable],t.prototype,"origin",void 0),A([i.observable],t.prototype,"scale",void 0),A([i.observable],t.prototype,"text",void 0),A([i.observable],t.prototype,"anchor",void 0),t}(o.Instance);t.LabelInstance=c},function(e,t){e.exports="${import: projection}\n\nvarying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  ${attributes}\n\n  // Calculate in the anchor, the origin, glyph offset, and the quad pushout to make our quad geometry\n  vec2 pushOut = normals * glyphSize * fontScale;\n  vec3 position = vec3(origin + padding - anchor + offset + pushOut, depth);\n  gl_Position = clipSpace(position);\n\n  // Get the atlas position of the texture information\n  texCoord = texture.xy + (texture.zw - texture.xy) * normals;\n  // Apply the color of the glyph\n  vertexColor = color * color.a;\n}\n"},function(e,t){e.exports="varying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  vec4 texColor = texture2D(fontMap, texCoord);\n  if (texColor.r <= 0.0) discard;\n  texColor.a = texColor.r;\n  gl_FragColor = texColor * vertexColor;\n}\n"},function(e,t){e.exports="${import: projection}\n\nvarying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  ${attributes}\n\n  // Calculate in the anchor, the origin, glyph offset, and the quad pushout to make our quad geometry\n  vec2 pushOut = normals * glyphSize * fontScale;\n  vec3 position = vec3(origin + padding + (-anchor + offset + pushOut) / cameraScale.xy, depth);\n  gl_Position = clipSpace(position);\n\n  // Get the atlas position of the texture information\n  texCoord = texture.xy + (texture.zw - texture.xy) * normals;\n  // Apply the color of the glyph\n  vertexColor = color * color.a;\n}\n"},function(e,t){e.exports="varying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  vec4 texColor = texture2D(fontMap, texCoord);\n  if (texColor.r <= 0.0) discard;\n  texColor.a = texColor.r;\n  gl_FragColor = texColor * vertexColor;\n}\n"},function(e,t){e.exports="${import: projection}\n\nvarying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  ${attributes}\n\n  vec2 scale = fontScale * cameraScale.xy;\n  float scaleBy = max(scale.x, scale.y) / maxScale;\n  vec2 pushOut = normals * glyphSize * fontScale;\n\n  float vx = mix(\n    (-anchor.x + offset.x + pushOut.x),\n    (-anchor.x + offset.x + pushOut.x) / scaleBy,\n    float(scale.x >= maxScale)\n  );\n\n  float vy = mix(\n    (-anchor.y + offset.y + pushOut.y),\n    (-anchor.y + offset.y + pushOut.y) / scaleBy,\n    float(scale.y >= maxScale)\n  );\n\n  // Calculate in the anchor, the origin, glyph offset, and the quad pushout to make our quad geometry\n  vec3 position = vec3(origin + padding + vec2(vx, vy), depth);\n  gl_Position = clipSpace(position);\n\n  // Get the atlas position of the texture information\n  texCoord = texture.xy + (texture.zw - texture.xy) * normals;\n  // Apply the color of the glyph\n  vertexColor = color * color.a;\n}\n"},function(e,t){e.exports="varying vec4 vertexColor;\nvarying vec2 texCoord;\n\nvoid main() {\n  vec4 texColor = texture2D(fontMap, texCoord);\n  if (texColor.r <= 0.0) discard;\n  texColor.a = texColor.r;\n  gl_FragColor = texColor * vertexColor;\n}\n"},function(e,t,n){"use strict";var r,A,i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),a=n(15),s=n(24),c=n(6),u=n(42),l=n(0),d=n(4),h=n(10),f=n(59),p=n(58),g=((r={})[h.AnchorType.TopLeft]=function(e,t){e.x=0,e.y=0},r[h.AnchorType.TopMiddle]=function(e,t){e.x=t.size[0]/2,e.y=0},r[h.AnchorType.TopRight]=function(e,t){e.x=t.size[0],e.y=0},r[h.AnchorType.MiddleLeft]=function(e,t){e.x=0,e.y=t.size[1]/2},r[h.AnchorType.Middle]=function(e,t){e.x=t.size[0]/2,e.y=t.size[1]/2},r[h.AnchorType.MiddleRight]=function(e,t){e.x=t.size[0],e.y=t.size[1]/2},r[h.AnchorType.BottomLeft]=function(e,t){e.x=0,e.y=t.size[1]},r[h.AnchorType.BottomMiddle]=function(e,t){e.x=t.size[0]/2,e.y=t.size[1]},r[h.AnchorType.BottomRight]=function(e,t){e.x=t.size[0],e.y=t.size[1]},r[h.AnchorType.Custom]=function(e,t){e.x=e.x||0,e.y=e.y||0},r),B=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]].map(function(e){var t=Math.sqrt(d.dot2(e,e));return d.scale2(e,1/-t)}),w=((A={})[h.AnchorType.TopLeft]=function(e){e.paddingDirection=d.scale2(B[0],e.padding)},A[h.AnchorType.TopMiddle]=function(e){e.paddingDirection=d.scale2(B[1],e.padding)},A[h.AnchorType.TopRight]=function(e){e.paddingDirection=d.scale2(B[2],e.padding)},A[h.AnchorType.MiddleLeft]=function(e){e.paddingDirection=d.scale2(B[3],e.padding)},A[h.AnchorType.Middle]=function(e){e.paddingDirection=[0,0]},A[h.AnchorType.MiddleRight]=function(e){e.paddingDirection=d.scale2(B[5],e.padding)},A[h.AnchorType.BottomLeft]=function(e){e.paddingDirection=d.scale2(B[6],e.padding)},A[h.AnchorType.BottomMiddle]=function(e){e.paddingDirection=d.scale2(B[7],e.padding)},A[h.AnchorType.BottomRight]=function(e){e.paddingDirection=d.scale2(B[8],e.padding)},A[h.AnchorType.Custom]=function(e){e.paddingDirection=e.paddingDirection},A),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.glyphProvider=new o.InstanceProvider,t.fullUpdate=!1,t.labelToGlyphs=new Map,t.labelToKerningRequest=new Map,t.labelWaitingOnGlyph=new Map,t.truncationWidth=-1,t.handleGlyphReady=function(e){if(e.parentLabel){var n=e.parentLabel,r=t.labelWaitingOnGlyph.get(e.parentLabel);if(r&&r.has(e)&&(r.delete(e),r.size<=0)){var A=n.onReady;A&&A(n)}}else delete e.onReady},t}return i(t,e),t.prototype.getInstancePickingMethods=function(){return{boundsAccessor:function(e){var t=[0,0];e.anchor&&(t[0]=e.anchor.x||0,t[1]=e.anchor.y||0);var n=d.subtract2(e.origin,t);return new a.Bounds({height:e.size[1],width:e.size[0],x:n[0],y:n[1]})},hitTest:function(e,t,n){var r=[0,0];e.anchor&&(r[0]=e.anchor.x||0,r[1]=e.anchor.y||0);var A=n.worldToScreen(d.subtract2(e.origin,d.divide2(r,n.camera.scale))),i=n.worldToScreen(t);return new a.Bounds({height:e.size[1],width:e.size[0],x:A[0],y:A[1]}).containsPoint(i)}}},t.prototype.childLayers=function(){return[u.createLayer(this.props.customGlyphLayer||p.GlyphLayer,{animate:this.props.animate,data:this.glyphProvider,key:this.id+".glyphs",resourceKey:this.props.resourceKey,scene:this.props.scene,scaleMode:this.props.scaleMode||h.ScaleMode.BOUND_MAX})]},t.prototype.draw=function(){var e=this.resolveChanges();if(!(e.length<=0)){if(!this.propertyIds){var t=e[0][0];this.propertyIds=this.getInstanceObservableIds(t,["text","active","anchor","color","origin","fontSize","maxWidth","maxScale"])}for(var n=this.propertyIds,r=n.text,A=n.active,i=n.anchor,o=n.color,a=n.origin,s=n.fontSize,c=n.maxWidth,u=n.maxScale,d=0,h=e.length;d<h;++d){var f=e[d],p=(t=f[0],f[1]),g=f[2];switch(p){case l.InstanceDiffType.CHANGE:if(!this.labelToGlyphs.get(t)){this.insert(t);continue}void 0!==g[r]?(this.invalidateRequest(t),this.layoutGlyphs(t)):void 0!==g[A]&&(t.active?(this.layoutGlyphs(t),this.showGlyphs(t)):this.hideGlyphs(t)),g[i]&&this.updateAnchor(t),void 0!==g[o]&&this.updateGlyphColors(t),void 0!==g[a]&&this.updateGlyphOrigins(t),void 0!==g[u]&&this.updateGlyphMaxScales(t),void 0!==g[s]&&(this.invalidateRequest(t),this.layoutGlyphs(t)),void 0!==g[c]&&(this.invalidateRequest(t),this.layoutGlyphs(t));break;case l.InstanceDiffType.INSERT:this.insert(t);break;case l.InstanceDiffType.REMOVE:var B=this.labelToGlyphs.get(t);if(B){for(var w=0,y=B.length;w<y;++w)this.glyphProvider.remove(B[w]);this.labelToGlyphs.delete(t),this.labelToKerningRequest.delete(t),this.labelWaitingOnGlyph.delete(t)}}}}},t.prototype.insert=function(e){e.preload?this.props.data.remove(e):this.labelToGlyphs.get(e)||this.labelToGlyphs.set(e,[]);this.layoutGlyphs(e)},t.prototype.hideGlyphs=function(e){var t=this.labelToGlyphs.get(e);if(t)for(var n=0,r=t.length;n<r;++n)this.glyphProvider.remove(t[n])},t.prototype.initShader=function(){return null},t.prototype.invalidateRequest=function(e){this.labelToKerningRequest.delete(e)},t.prototype.layoutGlyphs=function(e){if(this.updateKerning(e)&&e.active){var t=this.labelToKerningRequest.get(e);if(t&&t.fontMap){var n=t.metrics;if(n&&n.layout){var r=n.layout;this.updateGlyphs(e,r);var A=e.glyphs;e.size=r.size,g[e.anchor.type](e.anchor,e),w[e.anchor.type](e.anchor);for(var i=e.anchor,o=e.anchor.paddingDirection,a=0,s=Math.min(r.positions.length,A.length);a<s;++a){var c=r.positions[a],u=A[a];u.offset=c,u.fontScale=r.fontScale,u.anchor=[i.x||0,i.y||0],u.origin=d.copy2(e.origin),u.padding=o||[0,0],u.maxScale=e.maxScale}}}}},t.prototype.managesInstance=function(e){return Boolean(this.labelToGlyphs.get(e))},t.prototype.showGlyphs=function(e){var t=this.labelToGlyphs.get(e);if(t)for(var n=0,r=t.length;n<r;++n)this.glyphProvider.add(t[n])},t.prototype.updateAnchor=function(e){var t=e.glyphs;if(t){g[e.anchor.type](e.anchor,e),w[e.anchor.type](e.anchor);for(var n=e.anchor,r=e.anchor.paddingDirection,A=0,i=t.length;A<i;++A)t[A].anchor=[n.x||0,n.y||0],t[A].padding=r||[0,0]}},t.prototype.updateGlyphs=function(e,t){var n=this.labelToGlyphs.get(e);n||(n=[],this.labelToGlyphs.set(e,n));var r=this.labelWaitingOnGlyph.get(e);r||(r=new Set,this.labelWaitingOnGlyph.set(e,r));for(var A=0,i=Math.min(n.length,t.glyphs.length);A<i;++A){(s=n[A]).character!==t.glyphs[A]&&(s.character=t.glyphs[A],s.request&&s.request.fontMap&&s.request.fontMap.glyphMap[s.character]||r.add(s))}if(n.length<t.glyphs.length){var o=0;for(A=n.length,i=t.glyphs.length;A<i;++A,++o){var a=t.glyphs[A];(s=new f.GlyphInstance({character:a,color:e.color,origin:e.origin,maxScale:e.maxScale,onReady:this.handleGlyphReady})).parentLabel=e,n.push(s),e.active&&this.glyphProvider.add(s),r.add(s)}}else if(n.length>t.glyphs.length){for(A=t.glyphs.length,i=n.length;A<i;++A){var s=n[A];this.glyphProvider.remove(s)}for(;n.length>t.glyphs.length;)n.pop()}e.glyphs=n},t.prototype.updateGlyphColors=function(e){var t=e.glyphs;if(t)for(var n=0,r=t.length;n<r;++n)t[n].color=d.copy4(e.color)},t.prototype.updateGlyphOrigins=function(e){var t=e.glyphs;if(t)for(var n=e.origin,r=0,A=t.length;r<A;++r)t[r].origin=[n[0],n[1]]},t.prototype.updateGlyphMaxScales=function(e){var t=e.glyphs;if(t)for(var n=e.maxScale,r=0,A=t.length;r<A;++r)t[r].maxScale=n},t.prototype.updateKerning=function(e){var t=this.labelToKerningRequest.get(e),n=e.text;if(t){if(t.kerningPairs&&t.kerningPairs.indexOf(n)>-1)return Boolean(t.fontMap);if(!t.fontMap||t.fontMap.supportsKerning(n.replace(/\s/g,"")))return!0;this.labelToKerningRequest.delete(e),t=void 0}if(!t){var r={fontSize:e.fontSize,text:e.text};return e.maxWidth>0&&(r.maxWidth=e.maxWidth,r.truncation=this.props.truncation||"..."),t=s.fontRequest({character:"",kerningPairs:[n],metrics:r}),e.preload?(e.resourceTrigger=function(){e.onReady&&e.onReady(e)},this.resource.request(this,e,t,{resource:{type:l.ResourceType.FONT,key:this.props.resourceKey||""}})):(this.resource.request(this,e,t,{resource:{type:l.ResourceType.FONT,key:this.props.resourceKey||""}}),this.labelToKerningRequest.set(e,t)),!1}return!0},t.prototype.willUpdateProps=function(e){e.data!==this.props.data&&delete this.propertyIds,e.scaleMode!==this.props.scaleMode&&this.rebuildLayer(),e.resourceKey!==this.props.resourceKey&&(this.fullUpdate=!0)},t.defaultProps={key:"",data:new o.InstanceProvider,scene:"default"},t}(c.Layer);t.LabelLayer=y},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(159)),r(n(152)),r(n(59)),r(n(58))},function(e,t,n){"use strict";var r,A=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(7),s=n(10),c=Math.max,u=((r={})[s.AnchorType.TopLeft]=function(e,t){e.x=-e.padding,e.y=-e.padding},r[s.AnchorType.TopMiddle]=function(e,t){e.x=t.width/2,e.y=-e.padding},r[s.AnchorType.TopRight]=function(e,t){e.x=t.width+e.padding,e.y=-e.padding},r[s.AnchorType.MiddleLeft]=function(e,t){e.x=-e.padding,e.y=t.height/2},r[s.AnchorType.Middle]=function(e,t){e.x=t.width/2,e.y=t.height/2},r[s.AnchorType.MiddleRight]=function(e,t){e.x=t.width+e.padding,e.y=t.height/2},r[s.AnchorType.BottomLeft]=function(e,t){e.x=-e.padding,e.y=t.height+e.padding},r[s.AnchorType.BottomMiddle]=function(e,t){e.x=t.width/2,e.y=t.height+e.padding},r[s.AnchorType.BottomRight]=function(e,t){e.x=t.width+e.padding,e.y=t.height+e.padding},r[s.AnchorType.Custom]=function(e,t){e.x=e.x||0,e.y=e.y||0},r),l=function(e){function t(t){var n=e.call(this,t)||this;return n.tint=[0,0,0,1],n.depth=0,n.height=1,n.origin=[0,0],n.scaling=s.ScaleMode.BOUND_MAX,n.width=1,n.sourceWidth=0,n.sourceHeight=0,n._anchor={padding:0,type:s.AnchorType.TopLeft,x:0,y:0},n.depth=t.depth||n.depth,n.tint=t.tint||n.tint,n.scaling=t.scaling||n.scaling,n.origin=t.origin||n.origin,n.width=t.width||1,n.height=t.height||1,n.source=t.source,n.onReady=t.onReady,t.anchor&&n.setAnchor(t.anchor),n}return A(t,e),Object.defineProperty(t.prototype,"maxSize",{get:function(){return c(this.width,this.height)},set:function(e){var t=this.width/this.height;this.width=e*t,this.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),t.prototype.resourceTrigger=function(){this.source=this.source,this.request&&this.request.texture&&(this.sourceWidth=this.request.texture.pixelWidth,this.sourceHeight=this.request.texture.pixelHeight),this.onReady&&this.onReady(this)},t.prototype.setAnchor=function(e){var t={padding:e.padding||0,type:e.type,x:e.x||0,y:e.y||0};u[t.type](t,this),this._anchor=t},i([o.observable],t.prototype,"tint",void 0),i([o.observable],t.prototype,"depth",void 0),i([o.observable],t.prototype,"height",void 0),i([o.observable],t.prototype,"origin",void 0),i([o.observable],t.prototype,"scaling",void 0),i([o.observable],t.prototype,"source",void 0),i([o.observable],t.prototype,"width",void 0),i([o.observable],t.prototype,"_anchor",void 0),t}(a.Instance);t.ImageInstance=l},function(e,t){e.exports="precision highp float;\n\n${import: projection}\n\nvarying vec4 vertexColor;\nvarying vec2 texCoord;\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Figure out the size of the image as it'd show on the screen\n  vec3 screenSize = cameraSpaceSize(vec3(size, 1.0));\n  // Do the test for when the image is larger on the screen than the font size\n  bool largerOnScreen = screenSize.y > size.y;\n\n  // Determines if a scale mode should be used or not for the vertex\n  float useScaleMode = float(\n    (\n      scaling == 3.0 ||                  // NEVER mode - keep the image the same size always\n      (largerOnScreen && scaling == 2.0) // BOUND_MAX mode - only if we're larger than the font size do we scale down\n    ) &&\n    scaling != 1.0                       // ALWAYS mode - the image stays completely in world space allowing it to scale freely\n  );\n  // If zooms are unequal, assume one is filtered to be 1.0\n  float unequalZooms = float(cameraScale.x != cameraScale.y);\n\n  // Destructure the normal information\n  float normal = normals.x;\n  float side = normals.y;\n\n  // Get the location of the anchor in world space\n  vec2 worldAnchor = location + anchor;\n\n  // Get the tex coord from our inject texture info\n  texCoord = texture.xy + ((texture.zw - texture.xy) * vec2(side, float(normal == -1.0)));\n  // Apply the image's tint as a tint to the image\n  vertexColor = tint;\n\n  // Correct aspect ratio.\n  vec2 adjustedSize = mix(\n    size,\n    (size * cameraScale.yx),\n    unequalZooms\n  );\n\n  vec2 adjustedAnchor = mix(\n    anchor,\n    (anchor * cameraScale.yx),\n    unequalZooms\n  );\n\n  vec2 vertex = vec2(side, float(normal == 1.0)) * adjustedSize + location - adjustedAnchor;\n\n  // See how scaled the size on screen will be from the actual height of the image\n  float imageScreenScale = mix(\n    screenSize.y / adjustedSize.y,\n    screenSize.x / adjustedSize.x,\n    float((cameraScale.x < 1.0) || (cameraScale.x > 1.0))\n  );\n\n  // If our screen rendering is larger than the size the image is supposed to be, then we automagically\n  // scale down our image to stay the correct size, centered on the anchor point\n  vec2 anchorToVertex = vertex - location;\n\n  // We now choose between keeping the same image size or keeping it in world space\n  vertex = mix(\n    // This option keeps the image size in world space\n    vertex,\n    // This option counters the scaling of the image on the screen keeping it a static size\n    (anchorToVertex / imageScreenScale) + location,\n    // This is the flag determining if a scale mode should be applied to the vertex\n    useScaleMode\n  );\n\n  gl_Position = clipSpace(vec3(vertex, depth));\n\n  ${extend}\n}\n"},function(e,t){e.exports="precision highp float;\n\nvarying vec4 vertexColor;\nvarying vec2 texCoord;\n${extendHeader}\n\nvoid main() {\n  gl_FragColor = texture2D(imageAtlas, texCoord) * vertexColor;\n  setColor(gl_FragColor * gl_FragColor.a);\n\n  ${extend}\n}\n"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(2),i=n(15),o=n(68),a=n(6),s=n(0),c=n(1),u=n(110),l=n(10),d=Math.min,h=Math.max,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInstancePickingMethods=function(){return{boundsAccessor:function(e){var t=[0,0];e.anchor&&(t[0]=e.anchor.x||0,t[1]=e.anchor.y||0);var n=c.subtract2(e.origin,t);return new i.Bounds({height:e.height,width:e.width,x:n[0],y:n[1]})},hitTest:function(e,t,n){var r=h.apply(void 0,n.camera.scale),A=d.apply(void 0,n.camera.scale);if(e.scaling===l.ScaleMode.ALWAYS)return!0;if(e.scaling===l.ScaleMode.BOUND_MAX){if(A<=1&&r<=1)return!0;var o=[0,0];e.anchor&&(o[0]=e.anchor.x||0,o[1]=e.anchor.y||0);var a=c.subtract2(e.origin,c.divide2(o,n.camera.scale)),s=n.worldToScreen(t);return new i.Bounds({height:e.height,width:e.width,x:a[0],y:a[1]}).containsPoint(s)}if(e.scaling===l.ScaleMode.NEVER){o=[0,0];e.anchor&&(o[0]=e.anchor.x||0,o[1]=e.anchor.y||0);a=n.worldToScreen(c.subtract2(e.origin,c.divide2(o,n.camera.scale))),s=n.worldToScreen(t);return new i.Bounds({height:e.height,width:e.width,x:a[0],y:a[1]}).containsPoint(s)}return!0}}},t.prototype.initShader=function(){var e=this,r=this.props.animate||{},A=r.tint,i=r.location,a=r.size,c={0:1,1:1,2:-1,3:1,4:-1,5:-1},u={0:0,1:0,2:0,3:1,4:1,5:1};return{fs:n(163),instanceAttributes:[{easing:i,name:t.attributeNames.location,size:s.InstanceAttributeSize.TWO,update:function(e){return e.origin}},{name:t.attributeNames.anchor,size:s.InstanceAttributeSize.TWO,update:function(e){return[e.anchor.x||0,e.anchor.y||0]}},{easing:a,name:t.attributeNames.size,size:s.InstanceAttributeSize.TWO,update:function(e){return[e.width,e.height]}},{name:t.attributeNames.depth,size:s.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{name:t.attributeNames.scaling,size:s.InstanceAttributeSize.ONE,update:function(e){return[e.scaling]}},{name:t.attributeNames.texture,resource:{type:s.ResourceType.ATLAS,key:this.props.atlas||"",name:"imageAtlas"},update:function(t){var n=t.source;return t.request||(t.request=o.atlasRequest({rasterizationScale:e.props.rasterizationScale,source:n})),e.resource.request(e,t,t.request)}},{easing:A,name:t.attributeNames.tint,size:s.InstanceAttributeSize.FOUR,update:function(e){return e.tint}}],uniforms:[{name:"scaleFactor",size:s.UniformSize.ONE,update:function(e){return[1]}}],vertexAttributes:[{name:"normals",size:s.VertexAttributeSize.TWO,update:function(e){return[c[e],u[e]]}}],vertexCount:6,vs:n(162)}},t.prototype.getMaterialOptions=function(){return u.CommonMaterialOptions.transparentImageBlending},t.defaultProps={key:"",data:new A.InstanceProvider,scene:"default"},t.attributeNames={location:"location",anchor:"anchor",size:"size",depth:"depth",scaling:"scaling",texture:"texture",tint:"tint"},t}(a.Layer);t.ImageRenderLayer=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(5),i=n(4);t.filterQuery=function(e,t){var n=[];return t.forEach(function(t){e.find(function(e){return t instanceof e})&&n.push(t)}),n};var o=function(){function e(e,t){var n=e.mid;this.TL=new a(e.x,n[0],e.y,n[1],t),this.TR=new a(n[0],e.right,e.y,n[1],t),this.BL=new a(e.x,n[0],n[1],e.bottom,t),this.BR=new a(n[0],e.right,n[1],e.bottom,t)}return e.prototype.destroy=function(){this.TL.destroy(),this.TR.destroy(),this.BL.destroy(),this.BR.destroy(),delete this.TL,delete this.TR,delete this.BL,delete this.BR},e}();t.Quadrants=o;var a=function(){function e(e,t,n,r,i){this.children=[],this.depth=0,arguments.length>=4?this.bounds=new A.Bounds({height:n-r,width:t-e,x:e,y:n}):this.bounds=new A.Bounds({height:1,width:1,x:0,y:0}),this.depth=i||0}return e.prototype.destroy=function(){delete this.children,delete this.bounds,this.nodes&&(this.nodes.destroy(),delete this.nodes)},e.prototype.add=function(e,t){return e.isInside(this.bounds)?this.doAdd(e):(this.cover(e),this.add(e,t))},e.prototype.addAll=function(e,t){var n=this;t=t||[];var r=Number.MAX_VALUE,i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=-Number.MAX_VALUE;e.forEach(function(e){e.x<r&&(r=e.x),e.right>o&&(o=e.right),e.bottom>a&&(a=e.bottom),e.y<i&&(i=e.y)}),this.cover(new A.Bounds({height:a-i,width:o-r,x:r,y:i})),e.forEach(function(e){return n.doAdd(e)})},e.prototype.cover=function(e){var t=this;if(!e.isInside(this.bounds)){this.bounds.encapsulate(e),this.bounds.x-=1,this.bounds.y-=1,this.bounds.width+=2,this.bounds.height+=4;var n=this.gatherChildren([]);this.nodes&&(this.nodes.destroy(),delete this.nodes),n.forEach(function(e){return t.doAdd(e)})}},e.prototype.doAdd=function(e){return this.nodes?e.isInside(this.nodes.TL.bounds)?this.nodes.TL.doAdd(e):e.isInside(this.nodes.TR.bounds)?this.nodes.TR.doAdd(e):e.isInside(this.nodes.BL.bounds)?this.nodes.BL.doAdd(e):e.isInside(this.nodes.BR.bounds)?this.nodes.BR.doAdd(e):(this.children.push(e),!0):e.isInside(this.bounds)?(this.children.push(e),this.children.length>5&&this.depth<10&&this.split(),!0):(isNaN(e.width+e.height+e.x+e.y)?console.error("Child did not fit into bounds because a dimension is NaN",e):0===e.area&&console.error("Child did not fit into bounds because the area is zero",e),!0)},e.prototype.gatherChildren=function(e){return e=e.concat(this.children),this.nodes&&(this.nodes.TL.gatherChildren(e),this.nodes.TR.gatherChildren(e),this.nodes.BL.gatherChildren(e),this.nodes.BR.gatherChildren(e)),e},e.prototype.query=function(e,t){return e instanceof A.Bounds?e.hitBounds(this.bounds)?this.queryBounds(e,[],t):[]:i.isVec2(e)&&this.bounds.containsPoint(e)?this.queryPoint(e,[],t):[]},e.prototype.queryBounds=function(e,t,n){return this.children.forEach(function(n){n.hitBounds(e)&&t.push(n)}),n&&n(this),this.nodes&&(e.hitBounds(this.nodes.TL.bounds)&&this.nodes.TL.queryBounds(e,t,n),e.hitBounds(this.nodes.TR.bounds)&&this.nodes.TR.queryBounds(e,t,n),e.hitBounds(this.nodes.BL.bounds)&&this.nodes.BL.queryBounds(e,t,n),e.hitBounds(this.nodes.BR.bounds)&&this.nodes.BR.queryBounds(e,t,n)),t},e.prototype.queryPoint=function(e,t,n){return this.children.forEach(function(n){n.containsPoint(e)&&t.push(n)}),n&&n(this),this.nodes&&(this.nodes.TL.bounds.containsPoint(e)&&this.nodes.TL.queryPoint(e,t,n),this.nodes.TR.bounds.containsPoint(e)&&this.nodes.TR.queryPoint(e,t,n),this.nodes.BL.bounds.containsPoint(e)&&this.nodes.BL.queryPoint(e,t,n),this.nodes.BR.bounds.containsPoint(e)&&this.nodes.BR.queryPoint(e,t,n)),t},e.prototype.split=function(){var e=this.gatherChildren([]);for(this.nodes=new o(this.bounds,this.depth+1),this.children=[];e.length>0;){var t=e.pop();t&&this.doAdd(t)}},e.prototype.visit=function(e){var t=Boolean(e(this));this.nodes&&!t&&(this.nodes.TL.visit(e),this.nodes.TR.visit(e),this.nodes.BL.visit(e),this.nodes.BR.visit(e))},e}();t.Node=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.QuadTree=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(109),o=n(94),a=n(39),s=n(4),c=n(31),u="EasingIOExpansion",l=Math.abs,d=Math.max,h={duration:0,start:[0],end:[0],startTime:0},f={1:"float",2:"vec2",3:"vec3",4:"vec4",9:"mat3",16:"mat4",99:"vec4"},p="easingMethod",g="T";function B(e){return Boolean(e)&&e.easing&&void 0!==e.size}var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseAttributeName=new Map,t}return r(t,e),t.prototype.expand=function(e,t,n,r){for(var a=new Set,c=[],u=[],f=0,p=t;f<p.length;f++){var g=p[f];B(g)&&c.push(g)}var w={};e.easingId=w;for(var y=function(t,n){var r=c[t],f=r.easing,p=f.cpu,g=f.loop,B=f.uid,y=r.name,b=r.size,m=r.update,E=B;v.baseAttributeName.set(r,r.name),r.name="_"+r.name+"_end",w[r.name]=E,a.has(E)&&console.error("Undefined behavior occurs if you reuse an IAutoEasingMethod. Please ensure you are using uid() from the util to give the IAutoEasingMethod its uid, or just use the default provided methods"),a.add(E);var C,U,T,Q,_,F,I,x,S,O,M,N={values:h};r.update=function(t){if(S=e.surface.frameMetrics,U=r.easing.delay,T=r.easing.duration,I=m(t),x=S.currentTime,(O=t.easing.get(E))?t.reactivate&&(O.end=M.copy(I),O.start=M.copy(I),O.startTime=x):(M=s.VecMath(I),O=new o.EasingProps({duration:T,end:M.copy(I),start:M.copy(I),startTime:x}),t.easing.set(E,O)),Q=T,C=U,(_=O).isTimeSet&&(Q=_.duration||T,C=_.delay||0),!_.isManualStart){switch(F=1,g){case i.AutoEasingLoopStyle.CONTINUOUS:F=(x-_.startTime)/Q;break;case i.AutoEasingLoopStyle.REPEAT:F=(x-_.startTime)/Q%1;break;case i.AutoEasingLoopStyle.REFLECT:var n=(x-_.startTime)/Q;F=2*l(n/2%1-.5);break;case i.AutoEasingLoopStyle.NONE:default:F=(x-_.startTime)/Q}_.start=p(_.start,_.end,F)}return _.startTime=x+C,_.end=M.copy(I),N.values=_,e.animationEndTime=d(e.animationEndTime,_.startTime+Q+S.frameDuration),I},r.childAttributes=[];var R={name:"_"+y+"_start",parentAttribute:r,size:b,update:function(e){return N.values.start}};r.childAttributes.push(R),u.push(R);var L={name:"_"+y+"_start_time",parentAttribute:r,size:A.InstanceAttributeSize.ONE,update:function(e){return[N.values.startTime]}};r.childAttributes.push(L),u.push(L);var H={name:"_"+y+"_duration",parentAttribute:r,size:A.InstanceAttributeSize.ONE,update:function(e){return[N.values.duration]}};r.childAttributes.push(H),u.push(H)},v=this,b=0,m=c.length;b<m;++b)y(b);return{instanceAttributes:u,vertexAttributes:[],uniforms:[]}},t.prototype.validate=function(e,t,n,r){var A=!1;return t.forEach(function(e){e.easing&&e.resource&&(console.warn("An instance attribute can not have both easing and resource properties. Undefined behavior will occur."),console.warn(e),A=!0),e.easing&&void 0===e.size&&console.warn("An Instance Attribute with easing MUST have a size declared")}),!A},t.prototype.processAttributeDestructuring=function(e,t,n,r,A,o){for(var a=0,s=A.length;a<s;++a){var c=A[a];if(c.easing&&c.size){var l=this.baseAttributeName.get(c);if(l){this.baseAttributeName.delete(c);var d="_"+l+"_time",h="_"+l+"_duration",p="_"+l+"_start_time";switch(c.easing.loop){case i.AutoEasingLoopStyle.CONTINUOUS:this.setDeclaration(t,d,"  float "+d+" = (currentTime - "+p+") / "+h+";\n",u);break;case i.AutoEasingLoopStyle.REPEAT:this.setDeclaration(t,d,"  float "+d+" = clamp(fract((currentTime - "+p+") / "+h+"), 0.0, 1.0);\n",u);break;case i.AutoEasingLoopStyle.REFLECT:var g="_"+l+"_timePassed",B="_"+l+"_pingPong";this.setDeclaration(t,g,"  float "+g+" = (currentTime - "+p+") / "+h+";\n",u),this.setDeclaration(t,B,"  float "+B+" = abs((fract("+g+" / 2.0)) - 0.5) * 2.0;\n",u),this.setDeclaration(t,d,"  float "+d+" = clamp("+B+", 0.0, 1.0);\n",u);break;case i.AutoEasingLoopStyle.NONE:default:this.setDeclaration(t,d,"  float "+d+" = clamp((currentTime - "+p+") / "+h+", 0.0, 1.0);\n",u)}this.setDeclaration(t,l,"  "+f[c.size]+" "+l+" = "+c.easing.methodName+"(_"+l+"_start, _"+l+"_end, _"+l+"_time);\n",u)}else console.warn("Could not determine a base name for an easing attribute.")}}return""},t.prototype.processHeaderInjection=function(e,t,n,r,i,o,s){var c=this,l={injection:""};if(e!==A.ShaderInjectionTarget.VERTEX)return l;var d=new Map;if(l.injection="// Auto Easing Methods specified by the layer\n",o.forEach(function(e){if(e.easing&&e.size){var t=d.get(e.easing.methodName);t||(t=new Map,d.set(e.easing.methodName,t)),t.set(e.size,e.easing.gpu)}}),0===d.size)return l.injection="",l;var h={name:"Easing Method Generation",values:[p]};return d.forEach(function(e,n){e.forEach(function(e,r){var A,i=f[r],o=((A={})[p]=i+" "+n+"("+i+" start, "+i+" end, float t)",A[g]=""+i,A),s=a.shaderTemplate({options:o,required:h,shader:e});c.setDeclaration(t,i+" "+n,s.shader+"\n",u)})}),l},t}(c.BaseIOExpansion);t.EasingIOExpansion=w},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=n(29),a=n(31),s=n(16),c=n(0),u="BasicIOExpansion",l=["x","y","z","w"],d={1:"float",2:"vec2",3:"vec3",4:"vec4",9:"mat3",16:"mat4",99:"vec4"};var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.generateUniformAttributePacking=function(e,t){return this.setDeclaration(e,i.uniformBufferInstanceBufferName,"\n// Instance Attributes as a packed Uniform Buffer\nuniform vec4 "+i.uniformBufferInstanceBufferName+"["+t.totalInstanceUniformBlocks+"];\n",u),this.setDeclaration(e,"instanceSize","int instanceSize = "+t.totalInstanceUniformBlocks+";",u),this.setDeclaration(e,"getBlock","vec4 getBlock(int index, int instanceIndex) { return "+i.uniformBufferInstanceBufferName+"[(instanceSize * instanceIndex) + index]; }",u),{injection:"",material:{uniforms:[{name:i.uniformBufferInstanceBufferName,type:o.MaterialUniformType.VEC4_ARRAY,value:new Array(t.totalInstanceUniformBlocks).fill(0).map(function(){return[0,0,0,0]})}]}}},t.prototype.processAttributeDestructuring=function(e,t,n,r,A,i){var o="",a=A.slice(0);switch(e.bufferType){case s.LayerBufferType.INSTANCE_ATTRIBUTE:o=this.processDestructuringInstanceAttribute(t,a);break;case s.LayerBufferType.INSTANCE_ATTRIBUTE_PACKING:o=this.processDestructuringInstanceAttributePacking(t,a);break;case s.LayerBufferType.UNIFORM:o=this.processDestructuringUniformBuffer(t,a,n.blocksPerInstance)}return e.picking.type===c.PickType.SINGLE&&(o+="\n// This portion is where the shader assigns the picking color that gets passed to the fragment shader\n_picking_color_pass_ = _pickingColor;\n"),o},t.prototype.processDestructuringInstanceAttribute=function(e,t){return""},t.prototype.processDestructuringInstanceAttributePacking=function(e,t){var n="";return n+=this.processDestructureBlocks(e,t)},t.prototype.processDestructuringUniformBuffer=function(e,t,n){this.setDeclaration(e,"instanceIndex","int instanceIndex = int(instance);",u);for(var r=0;r<n;++r)this.setDeclaration(e,"block"+r,"  vec4 block"+r+" = getBlock("+r+", instanceIndex);\n",u);return this.processDestructureBlocks(e,t)},t.prototype.processDestructureBlocks=function(e,t){var n=this;return t.forEach(function(t){var r=t.block;t.size===c.InstanceAttributeSize.FOUR?n.setDeclaration(e,t.name,"  "+d[t.size]+" "+t.name+" = block"+r+";\n",u):n.setDeclaration(e,t.name,"  "+d[t.size||1]+" "+t.name+" = block"+r+"."+function(e,t){return l.slice(e,e+t).join("")}(t.blockIndex||0,t.size||1)+";\n",u)}),""},t.prototype.processHeaderInjection=function(e,t,n,r,i,o,a){var s={injection:""};e===c.ShaderInjectionTarget.VERTEX&&(s=this.processAttributeHeader(t,n,r,i,o));var u=this.processUniformHeader(t,a,e);return A({},s,{injection:s.injection+u})},t.prototype.processAttributeHeader=function(e,t,n,r,A){var i=void 0,o="// Shader input\n";if(t.bufferType===s.LayerBufferType.UNIFORM&&A.length>0){var a=this.generateUniformAttributePacking(e,n);i=a.material,o+=a.injection}return o+=this.processVertexAttributes(e,r),t.bufferType===s.LayerBufferType.INSTANCE_ATTRIBUTE&&A.length>0&&(o+=this.processInstanceAttributeBufferStrategy(e,A)),t.bufferType===s.LayerBufferType.INSTANCE_ATTRIBUTE_PACKING&&A.length>0&&(o+=this.processInstanceAttributePackingBufferStrategy(e,n.instanceMaxBlock)),{injection:o,material:i}},t.prototype.processUniformHeader=function(e,t,n){var r=this,A=n||c.ShaderInjectionTarget.VERTEX;return t.forEach(function(t){t.shaderInjection=t.shaderInjection||c.ShaderInjectionTarget.VERTEX,t.shaderInjection!==A&&t.shaderInjection!==c.ShaderInjectionTarget.ALL||r.setDeclaration(e,t.name,"uniform "+(t.qualifier||"")+(t.qualifier?" ":"")+d[t.size]+" "+t.name+";\n",u)}),""},t.prototype.processInstanceAttributeBufferStrategy=function(e,t){var n=this;return t.forEach(function(t){n.setDeclaration(e,t.name,"attribute "+d[t.size||1]+" "+(t.qualifier||"")+(t.qualifier?" ":"")+" "+t.name+";\n",u)}),""},t.prototype.processInstanceAttributePackingBufferStrategy=function(e,t){for(var n=0,r=t+1;n<r;++n)this.setDeclaration(e,"block"+n,"attribute "+d[c.InstanceAttributeSize.FOUR]+" block"+n+";\n",u);return""},t.prototype.processVertexAttributes=function(e,t){var n=this;return t.forEach(function(t){n.setDeclaration(e,t.name,"attribute "+d[t.size]+" "+(t.qualifier||"")+(t.qualifier?" ":"")+t.name+";\n",u)}),""},t}(a.BaseIOExpansion);t.BasicIOExpansion=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0);function i(e){return Boolean(e)}var o=function(e){function t(t){var n=e.call(this)||this;return n.isOver=new Map,n.surface=t,n.sceneViews=t.sceneViews,n}return r(t,e),t.prototype.getSceneViewsUnderMouse=function(e){for(var t=new Map,n=0,r=this.sceneViews;n<r.length;n++){var A=r[n];t.set(A.view.id,A)}return e.viewsUnderMouse.map(function(e){return t.get(e.view.id)}).filter(i)},t.prototype.getMouseByViewId=function(e){for(var t=new Map,n=0,r=e.viewsUnderMouse;n<r.length;n++){var A=r[n];t.set(A.view.id,A.mouse)}return t},t.prototype.handleClick=function(e,t){this.handleInteraction(e,function(e,n,r){e.interactions.handleMouseClick(n,r,t)})},t.prototype.handleDrag=function(e,t){this.handleInteraction(e,function(e,t,n){return e.interactions.handleMouseDrag(t,n)})},t.prototype.handleInteraction=function(e,t){for(var n=this.getSceneViewsUnderMouse(e),r=this.getMouseByViewId(e),A=0,i=n;A<i.length;A++){var o=i[A];this.handleSceneView(o,r,t)}return n},t.prototype.handleMouseDown=function(e,t){this.handleInteraction(e,function(e,n,r){return e.interactions.handleMouseDown(n,r,t)})},t.prototype.handleMouseUp=function(e,t){this.handleInteraction(e,function(e,n,r){return e.interactions.handleMouseUp(n,r,t)})},t.prototype.handleMouseOver=function(e){},t.prototype.handleMouseOut=function(e){var t=this,n=this.getMouseByViewId(e),r=e.screen.mouse;this.isOver.forEach(function(e,A){n.set(A.view.id,A.view.screenToView(r)),t.handleSceneView(A,n,function(e,t,n){return e.interactions.handleMouseOut(t,n)})}),this.isOver.clear()},t.prototype.handleMouseMove=function(e){var t=this;this.surface&&this.surface.updateColorPickRange(e.screen.mouse,e.viewsUnderMouse.map(function(e){return e.view}));var n=this.handleInteraction(e,function(e,t,n){return e.interactions.handleMouseMove(t,n)}),r=this.getMouseByViewId(e),A=e.screen.mouse,i=new Map;n.forEach(function(e){return i.set(e,!0)}),this.isOver.forEach(function(e,n){i.get(n)||(r.set(n.view.id,n.view.screenToView(A)),t.handleSceneView(n,r,function(e,t,n){return e.interactions.handleMouseOut(t,n)}))}),i.forEach(function(e,n){t.isOver.get(n)||t.handleSceneView(n,r,function(e,t,n){return e.interactions.handleMouseOver(t,n)})}),this.isOver=i},t.prototype.handleSceneView=function(e,t,n){var r=e.view,i=t.get(r.id);if(i)for(var o=0,a=e.scene.layers;o<a.length;o++){var s=a[o];s.picking&&s.picking.type!==A.PickType.NONE&&n(s,r,i)}},t.prototype.handleWheel=function(e){},t}(n(57).EventManager);t.LayerMouseEvents=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.sortInstanceAttributes=function(e,t){return e.resource&&!t.resource?-1:e.easing&&!t.easing?-1:1},e.prototype.sortVertexAttributes=function(e,t){return 1},e.prototype.sortUniforms=function(e,t){return 1},e}();t.BaseIOSorting=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeColorPickingRendering=function(e,t,n,r){for(var A={allColors:[],colorData:t,dataHeight:r,dataWidth:n,mouse:e,nearestColor:0,nearestColorBytes:[0,0,0,0]},i=new Map,o=0,a=[],s=n/2,c=r/2,u=0,l=[0,0,0,0],d=Number.MAX_SAFE_INTEGER,h=0;h<r;++h){var f=[];a.push(f);for(var p=0;p<n;++p){var g=t[o],B=t[o+1],w=t[o+2];o+=4;var y=g<<16|B<<8|w;if(i.set(y,!0),f.push(y),0!==y){var v=p-s,b=h-c,m=v*v+b*b;m<d&&(d=m,u=y,l=[g,B,w,255])}}}return A.allColors=Array.from(i.keys()),A.nearestColor=u,A.nearestColorBytes=l,A}},function(e,t){e.exports="\n  // This is a special injected instance attribute. It lets the system\n  // control specific instances ability to draw, which allows the backend\n  // system greater control on how it optimizes draw calls and it's buffers.\n  if (_active == 0.0) {\n    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Quick exit to prevent any geometry from arising from the instance\n    return;\n  }\n\n"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(52),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.processAttributeDestructuring=function(e,t,r,i,o,a){return o.find(function(e){return e.name===A.activeAttributeName})?(this.setDeclaration(t,"__active_attribute_handler__",n(171),"ActiveIOExpansion"),""):""},t}(n(31).BaseIOExpansion);t.ActiveIOExpansion=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);var A=function(){function e(e){this.isMouseOver=new Set,this.isMouseDown=new Set,this.layer=e}return e.prototype.getColorPickInstance=function(){return this.colorPicking&&this.layer.diffManager&&function(e){return e&&e.colorPicking}(this.layer.diffManager.processor)?this.layer.diffManager.processor.colorPicking.uidToInstance.get(16777215-this.colorPicking.nearestColor):null},e.prototype.handleMouseOver=function(e,t){},e.prototype.handleMouseDown=function(e,t,n){var A=this;if(this.layer.picking&&this.layer.picking.type!==r.PickType.NONE){var i=this.layer.props.onMouseDown;if(i){var o,a,s=e.viewToWorld(t),c=void 0,u=[];if(this.layer.picking.type===r.PickType.ALL)o=this.layer.picking.hitTest,c=function(t){return a(t).filter(function(t){return o(t,s,e)})},u=(a=this.layer.picking.quadTree.query.bind(this.layer.picking.quadTree))(s).filter(function(t){return o(t,s,e)});else if(this.layer.picking.type===r.PickType.SINGLE){var l=this.getColorPickInstance();l&&u.push(l)}i({button:n,instances:u,layer:this.layer.id,projection:e,querySpace:c,screen:t,world:s}),this.isMouseDown.clear(),u.forEach(function(e){return A.isMouseDown.add(e)})}}},e.prototype.handleMouseOut=function(e,t){if(this.layer.picking&&this.layer.picking.type!==r.PickType.NONE){var n=this.layer.props.onMouseOut;if(n){var A,i,o=e.viewToWorld(t),a=void 0;this.layer.picking.type===r.PickType.ALL&&(A=this.layer.picking.hitTest,i=this.layer.picking.quadTree.query.bind(this.layer.picking.quadTree),a=function(t){return i(t).filter(function(t){return A(t,o,e)})}),n({instances:Array.from(this.isMouseOver.keys()),layer:this.layer.id,projection:e,querySpace:a,screen:t,world:o})}}this.isMouseOver.clear(),this.isMouseDown.clear()},e.prototype.handleMouseUp=function(e,t,n){if(this.layer.picking&&this.layer.picking.type!==r.PickType.NONE){var A=this.layer.props.onMouseUp;if(A){var i,o,a=e.viewToWorld(t),s=void 0,c=[];if(this.layer.picking.type===r.PickType.ALL)i=this.layer.picking.hitTest,s=function(t){return o(t).filter(function(t){return i(t,a,e)})},c=(o=this.layer.picking.quadTree.query.bind(this.layer.picking.quadTree))(a).filter(function(t){return i(t,a,e)});else if(this.layer.picking.type===r.PickType.SINGLE){var u=this.getColorPickInstance();u&&c.push(u)}A({button:n,instances:c,layer:this.layer.id,projection:e,querySpace:s,screen:t,world:a})}}},e.prototype.handleMouseMove=function(e,t){var n=this,A=this.layer.props,i=A.onMouseOver,o=A.onMouseMove,a=A.onMouseOut;if(this.layer.picking&&this.layer.picking.type!==r.PickType.NONE&&(i||o||a)){var s,c,u=void 0,l=e.viewToWorld(t),d=void 0,h=[];if(this.layer.picking.type===r.PickType.ALL)s=this.layer.picking.hitTest,d=function(t){return c(t).filter(function(t){return s(t,l,e)})},h=(c=this.layer.picking.quadTree.query.bind(this.layer.picking.quadTree))(l).filter(function(t){return s(t,l,e)});else if(this.layer.picking.type===r.PickType.SINGLE){var f=this.getColorPickInstance();f&&h.push(f)}var p=new Set;if(h.forEach(function(e){return p.add(e)}),a){var g=Array.from(this.isMouseOver.keys()).filter(function(e){return!p.has(e)});u={instances:g,layer:this.layer.id,projection:e,querySpace:d,screen:t,world:l},g.length>0&&a(u)}if(i){var B=h.filter(function(e){return!n.isMouseOver.has(e)});u={instances:B,layer:this.layer.id,projection:e,querySpace:d,screen:t,world:l},B.length>0&&i(u)}o&&o(u={instances:h,layer:this.layer.id,projection:e,querySpace:d,screen:t,world:l}),this.isMouseOver=p}},e.prototype.handleMouseClick=function(e,t,n){if(this.layer.picking&&this.layer.picking.type!==r.PickType.NONE){var A=this.layer.props.onMouseClick;if(A){var i,o,a=e.viewToWorld(t),s=void 0,c=[];if(this.layer.picking.type===r.PickType.ALL)i=this.layer.picking.hitTest,s=function(t){return o(t).filter(function(t){return i(t,a,e)})},c=(o=this.layer.picking.quadTree.query.bind(this.layer.picking.quadTree))(a).filter(function(t){return i(t,a,e)});else if(this.layer.picking.type===r.PickType.SINGLE){var u=this.getColorPickInstance();u&&c.push(u)}A({button:n,instances:c,layer:this.layer.id,projection:e,querySpace:s,screen:t,world:a})}}},e.prototype.handleMouseDrag=function(e,t){},e}();t.LayerInteractionHandler=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),A=function(){function e(){}return e.calculateUniformBlockUseage=function(e){for(var t=0,n=0,r=e.length;n<r;++n)t+=Math.ceil(e[n].size/4);return t},e.prototype.process=function(t,n){var A=this;this.instanceMaxBlock=0,t.forEach(function(e){A.instanceMaxBlock=Math.max(A.instanceMaxBlock,e.block||0)}),this.blocksPerInstance=this.instanceMaxBlock+1,this.maxUniforms=r.WebGLStat.MAX_VERTEX_UNIFORMS,this.maxUniformsForInstancing=this.maxUniforms-e.calculateUniformBlockUseage(n),this.maxInstancesPerUniformBuffer=Math.floor(this.maxUniformsForInstancing/this.blocksPerInstance),this.totalInstanceUniformBlocks=this.maxInstancesPerUniformBuffer*this.blocksPerInstance},e}();t.MetricsProcessing=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),A=n(0),i=function(){function e(e){this.index=0,this.available=4,this.index=e}return e.prototype.setAttribute=function(e){return(e.size||0)<=this.available&&(e.block=this.index,e.blockIndex=4-this.available,this.available-=e.size||0,!0)},e}();t.packAttributes=function(e){!function(e){e.forEach(function(e){if(e.resource&&void 0===e.size&&(e.size=A.InstanceAttributeSize.FOUR),!e.size)try{var t=e.update(new r.Instance({}));t.length>0&&t.length<=A.InstanceAttributeSize.FOUR&&(e.size=t.length)}catch(t){console.warn("The system could not determine the size of the provided attribute. Please provide the size of the attribute:",e)}})}(e);var t=[new i(0)];e.forEach(function(e){if(!t.find(function(t){return!!t.setAttribute(e)&&Boolean(t)})){var n=new i(t.length);t.push(n),n.setAttribute(e)||console.warn("There was a problem packing an attribute into a block. No block would accommodate it:",e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),A=n(16),i=n(0),o=n(39),a=n(107),s=n(174),c=n(66),u=function(){function e(){this.metricsProcessing=new s.MetricsProcessing}return e.prototype.process=function(e,t,n,s){var c;try{var u=this.processImports(e,t);if(!u)return null;var l=r.injectShaderIO(e.surface.gl,e,t,n,s,u),d=l.vertexAttributes,h=l.instanceAttributes,f=l.uniforms;A.getLayerBufferType(e.surface.gl,e,d,h),this.metricsProcessing.process(h,f);for(var p="",g="",B="",w={uniforms:[]},y=new Map,v=new Map,b=new Map,m=0,E=n.length;m<E;++m){var C=n[m],U=C.processHeaderInjection(i.ShaderInjectionTarget.VERTEX,y,e,this.metricsProcessing,d,h,f);p+=U.injection,U.material&&(w.uniforms=w.uniforms.concat(U.material.uniforms||[]));var T=C.processHeaderInjection(i.ShaderInjectionTarget.FRAGMENT,v,e,this.metricsProcessing,d,h,f);g+=T.injection,T.material&&(w.uniforms=w.uniforms.concat(T.material.uniforms||[])),B+=C.processAttributeDestructuring(e,b,this.metricsProcessing,d,h,f)}var Q="";y.forEach(function(e){Q+=e}),p=Q+p,Q="",v.forEach(function(e){Q+=e}),g=Q+g,Q="",b.forEach(function(e){Q+=e}),B=Q+B;var _="precision highp float;\n\n"+p+u.vs,F="precision highp float;\n\n"+g+u.fs,I=((c={})[a.templateVars.attributes]=B,c),x=o.shaderTemplate({options:I,required:void 0,shader:_});return I={},{fs:o.shaderTemplate({options:I,required:void 0,shader:F}).shader.trim(),materialUniforms:w.uniforms,maxInstancesPerBuffer:this.metricsProcessing.maxInstancesPerUniformBuffer,modules:Array.from(u.shaderModuleUnits),vs:x.shader.trim(),vertexAttributes:d,instanceAttributes:h,uniforms:f}}catch(t){return console.warn("An unknown error occurred while processing the shaders for layer:",e.id),console.warn("Error:"),console.warn(t&&(t.stack||t.message)),null}},e.prototype.processImports=function(e,t){var n=new Set,r=e.baseShaderModules(t),A=c.ShaderModule.process(e.id,t.vs,i.ShaderInjectionTarget.VERTEX,r.vs);if(A.errors.length>0)return console.warn.apply(console,["Error processing imports for the vertex shader of layer:",e.id,"Errors"].concat(A.errors.reverse())),null;var o=c.ShaderModule.process(e.id,t.fs,i.ShaderInjectionTarget.FRAGMENT,r.fs);return o.errors.length>0?(console.warn.apply(console,["Error processing imports for the fragment shader of layer:",e.id,"Errors"].concat(o.errors.reverse())),null):(A.shaderModuleUnits.forEach(function(e){return n.add(e)}),o.shaderModuleUnits.forEach(function(e){return n.add(e)}),{fs:o.shader||"",vs:A.shader||"",shaderModuleUnits:n})},e}();t.ShaderProcessor=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,A=n(103),i=n(102),o=n(9),a=n(98),s=n(97),c=n(53),u=n(21),l=n(29),d="\n  precision highp float;\n\n  uniform vec2 screenSize;\n  uniform vec4 bounds;\n\n  attribute vec2 position;\n  attribute vec2 texCoord;\n\n  varying vec2 _texCoord;\n\n  void main() {\n    vec2 mid = vec2(bounds.x + bounds.z / 2.0, screenSize.y - (bounds.y + bounds.w / 2.0));\n    vec2 _half = bounds.zw / 2.0;\n    vec2 pos = mid + _half * position;\n\n    pos.x = pos.x / screenSize.x * 2.0 - 1.0;\n    pos.y = pos.y / screenSize.y * 2.0 - 1.0;\n\n    _texCoord  = texCoord;\n    gl_Position = vec4(pos, 0.0, 1.0);\n    gl_PointSize = 10.0;\n  }\n",h="\n  precision highp float;\n\n  uniform sampler2D tex;\n  varying vec2 _texCoord;\n\n  void main() {\n    gl_FragColor = texture2D(tex, _texCoord);\n  }\n",f=null,p=new u.Texture({data:{width:2,height:2,buffer:null}}),g=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),B=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),w=new i.Geometry,y=new A.Attribute(g,2,!1,!1),v=new A.Attribute(B,2,!1,!1);w.addAttribute("position",y),w.addAttribute("texCoord",v);var b=new c.Scene,m=200,E=[];function C(e){var t=document.getElementById("__debug_read_pixels__");if(!t){if(t=document.createElement("div"),!e.parentElement)return t;var n=e.parentElement;n.appendChild(t),n.style.position="relative",n.style.width=e.style.width,n.style.height=e.style.height,e.style.position="absolute",e.style.left="0px",e.style.right="0px",t.id="__debug_read_pixels__",t.style.background="rgba(64, 64, 64, 0.0)",t.style.border="1px solid #FFFFFF",t.style.padding="4px",t.style.position="absolute",t.style.right="10px",t.style.bottom="10px",t.style.zIndex="10"}return t}function U(e,t,n,A){if(!A){if(!t.data)return!1;if(f||(f=new a.Material({fragmentShader:h,vertexShader:d,culling:o.GLSettings.Material.CullSide.NONE,uniforms:{tex:{type:l.MaterialUniformType.TEXTURE,value:p},screenSize:{type:l.MaterialUniformType.VEC2,value:[0,0]},bounds:{type:l.MaterialUniformType.VEC4,value:[0,0,0,0]}}}),(r=new s.Model(w,f)).drawMode=o.GLSettings.Model.DrawMode.TRIANGLES,r.vertexCount=6),b.add(r),!f)return!1;var i=function(e,t,n,r){var A=C(e.options.canvas);if(!A.parentElement)return[0,0,0,0];var i=document.getElementById(r);if(!i){var o=n/t;(i=document.createElement("div")).style.height=m+"px",i.style.width=m/o+"px",i.style.marginLeft="4px",i.id=r,A.appendChild(i)}var a=A.parentElement.getBoundingClientRect(),s=i.getBoundingClientRect();return[(s.left-a.left)*e.state.pixelRatio,(s.top-a.top)*e.state.pixelRatio,s.width*e.state.pixelRatio,s.height*e.state.pixelRatio]}(e,t.data.width,t.data.height,n);return f.uniforms.tex.value=t,f.uniforms.screenSize.value=e.getRenderSize(),f.uniforms.bounds.value=i,e.setRenderTarget(null),e.setViewport(e.getFullViewport()),e.setScissor(e.getFullViewport()),e.clear(!1,!0,!1),e.render(b),!0}E.push([e,e.state.currentRenderTarget,U,Array.from(arguments).slice(0,-1)])}function T(e,t,n,r,A,i){if(i)E.push([e,e.state.currentRenderTarget,T,Array.from(arguments).slice(0,-1)]);else{var o,a=C(e.options.canvas),s=document.getElementById(A);if(s&&s instanceof HTMLCanvasElement&&(o=s),!o){var c=r/n;o=document.createElement("canvas"),a.appendChild(o),o.style.height=m+"px",o.height=r,o.width=n,o.style.width=m/c+"px",o.style.marginLeft="4px",o.id=A}var u=new ImageData(Uint8ClampedArray.from(t),n,r),l=o.getContext("2d");l&&l.putImageData(u,0,0)}}t.debugRenderTarget=function e(t,n,r){if(r)E.push([t,t.state.currentRenderTarget,e,Array.from(arguments).slice(0,-1)]);else if(t.glState.useRenderTarget(n)){var A,i="__debug_read_pixels__"+n.uid;if(Array.isArray(n.buffers.color)){var o=!1;if(n.buffers.color.forEach(function(e){e instanceof u.Texture&&(U(t,e,i),o=!0)}),o)return}else A=n.buffers.color;if(A instanceof u.Texture)U(t,A,i);else{var a=Math.floor(n.width),s=Math.floor(n.height),c=new Uint8Array(a*s*4);t.readPixels(0,0,a,s,c),t.setRenderTarget(null),t.clear(!1,!0),T(t,c,n.width,n.height,i)}}},t.debugTexture=U,t.debugReadPixels=T,t.flushDebug=function(){E.forEach(function(e){e[0].setRenderTarget(e[1]),e[2].apply(null,e[3])}),E.splice(0)}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(71)),r(n(69)),r(n(68)),r(n(43)),r(n(70)),r(n(23)),r(n(19)),r(n(44))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=n(0),c=n(1),u=n(37),l=n(44),d=n(89),h=n(72),f=n(3)("performance");t.fontRequest=function(e){return A({type:s.ResourceType.FONT},e)};var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.requestLookup=new Map,t.requestQueue=new Map,t.resourceLookup=new Map,t.fontManager=new d.FontManager,t}return r(t,e),t.prototype.dequeueRequests=function(){return i(this,void 0,void 0,function(){var e,t,n,r,A,i;return o(this,function(a){switch(a.label){case 0:e=!1,t=[],this.requestQueue.forEach(function(e,n){t.push([n,e])}),this.requestQueue.clear(),n=function(n,A){var i,a,s,u,l;return o(this,function(A){switch(A.label){case 0:return i=t[n],a=i[0],(s=i[1]).length>0?(e=!0,u=s.slice(0),s.length=0,f("Processing requests for resource '%s'",a),[4,r.fontManager.updateFontMap(a,u)]):[3,3];case 1:return A.sent(),[4,r.fontManager.calculateMetrics(a,u)];case 2:A.sent(),l=r.requestLookup.get(a),f("All requests for resource '%s' are processed",a),l&&u.forEach(function(e){var t=l.get(e);if(l.delete(e),t){for(var n=0,r=t.length;n<r;++n){var A=t[n],i=A[0],o=A[1];i.managesInstance(o)&&(o.active=!0)}c.nextFrame(function(){for(var e=new Set,n=0,r=t.length;n<r;++n){var A=t[n][1];e.has(A)||(e.add(A),A.resourceTrigger())}})}}),A.label=3;case 3:return[2]}})},r=this,A=0,i=t.length,a.label=1;case 1:return A<i?[5,n(A,i)]:[3,4];case 2:a.sent(),a.label=3;case 3:return++A,[3,1];case 4:return[2,e]}})})},t.prototype.destroy=function(){this.fontManager.destroy()},t.prototype.getResource=function(e){return this.resourceLookup.get(e)||null},t.prototype.getIOExpansion=function(){return[new l.TextureIOExpansion(s.ResourceType.FONT,this)]},t.prototype.initResource=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return d.isFontResource(e)?[4,this.fontManager.createFontMap(e)]:[3,2];case 1:(t=n.sent())&&this.resourceLookup.set(e.key,t),n.label=2;case 2:return[2]}})})},t.prototype.request=function(e,t,n,r){var A=n,i=this.currentAttribute||r,o=A.fontMap,s=null;if(o)return A.character&&(s=o.getGlyphTexture(A.character)),s?A.fetch===h.FontResourceRequestFetch.IMAGE_SIZE?[s.pixelWidth,s.pixelHeight]:a.subTextureIOValue(s):A.fetch===h.FontResourceRequestFetch.IMAGE_SIZE?[0,0]:a.subTextureIOValue(null);var c=i.resource.key,u=this.requestLookup.get(c);if(u){var l=u.get(A);if(l)return l.push([e,t]),t.active=!1,A.fetch===h.FontResourceRequestFetch.IMAGE_SIZE?[0,0]:a.subTextureIOValue(s)}else u=new Map,this.requestLookup.set(c,u);t.active=!1;var d=this.requestQueue.get(c);return d||(d=[],this.requestQueue.set(c,d)),d.push(A),u.set(A,[[e,t]]),A.fetch?[0,0]:a.subTextureIOValue(s)},t.prototype.setAttributeContext=function(e){this.currentAttribute=e},t}(u.BaseResourceManager);t.FontResourceManager=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=n(45),i=n(34),o=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},a=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},s=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],A=e.counterReset.split(/\s*,\s*/),i=A.length,o=0;o<i;o++){var a=A[o].split(/\s+/),s=r(a,2),c=s[0],u=s[1];n.push(c);var l=t.counters[c];l||(l=t.counters[c]=[]),l.push(parseInt(u||0,10))}return n},t.popCounters=function(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var A=s(t.content),i=A.length,c=[],d="",h=t.counterIncrement;if(h&&"none"!==h){var f=h.split(/\s+/),p=r(f,2),g=p[0],B=p[1],w=n.counters[g];w&&(w[w.length-1]+=void 0===B?1:parseInt(B,10))}for(var y=0;y<i;y++){var v=A[y];switch(v.type){case a.STRING:d+=v.value||"";break;case a.ATTRIBUTE:e instanceof HTMLElement&&v.value&&(d+=e.getAttribute(v.value)||"");break;case a.COUNTER:var b=n.counters[v.name||""];b&&(d+=l([b[b.length-1]],"",v.format));break;case a.COUNTERS:var m=n.counters[v.name||""];m&&(d+=l(m,v.glue,v.format));break;case a.OPENQUOTE:d+=u(t,!0,n.quoteDepth),n.quoteDepth++;break;case a.CLOSEQUOTE:n.quoteDepth--,d+=u(t,!1,n.quoteDepth);break;case a.URL:d&&(c.push({type:o.TEXT,value:d}),d=""),c.push({type:o.IMAGE,value:v.value||""})}}return d&&c.push({type:o.TEXT,value:d}),c},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,A=!1,i=!1,o=!1,s="",u="",l=[],d=0;d<r;d++){var h=e.charAt(d);switch(h){case"'":case'"':i?s+=h:(A=!A,o||A||(n.push({type:a.STRING,value:s}),s=""));break;case"\\":i?(s+=h,i=!1):i=!0;break;case"(":A?s+=h:(o=!0,u=s,s="",l=[]);break;case")":if(A)s+=h;else if(o){switch(s&&l.push(s),u){case"attr":l.length>0&&n.push({type:a.ATTRIBUTE,value:l[0]});break;case"counter":if(l.length>0){var f={type:a.COUNTER,name:l[0]};l.length>1&&(f.format=l[1]),n.push(f)}break;case"counters":if(l.length>0){var p={type:a.COUNTERS,name:l[0]};l.length>1&&(p.glue=l[1]),l.length>2&&(p.format=l[2]),n.push(p)}break;case"url":l.length>0&&n.push({type:a.URL,value:l[0]})}o=!1,s=""}break;case",":A?s+=h:o&&(l.push(s),s="");break;case" ":case"\t":A?s+=h:s&&(c(n,s),s="");break;default:s+=h}"\\"!==h&&(i=!1)}return s&&c(n,s),t&&(t[e]=n),n}),c=function(e,t){switch(t){case"open-quote":e.push({type:a.OPENQUOTE});break;case"close-quote":e.push({type:a.CLOSEQUOTE})}},u=function(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],A=2*n;return A>=r.length&&(A=r.length-2),t||++A,r[A].replace(/^["']|["']$/g,"")},l=function(e,t,n){for(var r=e.length,o="",a=0;a<r;a++)a>0&&(o+=t||""),o+=(0,A.createCounterText)(e[a],(0,i.parseListStyleType)(n||"decimal"),!1);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){return e&&e.__esModule?e:{default:e}}(n(32)),i=n(75);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t,n,r){o(this,e),this.options=t,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=n,this._index=0}return r(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(!f(e)||A.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||d(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,i.Proxy)(e,this.options).then(function(e){return p(e,t.options.imageTimeout||0)}),e;if(!0===this.options.useCORS&&A.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return d(e)?p(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,i.Proxy)(e,this.options).then(function(e){return p(e,t.options.imageTimeout||0)})}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise(function(n,r){var A=new XMLHttpRequest;if(A.onreadystatechange=function(){if(4===A.readyState)if(200!==A.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+A.status);else{var t=new FileReader;t.addEventListener("load",function(){var e=t.result;n(e)},!1),t.addEventListener("error",function(e){return r(e)},!1),t.readAsDataURL(A.response)}},A.responseType="blob",t.options.imageTimeout){var i=t.options.imageTimeout;A.timeout=i,A.ontimeout=function(){return r("")}}A.open("GET",e,!0),A.send()}).then(function(e){return p(e,t.options.imageTimeout||0)}),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,t,n){var r=this;var i=function(e){return new Promise(function(A,i){var o=new Image;if(o.onload=function(){return A(o)},e&&!n||(o.crossOrigin="anonymous"),o.onerror=i,o.src=t,!0===o.complete&&setTimeout(function(){A(o)},500),r.options.imageTimeout){var a=r.options.imageTimeout;setTimeout(function(){return i("")},a)}})};return this.cache[e]=h(t)&&!f(t)?A.default.SUPPORT_BASE64_DRAWING(t).then(i):i(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map(function(t){return e.cache[t].catch(function(e){return null})});return Promise.all(n).then(function(e){return new s(t,e)})}}]),e}();t.default=a;var s=t.ResourceStore=function(){function e(t,n){o(this,e),this._keys=t,this._resources=n}return r(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),c=/^data:image\/svg\+xml/i,u=/^data:image\/.*;base64,/i,l=/^data:image\/.*/i,d=function(e){return l.test(e)},h=function(e){return u.test(e)},f=function(e){return"svg"===e.substr(-3).toLowerCase()||c.test(e)},p=function(e,t){return new Promise(function(n,r){var A=new Image;A.onload=function(){return n(A)},A.onerror=r,A.src=e,!0===A.complete&&setTimeout(function(){n(A)},500),t&&setTimeout(function(){return r("")},t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=n(75),a=d(n(181)),s=n(17),c=n(22),u=d(n(86)),l=n(180);function d(e){return e&&e.__esModule?e:{default:e}}var h=t.DocumentCloner=function(){function e(t,n,r,A,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=A,this.inlineImages=A,this.logger=r,this.options=n,this.renderer=i,this.resourceLoader=new a.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return A(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,c.parseBackgroundImage)(n.backgroundImage).map(function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then(function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"}).catch(function(e){0}):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")})).then(function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")}),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then(function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,s.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}}).catch(function(e){0})}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map(function(t){return t.href?fetch(t.href).then(function(e){return e.text()}).then(function(e){return p(e,t.href)}).catch(function(e){return[]}):f(t,e)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}).then(function(e){return Promise.all(e.map(function(e){return fetch(e.formats[0].src).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)})}).then(function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "})}))}).then(function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)})}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){0}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),A=U();r.setAttribute("data-html2canvas-internal-iframe-key",A);var o=(0,i.parseBounds)(e,0,0),a=o.width,c=o.height;return this.resourceLoader.cache[A]=Q(e,this.options).then(function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new u.default,width:a,height:c,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(A))}).then(function(t){return new Promise(function(n,A){var i=document.createElement("img");i.onload=function(){return n(t)},i.onerror=A,i.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,s.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),i),r)})}),r}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,A=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&m(t);for(var o=(0,l.parseCounterReset)(r,this.pseudoContentData),a=(0,l.resolvePseudoContent)(e,A,this.pseudoContentData),c=e.firstChild;c;c=c.nextSibling)(c.nodeType!==Node.ELEMENT_NODE||"SCRIPT"!==c.nodeName&&!c.hasAttribute("data-html2canvas-ignore"))&&(this.copyStyles&&"STYLE"===c.nodeName||t.appendChild(this.cloneNode(c)));var u=(0,l.resolvePseudoContent)(e,i,this.pseudoContentData);if((0,l.popCounters)(o,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(A&&this.inlineAllImages(B(e,t,A,a,w)),i&&this.inlineAllImages(B(e,t,i,u,y)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,s.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||g(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),f=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).map(function(e){for(var n=(0,c.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],A=0;A<n.length;A++)if("url"===n[A].method&&n[A+1]&&"format"===n[A+1].method){var i=t.createElement("a");i.href=n[A].args[0],t.body&&t.body.appendChild(i);var o={src:i.href,format:n[A+1].args[0]};r.push(o)}return{formats:r.filter(function(e){return/^woff/i.test(e.format)}),fontFace:e.style}}).filter(function(e){return e.formats.length})},p=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var A=document.createElement("style");return A.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(A),A.sheet?f(A.sheet,n):[]},g=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(e){}},B=function(e,t,n,r,A){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var i=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,s.copyCSSStyles)(n,i),r)for(var o=r.length,a=0;a<o;a++){var u=r[a];switch(u.type){case l.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var d=t.ownerDocument.createElement("img");d.src=(0,c.parseBackgroundImage)("url("+u.value+")")[0].args[0],d.style.opacity="1",i.appendChild(d);break;case l.PSEUDO_CONTENT_ITEM_TYPE.TEXT:i.appendChild(t.ownerDocument.createTextNode(u.value))}}return i.className=v+" "+b,t.className+=A===w?" "+v:" "+b,A===w?t.insertBefore(i,t.firstChild):t.appendChild(i),i}},w=":before",y=":after",v="___html2canvas___pseudoelement_before",b="___html2canvas___pseudoelement_after",m=function(e){E(e,"."+v+w+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+b+y+'{\n    content: "" !important;\n    display: none !important;\n}')},E=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},C=function(e){var t=r(e,3),n=t[0],A=t[1],i=t[2];n.scrollLeft=A,n.scrollTop=i},U=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},T=/^data:text\/(.+);(base64)?,(.*)$/i,Q=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,o.Proxy)(e.src,t).then(function(e){var t=e.match(T);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()}).then(function(t){return _(e.ownerDocument,(0,i.parseBounds)(e,0,0)).then(function(e){var n=e.contentWindow.document;n.open(),n.write(t);var r=F(e).then(function(){return n.documentElement});return n.close(),r})}):Promise.reject()}},_=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("")},F=function(e){var t=e.contentWindow,n=t.document;return new Promise(function(r,A){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))},50)}})},I=(t.cloneWindow=function(e,t,n,r,A,i){var o=new h(n,r,A,!1,i),a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset;return _(e,t).then(function(r){var A=r.contentWindow,i=A.document,c=F(r).then(function(){return o.scrolledElements.forEach(C),A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(i.documentElement.style.top=-t.top+"px",i.documentElement.style.left=-t.left+"px",i.documentElement.style.position="absolute"),o.clonedReferenceElement instanceof A.HTMLElement||o.clonedReferenceElement instanceof e.defaultView.HTMLElement||o.clonedReferenceElement instanceof HTMLElement?Promise.resolve([r,o.clonedReferenceElement,o.resourceLoader]):Promise.reject("")});return i.open(),i.write(I(document.doctype)+"<html></html>"),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,a,s),i.replaceChild(i.adoptNode(o.documentElement),i.documentElement),i.close(),c})},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=(c(n(18)),n(183)),i=c(n(12)),o=n(14),a=c(o),s=n(17);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,d=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,h=/(px)|%|( 0)$/i,f=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,p=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,g=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},B=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},w={left:new a.default("0%"),top:new a.default("0%"),center:new a.default("50%"),right:new a.default("100%"),bottom:new a.default("100%")},y=t.LinearGradient=function e(t,n){u(this,e),this.type=g.LINEAR_GRADIENT,this.colorStops=t,this.direction=n},v=t.RadialGradient=function e(t,n,r,A){u(this,e),this.type=g.RADIAL_GRADIENT,this.colorStops=t,this.shape=n,this.center=r,this.radius=A},b=(t.parseGradient=function(e,t,n){var r=t.args,A=t.method,i=t.prefix;return"linear-gradient"===A?m(r,n,!!i):"gradient"===A&&"linear"===r[0]?m(["to bottom"].concat(x(r.slice(3))),n,!!i):"radial-gradient"===A?E(e,"-webkit-"===i?I(r):r,n):"gradient"===A&&"radial"===r[0]?E(e,x(I(r.slice(1))),n):void 0},function(e,t,n){for(var r=[],A=t;A<e.length;A++){var o=e[A],s=h.test(o),c=o.lastIndexOf(" "),u=new i.default(s?o.substring(0,c):o),l=s?new a.default(o.substring(c+1)):A===t?new a.default("0%"):A===e.length-1?new a.default("100%"):null;r.push({color:u,stop:l})}for(var d=r.map(function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}}),f=d[0].stop,p=0;p<d.length;p++)if(null!==f){var g=d[p].stop;if(null===g){for(var B=p;null===d[B].stop;)B++;for(var w=B-p+1,y=(d[B].stop-f)/w;p<B;p++)f=d[p].stop=f+y}else f=g}return d}),m=function(e,t,n){var r=(0,A.parseAngle)(e[0]),i=l.test(e[0]),o=i||null!==r||d.test(e[0]),a=o?null!==r?C(n?r-.5*Math.PI:r,t):i?T(e[0],t):Q(e[0],t):C(Math.PI,t),c=o?1:0,u=Math.min((0,s.distance)(Math.abs(a.x0)+Math.abs(a.x1),Math.abs(a.y0)+Math.abs(a.y1)),2*t.width,2*t.height);return new y(b(e,c,u),a)},E=function(e,t,n){var r=t[0].match(p),A=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?B.CIRCLE:B.ELLIPSE,i={},a={};r&&(void 0!==r[3]&&(i.x=(0,o.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(i.y=(0,o.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?a.x=w[r[7].toLowerCase()]:void 0!==r[8]&&(a.x=(0,o.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?a.y=w[r[10].toLowerCase()]:void 0!==r[11]&&(a.y=(0,o.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var s={x:void 0===a.x?n.width/2:a.x.getAbsoluteValue(n.width),y:void 0===a.y?n.height/2:a.y.getAbsoluteValue(n.height)},c=F(r&&r[2]||"farthest-corner",A,s,i,n);return new v(b(t,r?1:0,Math.min(c.x,c.y)),A,s,c)},C=function(e,t){var n=t.width,r=t.height,A=.5*n,i=.5*r,o=(Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)))/2,a=A+Math.sin(e)*o,s=i-Math.cos(e)*o;return{x0:a,x1:n-a,y0:s,y1:r-s}},U=function(e){return Math.acos(e.width/2/((0,s.distance)(e.width,e.height)/2))},T=function(e,t){switch(e){case"bottom":case"to top":return C(0,t);case"left":case"to right":return C(Math.PI/2,t);case"right":case"to left":return C(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return C(Math.PI+U(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return C(Math.PI-U(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return C(U(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return C(2*Math.PI-U(t),t);case"top":case"to bottom":default:return C(Math.PI,t)}},Q=function(e,t){var n=e.split(" ").map(parseFloat),A=r(n,2),i=A[0],o=A[1],a=i/100*t.width/(o/100*t.height);return C(Math.atan(isNaN(a)?1:a)+Math.PI/2,t)},_=function(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce(function(e,A){var i=(0,s.distance)(t-A.x,n-A.y);return(r?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:A,optimumDistance:i}:e},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},F=function(e,t,n,r,A){var i=n.x,o=n.y,a=0,c=0;switch(e){case"closest-side":t===B.CIRCLE?a=c=Math.min(Math.abs(i),Math.abs(i-A.width),Math.abs(o),Math.abs(o-A.height)):t===B.ELLIPSE&&(a=Math.min(Math.abs(i),Math.abs(i-A.width)),c=Math.min(Math.abs(o),Math.abs(o-A.height)));break;case"closest-corner":if(t===B.CIRCLE)a=c=Math.min((0,s.distance)(i,o),(0,s.distance)(i,o-A.height),(0,s.distance)(i-A.width,o),(0,s.distance)(i-A.width,o-A.height));else if(t===B.ELLIPSE){var u=Math.min(Math.abs(o),Math.abs(o-A.height))/Math.min(Math.abs(i),Math.abs(i-A.width)),l=_(A,i,o,!0);c=u*(a=(0,s.distance)(l.x-i,(l.y-o)/u))}break;case"farthest-side":t===B.CIRCLE?a=c=Math.max(Math.abs(i),Math.abs(i-A.width),Math.abs(o),Math.abs(o-A.height)):t===B.ELLIPSE&&(a=Math.max(Math.abs(i),Math.abs(i-A.width)),c=Math.max(Math.abs(o),Math.abs(o-A.height)));break;case"farthest-corner":if(t===B.CIRCLE)a=c=Math.max((0,s.distance)(i,o),(0,s.distance)(i,o-A.height),(0,s.distance)(i-A.width,o),(0,s.distance)(i-A.width,o-A.height));else if(t===B.ELLIPSE){var d=Math.max(Math.abs(o),Math.abs(o-A.height))/Math.max(Math.abs(i),Math.abs(i-A.width)),h=_(A,i,o,!1);c=d*(a=(0,s.distance)(h.x-i,(h.y-o)/d))}break;default:a=r.x||0,c=void 0!==r.y?r.y:a}return{x:a,y:c}},I=t.transformWebkitRadialGradientArgs=function(e){var t="",n="",r="",A="",i=0,o=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,a=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,s=e[i].match(o);s&&i++;var c=e[i].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(t=c[1]||"","contain"===(r=c[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),i++);var u=e[i].match(a);u&&i++;var l=e[i].match(o);l&&i++;var d=e[i].match(a);d&&i++;var h=l||s;h&&h[1]&&(A=h[1]+(/^\d+$/.test(h[1])?"px":""),h[2]&&(A+=" "+h[2]+(/^\d+$/.test(h[2])?"px":"")));var f=d||u;return f&&(n=f[0],f[1]||(n+="px")),!A||t||n||r||(n=A,A=""),A&&(A="at "+A),[[t,r,n,A].filter(function(e){return!!e}).join(" ")].concat(e.slice(i))},x=function(e){return e.map(function(e){return e.match(f)}).map(function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=(n(76),n(184)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),s=n(22),c=n(47);var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t,this.options=n,t.render(n)}return A(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach(function(n){if(n instanceof a.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)}),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,i.calculateContentBox)(e.bounds,e.style.padding,e.style.border),A="number"==typeof n.width&&n.width>0?n.width:r.width,o="number"==typeof n.height&&n.height>0?n.height:r.height;A>0&&o>0&&t.target.clip([(0,i.calculatePaddingBoxPath)(e.curvedBounds)],function(){t.target.drawImage(n,new i.Bounds(0,0,A,o),r)})}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some(function(e){return e.borderStyle!==c.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()}),A=function(){var r=(0,s.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)}),e.style.border.forEach(function(n,r){n.borderStyle===c.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)})};if(n||r){var i=e.parent?e.parent.getClipPaths():[];i.length?this.target.clip(i,A):A()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach(function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)})}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,s.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),A=(0,s.calculateBackgroundSize)(t,n,r),i=(0,s.calculateBackgroundPosition)(t.position,A,r),o=(0,s.calculateBackgroundRepeatPath)(t,i,A,r,e.bounds),a=Math.round(r.left+i.x),c=Math.round(r.top+i.y);this.target.renderRepeat(o,n,A,a,c)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=(0,s.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,s.calculateGradientBackgroundSize)(t,n),A=(0,s.calculateBackgroundPosition)(t.position,r,n),a=new i.Bounds(Math.round(n.left+A.x),Math.round(n.top+A.y),r.width,r.height),c=(0,o.parseGradient)(e,t.source,a);if(c)switch(c.type){case o.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(a,c);break;case o.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(a,c)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape((0,i.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,function(){return t.renderStackContent(e)}):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=d(e),n=r(t,5),A=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=l(e),u=r(c,2),f=u[0],p=u[1];this.renderNodeBackgroundAndBorders(e.container),A.sort(h).forEach(this.renderStack,this),this.renderNodeContent(e.container),p.forEach(this.renderNode,this),a.forEach(this.renderStack,this),s.forEach(this.renderStack,this),f.forEach(this.renderNode,this),i.forEach(this.renderStack,this),o.sort(h).forEach(this.renderStack,this)}},{key:"render",value:function(e){return this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e),this.target.getTarget()}}]),e}();t.default=u;var l=function(e){for(var t=[],n=[],r=e.children.length,A=0;A<r;A++){var i=e.children[A];i.isInlineLevel()?t.push(i):n.push(i)}return[t,n]},d=function(e){for(var t=[],n=[],r=[],A=[],i=[],o=e.contexts.length,a=0;a<o;a++){var s=e.contexts[a];s.container.isPositioned()||s.container.style.opacity<1||s.container.isTransformed()?s.container.style.zIndex.order<0?t.push(s):s.container.style.zIndex.order>0?r.push(s):n.push(s):s.container.isFloating()?A.push(s):i.push(s)}return[t,n,r,A,i]},h=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);t.default=function e(t,n,A){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.CIRCLE,this.x=t,this.y=n,this.radius=A}},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(46);var i=t.UTRIE2_SHIFT_2=5,o=t.UTRIE2_SHIFT_1=11,a=t.UTRIE2_INDEX_SHIFT=2,s=t.UTRIE2_SHIFT_1_2=o-i,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>i,u=t.UTRIE2_DATA_BLOCK_LENGTH=1<<i,l=t.UTRIE2_DATA_MASK=u-1,d=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>i,h=t.UTRIE2_INDEX_2_BMP_LENGTH=c+d,f=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=h,p=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,g=t.UTRIE2_INDEX_1_OFFSET=f+p,B=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>o,w=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<s,y=t.UTRIE2_INDEX_2_MASK=w-1,v=(t.createTrieFromBase64=function(e){var t=(0,A.decode)(e),n=Array.isArray(t)?(0,A.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,A.polyUint16Array)(t):new Uint16Array(t),i=r.slice(12,n[4]/2),o=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new v(n[0],n[1],n[2],n[3],i,o)},t.Trie=function(){function e(t,n,r,A,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=A,this.index=i,this.data=o}return r(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>i])<<a)+(e&l),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>i)])<<a)+(e&l),this.data[t];if(e<this.highStart)return t=g-B+(e>>o),t=this.index[t],t+=e>>i&y,t=((t=this.index[t])<<a)+(e&l),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(188),o=function(e){return e&&e.__esModule?e:{default:e}}(n(187)),a=n(46);var s=t.LETTER_NUMBER_MODIFIER=50,c=10,u=13,l=15,d=17,h=18,f=19,p=20,g=21,B=22,w=24,y=25,v=26,b=27,m=28,E=30,C=32,U=33,T=34,Q=35,_=37,F=38,I=39,x=40,S=42,O=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:c,ZWJ:11,B2:12,BA:u,BB:14,HY:l,CB:16,CL:d,CP:h,EX:f,IN:p,NS:g,OP:B,QU:23,IS:w,NU:y,PO:v,PR:b,SY:m,AI:29,AL:E,CJ:31,EB:C,EM:U,H2:T,H3:Q,HL:36,ID:_,JL:F,JV:I,JT:x,RI:41,SA:S,XX:43},t.BREAK_MANDATORY="!"),M=t.BREAK_NOT_ALLOWED="×",N=t.BREAK_ALLOWED="÷",R=t.UnicodeTrie=(0,i.createTrieFromBase64)(o.default),L=[E,36],H=[1,2,3,5],P=[c,8],D=[b,v],k=H.concat(P),K=[F,I,x,T,Q],z=[l,u],G=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],A=[];return e.forEach(function(e,i){var o=R.get(e);if(o>s?(A.push(!0),o-=s):A.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(16);if(4===o||11===o){if(0===i)return r.push(i),n.push(E);var a=n[i-1];return-1===k.indexOf(a)?(r.push(r[i-1]),n.push(a)):(r.push(i),n.push(E))}return r.push(i),31===o?n.push("strict"===t?g:_):o===S?n.push(E):29===o?n.push(E):43===o?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(_):n.push(E):void n.push(o)}),[r,n,A]},V=function(e,t,n,r){var A=r[n];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var i=n;i<=r.length;){var o=r[++i];if(o===t)return!0;if(o!==c)break}if(A===c)for(var a=n;a>0;){var s=r[--a];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var u=n;u<=r.length;){var l=r[++u];if(l===t)return!0;if(l!==c)break}if(s!==c)break}return!1},j=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==c)return r;n--}return 0},X=function(e,t,n,r,A){if(0===n[r])return M;var i=r-1;if(Array.isArray(A)&&!0===A[i])return M;var o=i-1,a=i+1,s=t[i],E=o>=0?t[o]:0,S=t[a];if(2===s&&3===S)return M;if(-1!==H.indexOf(s))return O;if(-1!==H.indexOf(S))return M;if(-1!==P.indexOf(S))return M;if(8===j(i,t))return N;if(11===R.get(e[i])&&(S===_||S===C||S===U))return M;if(7===s||7===S)return M;if(9===s)return M;if(-1===[c,u,l].indexOf(s)&&9===S)return M;if(-1!==[d,h,f,w,m].indexOf(S))return M;if(j(i,t)===B)return M;if(V(23,B,i,t))return M;if(V([d,h],g,i,t))return M;if(V(12,12,i,t))return M;if(s===c)return N;if(23===s||23===S)return M;if(16===S||16===s)return N;if(-1!==[u,l,g].indexOf(S)||14===s)return M;if(36===E&&-1!==z.indexOf(s))return M;if(s===m&&36===S)return M;if(S===p&&-1!==L.concat(p,f,y,_,C,U).indexOf(s))return M;if(-1!==L.indexOf(S)&&s===y||-1!==L.indexOf(s)&&S===y)return M;if(s===b&&-1!==[_,C,U].indexOf(S)||-1!==[_,C,U].indexOf(s)&&S===v)return M;if(-1!==L.indexOf(s)&&-1!==D.indexOf(S)||-1!==D.indexOf(s)&&-1!==L.indexOf(S))return M;if(-1!==[b,v].indexOf(s)&&(S===y||-1!==[B,l].indexOf(S)&&t[a+1]===y)||-1!==[B,l].indexOf(s)&&S===y||s===y&&-1!==[y,m,w].indexOf(S))return M;if(-1!==[y,m,w,d,h].indexOf(S))for(var k=i;k>=0;){var G=t[k];if(G===y)return M;if(-1===[m,w].indexOf(G))break;k--}if(-1!==[b,v].indexOf(S))for(var X=-1!==[d,h].indexOf(s)?o:i;X>=0;){var W=t[X];if(W===y)return M;if(-1===[m,w].indexOf(W))break;X--}if(F===s&&-1!==[F,I,T,Q].indexOf(S)||-1!==[I,T].indexOf(s)&&-1!==[I,x].indexOf(S)||-1!==[x,Q].indexOf(s)&&S===x)return M;if(-1!==K.indexOf(s)&&-1!==[p,v].indexOf(S)||-1!==K.indexOf(S)&&s===b)return M;if(-1!==L.indexOf(s)&&-1!==L.indexOf(S))return M;if(s===w&&-1!==L.indexOf(S))return M;if(-1!==L.concat(y).indexOf(s)&&S===B||-1!==L.concat(y).indexOf(S)&&s===h)return M;if(41===s&&41===S){for(var Y=n[i],J=1;Y>0&&41===t[--Y];)J++;if(J%2!=0)return M}return s===C&&S===U?M:N},W=(t.lineBreakAtIndex=function(e,t){if(0===t)return M;if(t>=e.length)return O;var n=G(e),r=A(n,2),i=r[0],o=r[1];return X(e,o,i,t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=G(e,t.lineBreak),r=A(n,3),i=r[0],o=r[1],a=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(o=o.map(function(e){return-1!==[y,E,S].indexOf(e)?_:e})),[i,o,"keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):null]}),Y=(t.inlineBreakOpportunities=function(e,t){var n=(0,a.toCodePoints)(e),r=M,i=W(n,t),o=A(i,3),s=o[0],c=o[1],u=o[2];return n.forEach(function(e,t){r+=(0,a.fromCodePoint)(e)+(t>=n.length-1?O:X(n,c,s,t+1,u))}),r},function(){function e(t,n,r,A){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._codePoints=t,this.required=n===O,this.start=r,this.end=A}return r(e,[{key:"slice",value:function(){return a.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,a.toCodePoints)(e),r=W(n,t),i=A(r,3),o=i[0],s=i[1],c=i[2],u=n.length,l=0,d=0;return{next:function(){if(d>=u)return{done:!0};for(var e=M;d<u&&(e=X(n,s,o,++d,c))===M;);if(e!==M||d===u){var t=new Y(n,e,l,d);return l=d,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var A=n(189);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return A.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14));var A=function(e){return parseFloat(e.trim())},i=/(matrix|matrix3d)\((.+)\)/,o=(t.parseTransform=function(e){var t=a(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:o(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!=typeof e){var t=new r.default("0");return[t,t]}var n=e.split(" ").map(r.default.create);return[n[0],n[1]]}),a=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(i);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(A);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(A);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var A=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,i=[],o=[],a=0,s=null,c=function(){t.length&&(n?i.push(parseFloat(t)):s=new r.default(t)),n=!1,t=""},u=function(){i.length&&null!==s&&o.push({color:s,offsetX:i[0]||0,offsetY:i[1]||0,blur:i[2]||0}),i.splice(0,i.length),s=null},l=0;l<e.length;l++){var d=e[l];switch(d){case"(":t+=d,a++;break;case")":t+=d,a--;break;case",":0===a?(c(),u()):t+=d;break;case" ":0===a?c():t+=d;break;default:0===t.length&&A.test(d)&&(n=!0),t+=d}}return c(),u(),0===o.length?null:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14));var A=["top","right","bottom","left"];t.parseMargin=function(e){return A.map(function(t){return new r.default(e.getPropertyValue("margin-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},A=function(e,t){return e|function(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(t)};t.parseDisplay=function(e){return e.split(" ").reduce(A,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(e){return e&&e.__esModule?e:{default:e}}(n(14));var i=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(e){return i.map(function(t){var n=e.getPropertyValue("border-"+t+"-radius").split(" ").map(A.default.create),i=r(n,2),o=i[0],a=i[1];return void 0===a?[o,o]:[o,a]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(36),i=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var o=function(e,t,n){return new i.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},a=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=A.PATH.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return r(e,[{key:"subdivide",value:function(t,n){var r=o(this.start,this.startControl,t),A=o(this.startControl,this.endControl,t),i=o(this.endControl,this.end,t),a=o(r,A,t),s=o(A,i,t),c=o(a,s,t);return n?new e(this.start,r,a,c):new e(c,s,i,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();(function(e){e&&e.__esModule})(n(18)),n(82);var A=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}return r(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}();t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var r=c(n(206)),A=c(n(18)),i=c(n(33)),o=n(80),a=n(45),s=n(34);function c(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function(e,t,n){var i=0,o=new A.default(e,null,t,i++),a=new r.default(o,null,!0);return l(e,o,a,t,i),a};var u=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],l=function e(t,n,c,l,f){for(var p,g=t.firstChild;g;g=p){p=g.nextSibling;var B=g.ownerDocument.defaultView;if(g instanceof B.Text||g instanceof Text||B.parent&&g instanceof B.parent.Text)g.data.trim().length>0&&n.childNodes.push(i.default.fromTextNode(g,n));else if(g instanceof B.HTMLElement||g instanceof HTMLElement||B.parent&&g instanceof B.parent.HTMLElement){if(-1===u.indexOf(g.nodeName)){var w=new A.default(g,n,l,f++);if(w.isVisible()){"INPUT"===g.tagName?(0,o.inlineInputElement)(g,w):"TEXTAREA"===g.tagName?(0,o.inlineTextAreaElement)(g,w):"SELECT"===g.tagName?(0,o.inlineSelectElement)(g,w):w.style.listStyle&&w.style.listStyle.listStyleType!==s.LIST_STYLE_TYPE.NONE&&(0,a.inlineListItemElement)(g,w,l);var y="TEXTAREA"!==g.tagName,v=d(w,g);if(v||h(w)){var b=v||w.isPositioned()?c.getRealParentStackingContext():c,m=new r.default(w,b,v);b.contexts.push(m),y&&e(g,w,m,l,f)}else c.children.push(w),y&&e(g,w,c,l,f)}}}else if(g instanceof B.SVGSVGElement||g instanceof SVGSVGElement||B.parent&&g instanceof B.parent.SVGSVGElement){var E=new A.default(g,n,l,f++),C=d(E,g);if(C||h(E)){var U=C||E.isPositioned()?c.getRealParentStackingContext():c,T=new r.default(E,U,C);U.contexts.push(T)}else c.children.push(E)}}},d=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||f(e,t)},h=function(e){return e.isPositioned()||e.isFloating()},f=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof A.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,A=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){A=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(A)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=(h(n(85)),n(207)),i=h(n(185)),o=h(n(78)),a=h(n(32)),s=n(11),c=n(182),u=n(76),l=n(12),d=h(l);function h(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function e(t,n,h){var f=t.ownerDocument,p=new s.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),g=f.documentElement?new d.default(getComputedStyle(f.documentElement).backgroundColor):l.TRANSPARENT,B=f.body?new d.default(getComputedStyle(f.body).backgroundColor):l.TRANSPARENT,w=t===f.documentElement?g.isTransparent()?B.isTransparent()?n.backgroundColor?new d.default(n.backgroundColor):null:B:g:n.backgroundColor?new d.default(n.backgroundColor):null;return(n.foreignObjectRendering?a.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(a){return a?function(e){return e.inlineFonts(f).then(function(){return e.resourceLoader.ready()}).then(function(){return new o.default(e.documentElement).render({backgroundColor:w,logger:h,scale:n.scale,x:n.x,y:n.y,width:n.width,height:n.height,windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})})}(new c.DocumentCloner(t,n,h,!0,e)):(0,c.cloneWindow)(f,p,t,n,h,e).then(function(e){var t=r(e,3),o=t[0],a=t[1],s=t[2];var c=(0,A.NodeParser)(a,s,h),d=a.ownerDocument;return w===c.container.style.background.backgroundColor&&(c.container.style.background.backgroundColor=l.TRANSPARENT),s.ready().then(function(e){var t=new u.FontMetrics(d);var r={backgroundColor:w,fontMetrics:t,imageStore:e,logger:h,scale:n.scale,x:n.x,y:n.y,width:n.width,height:n.height};if(Array.isArray(n.target))return Promise.all(n.target.map(function(e){return new i.default(e,r).render(c)}));var A=new i.default(n.target,r).render(c);return!0===n.removeContainer&&o.parentNode&&o.parentNode.removeChild(o),A})})})}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=c(n(86)),o=c(n(85)),a=n(208),s=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){"object"===("undefined"==typeof console?"undefined":A(console))&&"function"==typeof console.log&&console.log("html2canvas $npm_package_version");var n=t||{},c=new o.default("boolean"!=typeof n.logging||n.logging);var u=e.ownerDocument;if(!u)return Promise.reject("Provided element is not within a Document");var l=u.defaultView,d=l.pageXOffset,h=l.pageYOffset,f="HTML"===e.tagName||"BODY"===e.tagName?(0,s.parseDocumentSize)(u):(0,s.parseBounds)(e,d,h),p=f.width,g=f.height,B=f.left,w=f.top,y={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:l.devicePixelRatio||1,target:new i.default(n.canvas),useCORS:!1,x:B,y:w,width:Math.ceil(p),height:Math.ceil(g),windowWidth:l.innerWidth,windowHeight:l.innerHeight,scrollX:l.pageXOffset,scrollY:l.pageYOffset};return(0,a.renderElement)(e,r({},y,n),c)};u.CanvasRenderer=i.default,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),A=Math.ceil,i=Math.max,o=Math.log2,a=Math.pow,s=Math.sqrt,c=[-1,-1];function u(e,t,n){void 0===n&&(n=!1);for(var A,o,a,c,u=n?-1:1,l=[],d=-1,h=0,f=e.length;h<f;++h){var p=e[h];l[h]=[];for(var g=0,B=p.length;g<B;++g)(A=p[g])===t?c=256:(o=[h,g],a=r.subtract2(A,o),c=s(r.dot2(a,a))),l[h][g]=c,d=i(c,d)}for(h=0,f=e.length;h<f;++h)for(g=0,B=(p=e[h]).length;g<B;++g)c=l[h][g],l[h][g]=c/d*255*u;return l}function l(e,t,n,r){for(var A,i=u(e,n,!0),o=u(t,n,!1),a=i.length,s=i,c=0,l=i.length;c<l;++c)for(var d=i[c],h=o[c],f=0,p=d.length;f<p;++f){var g=d[f],B=h[f];d[f]=g+B}for(c=0,l=s.length;c<l;++c)for(f=0,p=(d=s[c]).length;f<p;++f){A=A=d[f];var w=f*(4*a)+4*c;r[w]=A,r[w+1]=A,r[w+2]=A,r[w+3]=255}}function d(e,t){for(var n,A,i,o,s,u,l,d,h,f=e.length,p=e[0].length,g=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=[];return t}(e),B=e,w=0;w<t;++w){var y=g;g=B,B=y;var v=a(2,t-w-1);for(l=0;l<f;++l)for(d=0;d<p;++d){for(n=[l,d],i=[(g[l-v]||[])[d-v]||c,(g[l]||[])[d-v]||c,(g[l+v]||[])[d-v]||c,(g[l-v]||[])[d]||c,(g[l]||[])[d]||c,(g[l+v]||[])[d]||c,(g[l-v]||[])[d+v]||c,(g[l]||[])[d+v]||c,(g[l+v]||[])[d+v]||c],s=0,o=Number.MAX_VALUE,h=0;h<9;++h){var b=i[h];b!==c&&(A=r.subtract2(b,n),(u=r.dot2(A,A))<o&&(o=u,s=h))}B[l][d]=i[s]}}return B}t.convertToSDF=function(e,t){void 0===t&&(t=l);var n=e.width,r=e.height,a=e.getContext("2d");if(a){var s=a.getImageData(0,0,n,r).data,u=i(n,r),h=A(o(u)),f=function(e,t){for(var n=e.width,r=e.height,A=[],i=[],o=0;o<n;++o){A[o]=[],i[o]=[];for(var a=0;a<r;++a)t[a*(4*n)+4*o+3]?(A[o][a]=[o,a],i[o][a]=c):(A[o][a]=c,i[o][a]=[o,a])}return{seed:A,inverse:i}}(e,s),p=d(f.seed,h),g=d(f.inverse,h),B=new ImageData(n,r);t(p,g,c,B.data),a.putImageData(B,0,0)}},t.makeFontSDF=function(e){}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(210)),r(n(89)),r(n(88)),r(n(87)),r(n(179)),r(n(72)),r(n(74))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),o=n(3)("performance"),a=function(){function e(){this.managers=new Map}return e.prototype.dequeueRequests=function(){return r(this,void 0,void 0,function(){var e,t,n,r,i;return A(this,function(A){switch(A.label){case 0:e=!1,t=Array.from(this.managers.values()),n=0,r=t.length,A.label=1;case 1:return n<r?[4,t[n].dequeueRequests()]:[3,4];case 2:i=A.sent(),e=e||i,A.label=3;case 3:return++n,[3,1];case 4:return[2,e]}})})},e.prototype.destroy=function(){this.managers.forEach(function(e){return e.destroy()})},e.prototype.getIOExpansion=function(){var e=[];return this.managers.forEach(function(t){e=e.concat(t.getIOExpansion())}),e},e.prototype.getManager=function(e){var t=this.managers.get(e);return t||(console.warn("A manager was requested that does not exist for type "+e),i.INVALID_RESOURCE_MANAGER)},e.prototype.initResource=function(e){return r(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return(t=this.managers.get(e.type))?[4,t.initResource(e)]:(console.warn("A Resource is trying to be created but has no manager to facilitate the operation: "+e.type),[2]);case 1:return[2,n.sent()]}})})},e.prototype.request=function(e,t,n,r){var A=this.managers.get(n.type);return A?A.request(e,t,n,r):(console.warn("A Layer is requesting a resource for which there is no manager set. Please make sure a Resource Manager is set for resource of type: "+n.type),[-1,-1,-1,-1])},e.prototype.setAttributeContext=function(e,t){(this.managers.get(t)||i.INVALID_RESOURCE_MANAGER).setAttributeContext(e)},e.prototype.setManager=function(e,t){this.managers.get(e)&&o("A manager was assigned to a resource type: "+e+" that overrides another manager already set to that type."),this.managers.set(e,t),t.webGLRenderer=this.webGLRenderer},e.prototype.setWebGLRenderer=function(e){this.webGLRenderer=e,this.managers.forEach(function(t){return t.webGLRenderer=e})},e}();t.ResourceManager=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(24),a=n(6),s=n(42),c=n(0),u=n(164),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childProvider=new i.InstanceProvider,t.imageToResource=new Map,t.sourceToRequest=new Map,t}return r(t,e),t.prototype.childLayers=function(){return[s.createLayer(u.ImageRenderLayer,A({},this.props,{key:this.props.key+".child"}))]},t.prototype.draw=function(){var e=this.resolveChanges(!0);if(!(e.length<=0)){this.propertyIds||(this.propertyIds=this.getInstanceObservableIds(e[0][0],["source"]));for(var t=this.propertyIds.source,n=0,r=e.length;n<r;++n){var A=e[n],i=A[0],a=A[1],s=A[2];switch(a){case c.InstanceDiffType.CHANGE:if(void 0!==s[t]){var u=this.imageToResource.get(i);if(i.source===u)break;if(this.imageToResource.set(i,i.source),this.resource.request(this,i,o.atlasRequest({disposeResource:!0,source:u})),i.source)(!(l=this.sourceToRequest.get(i.source))||l.texture&&!l.texture.isValid)&&(l=o.atlasRequest({source:i.source,rasterizationScale:this.props.rasterizationScale}),this.sourceToRequest.set(i.source,l)),i.request=l}break;case c.InstanceDiffType.INSERT:var l;if(i.source)(!(l=this.sourceToRequest.get(i.source))||l.texture&&!l.texture.isValid)&&(l=o.atlasRequest({source:i.source,rasterizationScale:this.props.rasterizationScale}),this.sourceToRequest.set(i.source,l)),i.request=l;break;case c.InstanceDiffType.REMOVE:this.resource.request(this,i,o.atlasRequest({disposeResource:!0,source:i.source}))}}}},t.prototype.initShader=function(){return null},t.defaultProps={atlas:"default",key:"",data:new i.InstanceProvider,scene:"default"},t}(a.Layer);t.ImageLayer=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(213)),r(n(161))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(27),a=function(e){function t(t){var n=e.call(this,t)||this;return n.colorStart=[1,1,1,1],n.colorEnd=[1,1,1,1],n.control=[[0,0],[0,0]],n.depth=0,n.end=[0,0],n.start=[0,0],n.widthStart=1,n.widthEnd=1,n.colorStart=t.colorStart||n.colorStart,n.colorEnd=t.colorEnd||n.colorEnd,n.control=t.control||n.control,n.depth=t.depth||n.depth,n.end=t.end||n.end,n.widthStart=t.widthStart||n.widthStart,n.widthEnd=t.widthEnd||n.widthEnd,n.start=t.start||n.start,n}return r(t,e),Object.defineProperty(t.prototype,"length",{get:function(){var e=[this.end[0]-this.start[0],this.end[1]-this.start[1]];return Math.sqrt(e[0]*e[0]+e[1]*e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"midpoint",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"perpendicular",{get:function(){var e=this.length;return[(this.end[1]-this.start[1])/e,-(this.end[0]-this.start[0])/e]},enumerable:!0,configurable:!0}),t.prototype.setEdgeWidth=function(e){e&&(this.widthEnd=e,this.widthStart=e)},t.prototype.setColor=function(e){this.colorStart=e,this.colorEnd=e},A([o.observable],t.prototype,"colorStart",void 0),A([o.observable],t.prototype,"colorEnd",void 0),A([o.observable],t.prototype,"control",void 0),A([o.observable],t.prototype,"depth",void 0),A([o.observable],t.prototype,"end",void 0),A([o.observable],t.prototype,"start",void 0),A([o.observable],t.prototype,"widthStart",void 0),A([o.observable],t.prototype,"widthEnd",void 0),t}(i.Instance);t.EdgeInstance=a},function(e,t){e.exports="precision highp float;\n\nvarying vec4 vertexColor;\n${extendHeader}\n\nvoid main() {\n  setColor(vertexColor);\n  ${extend}\n}\n"},function(e,t){e.exports="/**\n  This vertex shader calculates edges based in world space to make an edge based on\n  bezier curves with 0, 1, and 2 control points.\n**/\nprecision highp float;\n\n${import: projection}\n\nvarying vec4 vertexColor;\n\n// Interpolation type injection\n${interpolation}\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Destructure threejs's bug with the position requirement\n  float normal = vertex.x;\n  float interpolationTime = vertex.y;\n  float interpolationIncrement = 1.0 / vertex.z;\n\n  // Convert our world points to screen space\n  vec4 startClip = clipSpace(vec3(start, depth));\n  vec4 endClip = clipSpace(vec3(end, depth));\n  vec2 startScreen = (startClip.xy + vec2(1.0, 1.0)) * vec2(0.5, 0.5) * viewSize;\n  vec2 endScreen = (endClip.xy + vec2(1.0, 1.0)) * vec2(0.5, 0.5) * viewSize;\n  // Controls for this mode are screen space deltas from the end points\n  vec2 control1 = startScreen + vec2(control.x, -control.y) * scaleFactor;\n  vec2 control2 = endScreen + vec2(control.z, -control.w) * scaleFactor;\n\n  // Get the position of the current vertex\n  vec2 currentPosition = interpolation(interpolationTime, startScreen, endScreen, control1, control2);\n  // Calculate the next and previous segment's location on the line\n  vec2 prePosition = interpolation(interpolationTime - interpolationIncrement, startScreen, endScreen, control1, control2);\n  vec2 nextPosition = interpolation(interpolationTime + interpolationIncrement, startScreen, endScreen, control1, control2);\n\n  vec2 preLine = prePosition - currentPosition;\n  vec2 nextLine = nextPosition - currentPosition;\n\n  // Get a spliced nromal at the joining of two segments to make a crisper curve\n  vec2 currentNormal = mix(\n    // Pick this value if we're at the beginning of the line\n    normalize(vec2(preLine.y, -preLine.x)),\n    mix(\n      // Pick this value when we're between the ends\n      normalize(vec2(preLine.y, -preLine.x) + vec2(-nextLine.y, nextLine.x)),\n      // Pick this value if we're at the end of the line\n      normalize(vec2(-nextLine.y, nextLine.x)),\n      float(vertex.x >= 1.0)\n    ),\n    float(vertex.x > 0.0)\n  );\n\n  // Get the thickness based on the side we're on\n  float lineThickness = mix(widthStart, widthEnd, interpolationTime) / 2.0;\n  // Start on the calculated line and push out by the normal's value\n  vec2 vertexPos = currentPosition + currentNormal * (-normal * lineThickness * scaleFactor);\n  // Get the color based on where we are on the line\n  vertexColor = mix(colorStart, colorEnd, interpolationTime);\n\n  gl_Position = vec4((vertexPos / viewSize) * vec2(2.0, 2.0) - vec2(1.0, 1.0), startClip.zw);\n  gl_PointSize = 5.0;\n\n  ${extend}\n}\n"},function(e,t){e.exports="${import: projection}\n\nprecision highp float;\n\n/**\n  This vertex shader calculates edges whose curve and width is in screen space where the curve is\n  bezier curves with 0, 1, and 2 control points.\n**/\nvarying vec4 vertexColor;\n\n// Interpolation type injection\n${interpolation}\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Destructure threejs's bug with the position requirement\n  float normal = vertex.x;\n  float interpolationTime = vertex.y;\n  float interpolationIncrement = 1.0 / vertex.z;\n  // Get the position of the current vertex\n  vec2 currentPosition = interpolation(interpolationTime, start, end, control.xy, control.zw);\n  // Calculate the next and previous segment's location on the line\n  vec2 prePosition = interpolation(interpolationTime - interpolationIncrement, start, end, control.xy, control.zw);\n  vec2 nextPosition = interpolation(interpolationTime + interpolationIncrement, start, end, control.xy, control.zw);\n\n  vec2 preLine = prePosition - currentPosition;\n  vec2 nextLine = nextPosition - currentPosition;\n\n  // Get a spliced nromal at the joining of two segments to make a crisper curve\n  vec2 currentNormal = mix(\n    // Pick this value if we're at the beginning of the line\n    normalize(vec2(preLine.y, -preLine.x)),\n    mix(\n      // Pick this value when we're between the ends\n      normalize(vec2(preLine.y, -preLine.x) + vec2(-nextLine.y, nextLine.x)),\n      // Pick this value if we're at the end of the line\n      normalize(vec2(-nextLine.y, nextLine.x)),\n      float(vertex.x >= 1.0)\n    ),\n    float(vertex.x > 0.0)\n  );\n\n  // Get the thickness based on the side we're on\n  float lineThickness = mix(widthStart, widthEnd, interpolationTime) / 2.0;\n  // Start on the calculated line and push out by the normal's value\n  vec2 vertexPos = currentPosition + currentNormal * (normal * lineThickness);\n  // Get the color based on where we are on the line\n  vertexColor = mix(colorStart, colorEnd, interpolationTime);\n\n  gl_Position = clipSpace(vec3(vertexPos, depth));\n  gl_PointSize = 5.0;\n\n  ${extend}\n}\n"},function(e,t){e.exports="/**\n * Makes a linear interpolation between two points\n *\n * @param {vec2} s The start point\n * @param {vec2} e The end point\n * @param {vec2} c The bezier control point\n * @param {float} t The interpolation value [0, 1]\n *\n * @returns {vec2} A point interpolated between the two provided points\n */\nvec2 interpolation(float t, vec2 p1, vec2 p2, vec2 c1, vec2 c2) {\n  float t1 = 1.0 - t;\n  return pow(t1, 3.0) * p1 + 3.0 * t * pow(t1, 2.0) * c1 + 3.0 * pow(t, 2.0) * t1 * c2 + pow(t, 3.0) * p2;\n}\n"},function(e,t){e.exports="/**\n * Makes a linear interpolation between two points\n *\n * @param {vec2} s The start point\n * @param {vec2} e The end point\n * @param {vec2} c The bezier control point\n * @param {float} t The interpolation value [0, 1]\n *\n * @returns {vec2} A point interpolated between the two provided points\n */\nvec2 interpolation(float t, vec2 p1, vec2 p2, vec2 c1, vec2 c2) {\n  return (1.0 - t) * (1.0 - t) * p1 + 2.0 * t * (1.0 - t) * c1 + t * t * p2;\n}\n"},function(e,t){e.exports="/**\n * Makes a linear interpolation between two points\n *\n * @param {vec2} s The start point\n * @param {vec2} e The end point\n * @param {vec2} c The bezier control point\n * @param {float} t The interpolation value [0, 1]\n *\n * @returns {vec2} A point interpolated between the two provided points\n */\nvec2 interpolation(float t, vec2 p1, vec2 p2, vec2 c1, vec2 c2) {\n  return p1 + (p2 - p1) * t;\n}\n"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var A=n(5),i=n(4),o=n(49),a=Math.pow;var s=((r={})[o.EdgeType.LINE]=function(e,t,n,r,A){return i.add2(i.scale2(i.subtract2(n,t),e),t)},r[o.EdgeType.BEZIER]=function(e,t,n,r,A){return[(1-e)*(1-e)*t[0]+2*e*(1-e)*r[0]+e*e*n[0],(1-e)*(1-e)*t[1]+2*e*(1-e)*r[1]+e*e*n[1]]},r[o.EdgeType.BEZIER2]=function(e,t,n,r,A){var i=1-e;return[a(i,3)*t[0]+3*e*a(i,2)*r[0]+3*a(e,2)*i*A[0]+a(e,3)*n[0],a(i,3)*t[1]+3*e*a(i,2)*r[1]+3*a(e,2)*i*A[1]+a(e,3)*n[1]]},r);var c=50;t.edgePicking=function(e){var t=e.broadphase,n=e.minPickDistance,r=void 0===n?0:n,a=e.scaleType,u=e.type,l=s[e.type],d=function(n){var i=n.widthStart/2+r,a=n.widthEnd/2+r,s=new A.Bounds({height:n.widthStart,width:n.widthStart,x:n.start[0]-i,y:n.start[1]-i});return s.encapsulate(new A.Bounds({height:n.widthEnd,width:n.widthEnd,x:n.end[0]-a,y:n.end[1]-a})),e.type===o.EdgeType.BEZIER?s.encapsulate(n.control[0]):e.type===o.EdgeType.BEZIER2&&(s.encapsulate(n.control[0]),s.encapsulate(n.control[1])),t===o.EdgeBroadphase.PASS_X&&(s.x=Number.MIN_SAFE_INTEGER/2,s.width=Number.MAX_SAFE_INTEGER),t===o.EdgeBroadphase.PASS_Y&&(s.y=Number.MIN_SAFE_INTEGER/2,s.height=Number.MAX_SAFE_INTEGER),s};return a===o.EdgeScaleType.SCREEN_CURVE?{boundsAccessor:d,hitTest:function(e,t,n){var A=t=n.worldToScreen(t),a=0,s=Number.MAX_VALUE,d=0,h=Number.MAX_VALUE,f=n.worldToScreen(e.start),p=n.worldToScreen(e.end),g=[0,0],B=[0,0];u===o.EdgeType.BEZIER?g=i.add2(f,e.control[0]):u===o.EdgeType.BEZIER2&&(g=i.add2(f,e.control[0]),B=i.add2(p,e.control[1]));var w=i.copy2(f),y=i.copy2(p);g=e.control.length>0?g:[0,0],B=e.control.length>1?B:[0,0];for(var v=0;v<c;++v){var b=l(v/c,w,y,g,B),m=i.length2(i.subtract2(A,b));m<s?(d=a,h=s,a=v,s=m):m<h&&(d=v,s=m)}var E=a/c,C=(e.widthEnd-e.widthStart)*E+e.widthStart;if(a===d)return!1;var U=l(a/c,w,y,g,B),T=l(d/c,w,y,g,B);return s=function(e,t,n){var r=i.subtract2(e,n),A=i.subtract2(t,e),o=[A[1],-A[0]];return Math.abs(i.dot2(r,o))/i.length2(A)}(U,T,A),!(i.dot2(i.subtract2(T,U),i.subtract2(A,U))<0)&&s<C/2+r}}:{boundsAccessor:d,hitTest:function(e,t,n){for(var r=t,A=0,o=Number.MAX_VALUE,a=0;a<c;++a){var s=l(a/c,e.start,e.end,e.control.length>0?e.control[0]:[0,0],e.control.length>1?e.control[1]:[0,0]),u=i.length2(i.subtract2(r,s));u<o&&(A=a,o=u)}var d=A/c;return o<((e.widthEnd-e.widthStart)*d+e.widthStart)/2}}}},function(e,t,n){"use strict";var r,A=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(6),a=n(0),s=n(1),c=n(222),u=n(49);var l=((r={})[u.EdgeType.LINE]=n(221),r[u.EdgeType.BEZIER]=n(220),r[u.EdgeType.BEZIER2]=n(219),r),d=n(218),h=n(217),f=n(216),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.getInstancePickingMethods=function(){return c.edgePicking(this.props)},t.prototype.initShader=function(){for(var e,n,r=this,A=this.props,i=A.animate,o=void 0===i?{}:i,c=A.scaleFactor,p=void 0===c?function(){return 1}:c,g=A.type,B=A.scaleType,w=void 0===B?u.EdgeScaleType.NONE:B,y=o.end,v=o.start,b=o.colorStart,m=o.colorEnd,E=o.control,C=g===u.EdgeType.LINE?2:50,U=((e={0:1})[2*C+2]=-1,e),T=((n={0:0})[2*C+2]=1,n),Q=1,_=0;_<2*C;++_)U[_+1]=Q,T[_+1]=Math.floor(_/2)/(C-1),Q*=-1;var F={interpolation:l[g]},I=s.shaderTemplate({options:F,required:{name:"Edge Layer",values:["interpolation"]},shader:w===u.EdgeScaleType.NONE?d:h,onToken:function(e,t){return e in F?t:"${"+e+"}"}});return{fs:f,instanceAttributes:[{easing:v,name:t.attributeNames.start,size:a.InstanceAttributeSize.TWO,update:function(e){return e.start}},{easing:y,name:t.attributeNames.end,size:a.InstanceAttributeSize.TWO,update:function(e){return e.end}},{name:t.attributeNames.widthStart,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.widthStart]}},{name:t.attributeNames.widthEnd,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.widthEnd]}},{name:t.attributeNames.depth,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{easing:b,name:t.attributeNames.colorStart,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.colorStart}},{easing:m,name:t.attributeNames.colorEnd,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.colorEnd}},g===u.EdgeType.LINE?{easing:E,name:t.attributeNames.control,size:a.InstanceAttributeSize.FOUR,update:function(e){return[0,0,0,0]}}:null,g===u.EdgeType.BEZIER?{easing:E,name:t.attributeNames.control,size:a.InstanceAttributeSize.FOUR,update:function(e){return[e.control[0][0],e.control[0][1],0,0]}}:null,g===u.EdgeType.BEZIER2?{easing:E,name:t.attributeNames.control,size:a.InstanceAttributeSize.FOUR,update:function(e){return function(e){return[e[0][0],e[0][1],e[1][0],e[1][1]]}(e.control)}}:null],uniforms:[{name:"scaleFactor",size:a.UniformSize.ONE,update:function(e){return[p()]}},{name:"layerOpacity",size:a.UniformSize.ONE,update:function(e){return[void 0===r.props.opacity?1:r.props.opacity]}}],vertexAttributes:[{name:"vertex",size:a.VertexAttributeSize.THREE,update:function(e){return[U[e],T[e],2*C]}}],vertexCount:2*C+2,vs:I.shader}},t.prototype.getMaterialOptions=function(){return s.CommonMaterialOptions.transparentShapeBlending},t.defaultProps={broadphase:u.EdgeBroadphase.ALL,data:new i.InstanceProvider,key:"none",scaleType:u.EdgeScaleType.NONE,scene:"default",type:u.EdgeType.LINE},t.attributeNames={start:"start",end:"end",widthStart:"widthStart",widthEnd:"widthEnd",depth:"depth",colorStart:"colorStart",colorEnd:"colorEnd",control:"control"},t}(o.Layer);t.EdgeLayer=p},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(223)),r(n(215)),r(n(49))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.color=[1,1,1,1],n.depth=0,n.radius=0,n.center=[0,0],n.color=t.color||n.color,n.radius=t.radius||n.radius,n.center=t.center||n.center,n.depth=t.depth||n.depth,n}return r(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return 2*this.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return 2*this.radius},enumerable:!0,configurable:!0}),A([i.observable],t.prototype,"color",void 0),A([i.observable],t.prototype,"depth",void 0),A([i.observable],t.prototype,"radius",void 0),A([i.observable],t.prototype,"center",void 0),t}(n(7).Instance);t.CircleInstance=o},function(e,t){e.exports="precision highp float;\n\n${import: projection}\n\nvarying vec4 vertexColor;\nvarying float edgeSharpness;\nvarying float edgeSharpnessBase;\nvarying vec2 pointCoord;\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  vertexColor = color;\n  float size = radius * scaleFactor;\n  edgeSharpness = mix(0.8, 0.0, min((size * 6.0 * pixelRatio) / (45.0 * pixelRatio), 1.0));\n  edgeSharpnessBase = mix(0.1, 0.0, min((size * 6.0 * pixelRatio) / (45.0 * pixelRatio), 1.0));\n  pointCoord = (normals.xy + vec2(1.0, 1.0)) / 2.0;\n\n  // Center within clip space\n  vec4 clipCenter = clipSpace(vec3(center, depth));\n  // Center in screen space\n  vec2 screenCenter = (clipCenter.xy + vec2(1.0, 1.0)) * vec2(0.5, 0.5) * viewSize;\n  // Position in screen space\n  vec2 vertex = (normals.xy * size) + screenCenter;\n  // Position back to clip space\n  gl_Position = vec4((vertex / viewSize) * vec2(2.0, 2.0) - vec2(1.0, 1.0), clipCenter.zw);\n\n  ${extend}\n}\n"},function(e,t){e.exports="precision highp float;\n\nvarying vec4 vertexColor;\nvarying float edgeSharpness;\nvarying float edgeSharpnessBase;\nvarying vec2 pointCoord;\n\nfloat circle(vec2 coord, float radius){\n  vec2 dist = coord - vec2(0.5);\n\n  return 1.0 - smoothstep(\n    radius - (radius * edgeSharpness),\n    radius + (radius * edgeSharpnessBase),\n    dot(dist, dist) * 4.0\n  );\n}\n\n${extendHeader}\n\nvoid main() {\n  float step_factor = circle(pointCoord.xy, 1.0);\n\n  setColor(mix(\n    vec4(0.0, 0.0, 0.0, 0.0),\n    vertexColor,\n    step_factor\n  ));\n\n  if (gl_FragColor.a <= 0.0) discard;\n\n  ${extend}\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function A(e,t){var n=r.subtract2(e,t),A=n[0],i=n[1];return A*A+i*i}var i=function(){function e(){}return e.add=function(e,t,n){var A=r.add2(e,t);return n?(n[0]=A[0],n[1]=A[1],n):A},e.getClosest=function(e,t){var n,r=Number.MAX_VALUE,i=e;return t.forEach(function(t){(n=A(t,e))<r&&(r=n,i=t)}),i},e.getClosestIndex=function(e,t){var n,r=Number.MAX_VALUE,i=0;return t.forEach(function(t,o){(n=A(t,e))<r&&(r=n,i=o)}),i},e.subtract=function(e,t,n){void 0===n&&(n=!1);var A=r.subtract2(t,e),i=A[0],o=A[1];if(n){var a=Math.sqrt(i*i+o*o);i/=a,o/=a}return[i,o]},e.getDistance=function(e,t,n){return void 0===n&&(n=!1),n?A(e,t):Math.sqrt(A(e,t))},e.getMidpoint=function(e,t){var n=r.scale2(r.subtract2(t,e),.5);return r.add2(n,e)},e.make=function(e,t){return{x:e,y:t}},e.scale=function(e,t,n){return n?(n[0]=e[0]*t,n[1]=e[1]*t,n):[e[0]*t,e[1]*t]},e.zero=function(){return[0,0]},e}();t.Point=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(2),i=n(15),o=n(6),a=n(0),s=n(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInstancePickingMethods=function(){var e=this;return{boundsAccessor:function(e){return new i.Bounds({height:2*e.radius,width:2*e.radius,x:e.center[0]-e.radius,y:e.center[1]-e.radius})},hitTest:function(t,n,r){var A=r.worldToScreen(t.center),i=r.worldToScreen(n),o=t.radius*(e.props.scaleFactor||function(){return 1})(),a=s.subtract2(i,A);return a[0]*a[0]+a[1]*a[1]<o*o}}},t.prototype.initShader=function(){var e=this,r=this.props.scaleFactor||function(){return 1},A=this.props.animate||{},i=A.center,o=A.radius,s=A.color,c={0:1,1:1,2:-1,3:1,4:-1,5:-1},u={0:-1,1:-1,2:-1,3:1,4:1,5:1};return{fs:n(227),instanceAttributes:[{easing:i,name:t.attributeNames.center,size:a.InstanceAttributeSize.TWO,update:function(e){return e.center}},{easing:o,name:t.attributeNames.radius,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.radius]}},{name:t.attributeNames.depth,size:a.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{easing:s,name:t.attributeNames.color,size:a.InstanceAttributeSize.FOUR,update:function(e){return e.color}}],uniforms:[{name:"scaleFactor",size:a.UniformSize.ONE,update:function(e){return[r()]}},{name:"layerOpacity",size:a.UniformSize.ONE,update:function(t){return[void 0===e.props.opacity?1:e.props.opacity]}}],vertexAttributes:[{name:"normals",size:a.VertexAttributeSize.TWO,update:function(e){return[c[e],u[e]]}}],vertexCount:6,vs:n(226)}},t.prototype.getMaterialOptions=function(){return s.CommonMaterialOptions.transparentShapeBlending},t.defaultProps={data:new A.InstanceProvider,fadeOutOversized:-1,key:"",scaleFactor:function(){return 1},scene:"default"},t.attributeNames={center:"center",color:"color",depth:"depth",radius:"radius"},t}(o.Layer);t.CircleLayer=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(229)),r(n(225))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__decorate||function(e,t,n,r){var A,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(A=e[a])&&(o=(i<3?A(o):i>3?A(t,n,o):A(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.angle=[0,Math.PI],n.colorEnd=[1,1,1,1],n.colorStart=[1,1,1,1],n.center=[0,0],n.depth=0,n.angleOffset=0,n.radius=1,n.thickness=[5,5],n.angle=t.angle||n.angle,n.colorEnd=t.colorEnd||n.colorEnd,n.colorStart=t.colorStart||n.colorStart,n.center=t.center||n.center,n.depth=t.depth||n.depth,n.radius=t.radius||n.radius,n.thickness=t.thickness||n.thickness,n}return r(t,e),A([i.observable],t.prototype,"angle",void 0),A([i.observable],t.prototype,"colorEnd",void 0),A([i.observable],t.prototype,"colorStart",void 0),A([i.observable],t.prototype,"center",void 0),A([i.observable],t.prototype,"depth",void 0),A([i.observable],t.prototype,"angleOffset",void 0),A([i.observable],t.prototype,"radius",void 0),A([i.observable],t.prototype,"thickness",void 0),t}(n(7).Instance);t.ArcInstance=o},function(e,t){e.exports="precision highp float;\n\nvarying vec4 vertexColor;\n${extendHeader}\n\nvoid main() {\n  setColor(vertexColor);\n  ${extend}\n}\n"},function(e,t){e.exports="precision highp float;\n\n/**\n  This vertex shader calculates edges whose curve and width is in screen space where the curve is\n  bezier curves with 0, 1, and 2 control points.\n**/\nvarying vec4 vertexColor;\n\nvec2 interpolation(float t, vec2 center, float radius, float start, float end) {\n  float angle = (end - start) * t + start;\n  return center + vec2(cos(angle) * radius, sin(angle) * radius);\n}\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Destructure some of the vec injections\n  float startAngle = angle.x;\n  float endAngle = angle.y;\n  float widthStart = thickness.x;\n  float widthEnd = thickness.y;\n\n  // Convert world points to screen space\n  vec4 centerClip = clipSpace(vec3(center, depth));\n  vec2 centerScreen = (centerClip.xy + vec2(1.0, 1.0)) * vec2(0.5, 0.5) * viewSize;\n  // Destructure threejs's bug with the position requirement\n  float normal = position.x;\n  float interpolationTime = position.y;\n  float interpolationIncrement = 1.0 / position.z;\n  // Get the position of the current vertex\n  vec2 currentPosition = interpolation(interpolationTime, centerScreen, radius, startAngle, endAngle);\n  // Get normal with currentPosition and center\n  vec2 currentNormal = normalize(currentPosition - centerScreen);\n  // Get the thickness based on the side we're on\n  float lineThickness = mix(widthStart, widthEnd, interpolationTime) / 2.0;\n  // Start on the calculated line and push out by the normal's value\n  vec2 vertex = currentPosition + currentNormal * (normal * lineThickness);\n  // Get the color based on where we are on the line\n  vertexColor = mix(colorStart, colorEnd, interpolationTime);\n  vertexColor *= vertexColor.a;\n\n  gl_Position = vec4((vertex / viewSize) * vec2(2.0, 2.0) - vec2(1.0, 1.0), centerClip.zw);\n  gl_PointSize = 5.0;\n\n  ${extend}\n}\n"},function(e,t){e.exports="${import: arc, projection}\nprecision highp float;\n\n/**\n  This vertex shader calculates edges whose curve and width is in screen space where the curve is\n  bezier curves with 0, 1, and 2 control points.\n**/\nvarying vec4 vertexColor;\n\n${extendHeader}\n\nvoid main() {\n  ${attributes}\n\n  // Destructure some of the vec injections\n  float startAngle = angle.x + angleOffset;\n  float endAngle = angle.y + angleOffset;\n  float widthStart = thickness.x;\n  float widthEnd = thickness.y;\n  // Destructure threejs's bug with the position requirement\n  float normal = vertex.x;\n  float interpolationTime = vertex.y;\n  float interpolationIncrement = 1.0 / vertex.z;\n  // Get the position of the current vertex\n  vec2 currentPosition = arc(interpolationTime, center, radius, startAngle, endAngle);\n  // Get normal with currentPosition and center\n  vec2 currentNormal = normalize(currentPosition - center);\n  // Get the thickness based on the side we're on\n  float lineThickness = mix(widthStart, widthEnd, interpolationTime) / 2.0;\n  // Start on the calculated line and push out by the normal's value\n  vec2 vertex = currentPosition + currentNormal * (normal * lineThickness);\n  // Get the color based on where we are on the line\n  vertexColor = mix(colorStart, colorEnd, interpolationTime);\n\n  gl_Position = clipSpace(vec3(vertex, depth));\n\n  ${extend}\n}\n"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(38),o=[],a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return t.picking.type===A.PickType.ALL?r.quadPicking=t.picking:console.warn("Diff Processing Error: A layer has a diff processor requesting Quad Processing but the picking type is not valid."),r}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,o,r);else{var A=e.layer.bufferManager.add(t);i.isUniformBufferLocation(A)&&(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,A),e.quadPicking.quadTree.remove(t),e.quadPicking.quadTree.add(t))}},t.prototype.changeInstance=function(e,t,n,r){r?(e.updateInstance(e.layer,t,r),e.quadPicking.quadTree.remove(t),e.quadPicking.quadTree.add(t)):e.addInstance(e,t,o,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,r),e.layer.bufferManager.remove(t),e.quadPicking.quadTree.remove(t))},t}(n(50).UniformDiffProcessor);t.UniformQuadDiffProcessor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(38),o=[],a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return t.picking.type===A.PickType.SINGLE?(r.colorPicking=t.picking,r.colorPicking.uidToInstance=new Map):console.warn("Diff Processing Error: A layer has a diff processor requesting Color Processing but the picking type is not valid."),r}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,o,r);else{var A=e.layer.bufferManager.add(t);i.isUniformBufferLocation(A)?(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,A),e.colorPicking.uidToInstance.set(t.uid,t)):console.warn("A data cluster was not provided by the manager to associate an instance with.")}},t.prototype.changeInstance=function(e,t,n,r){r?e.updateInstance(e.layer,t,r):e.addInstance(e,t,o,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,r),e.layer.bufferManager.remove(t),e.colorPicking.uidToInstance.delete(t.uid))},t}(n(50).UniformDiffProcessor);t.UniformColorDiffProcessor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(20),o=[],a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return t.picking.type===A.PickType.ALL?r.quadPicking=t.picking:console.warn("Diff Processing Error: A layer has a diff processor requesting Quad Processing but the picking type is not valid."),r}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,o,r);else{var A=e.layer.bufferManager.add(t);i.isBufferLocationGroup(A)&&(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,o,A),e.quadPicking.quadTree.remove(t),e.quadPicking.quadTree.add(t))}},t.prototype.changeInstance=function(e,t,n,r){r?(e.updateInstance(e.layer,t,n,r),e.quadPicking.quadTree.remove(t),e.quadPicking.quadTree.add(t)):e.addInstance(e,t,o,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,o,r),e.layer.bufferManager.remove(t),e.quadPicking.quadTree.remove(t))},t}(n(51).InstanceAttributeDiffProcessor);t.InstanceAttributeQuadDiffProcessor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(0),i=n(20),o=[],a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return t.picking.type===A.PickType.SINGLE?(r.colorPicking=t.picking,r.colorPicking.uidToInstance=new Map):console.warn("Diff Processing Error: A layer has a diff processor requesting Color Processing but the picking type is not valid."),r}return r(t,e),t.prototype.addInstance=function(e,t,n,r){if(r)e.changeInstance(e,t,o,r);else{var A=e.layer.bufferManager.add(t);i.isBufferLocationGroup(A)?(t.active=!0,t.easingId=e.layer.easingId,e.updateInstance(e.layer,t,o,A),e.colorPicking.uidToInstance.set(t.uid,t)):console.warn("A data cluster was not provided by the manager to associate an instance with.")}},t.prototype.changeInstance=function(e,t,n,r){r?e.updateInstance(e.layer,t,n,r):e.addInstance(e,t,o,r)},t.prototype.removeInstance=function(e,t,n,r){r&&(t.active=!1,t.clearEasing(),e.updateInstance(e.layer,t,o,r),e.layer.bufferManager.remove(t),e.colorPicking.uidToInstance.delete(t.uid))},t}(n(51).InstanceAttributeDiffProcessor);t.InstanceAttributeColorDiffProcessor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(8),i=n(2),o=n(0),a=n(1),s=n(93),c=n(25),u=n(20),l=Math.max,d=n(3)("performance"),h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.allBufferLocations={},r.availableLocations=[],r.currentInstancedCount=0,r.instanceToBufferLocation={},r.maxInstancedCount=1e3,r.blockSubAttributesLookup=new Map,r.attributeToPropertyIds=new Map,r.updateAllPropertyIdList=[],r.activePropertyId=-1,r.remove=function(e){var t=r.instanceToBufferLocation[e.uid];return t&&(delete r.instanceToBufferLocation[e.uid],r.availableLocations.push(t)),e},r.add=r.doAddWithRegistration,r}return r(t,e),t.prototype.doAddWithRegistration=function(e){var t=this;this.layer.instanceAttributes.forEach(function(n){if(!n.parentAttribute){o.isResourceAttribute(n)&&t.layer.resource.setAttributeContext(n,n.resource.type),i.ObservableMonitoring.setObservableMonitor(!0),n.update(e);var r=i.ObservableMonitoring.getObservableMonitorIds(!0);t.attributeToPropertyIds.set(n,r),n===t.layer.activeAttribute&&(t.activePropertyId=r[0])}}),i.ObservableMonitoring.setObservableMonitor(!1),this.makeUpdateAllPropertyIdList();var n=this.resizeBuffer();return this.gatherLocationsIntoGroups(n.newLocations,n.growth),this.add=this.doAdd,this.doAdd(e)},t.prototype.doAdd=function(e){if(this.availableLocations.length<=0){var t=this.resizeBuffer();this.gatherLocationsIntoGroups(t.newLocations,t.growth)}var n=this.availableLocations.shift();return n&&this.geometry?(this.instanceToBufferLocation[e.uid]=n,this.currentInstancedCount=this.geometry.maxInstancedCount=l(this.currentInstancedCount,n.instanceIndex+1),this.model&&(this.model.vertexDrawRange=[0,this.layer.instanceVertexCount],this.model.drawInstances=this.currentInstancedCount)):console.error("Add Error: Instance Attribute Buffer Manager failed to pair an instance with a buffer location"),n},t.prototype.destroy=function(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose(),this.scene&&this.scene.container&&this.model&&this.scene.container.remove(this.model)},t.prototype.getBufferLocations=function(e){return this.instanceToBufferLocation[e.uid]},t.prototype.getActiveAttributePropertyId=function(){return this.activePropertyId},t.prototype.getUpdateAllPropertyIdList=function(){return this.updateAllPropertyIdList},t.prototype.managesInstance=function(e){return void 0!==this.instanceToBufferLocation[e.uid]},t.prototype.makeUpdateAllPropertyIdList=function(){var e={};this.attributeToPropertyIds.forEach(function(t){e[t[0]]=t[0]}),this.updateAllPropertyIdList=Object.values(e).filter(Boolean)},t.prototype.removeFromScene=function(){this.scene&&this.scene.container&&this.model&&this.scene.container.remove(this.model),delete this.scene},t.prototype.resizeBuffer=function(){var e=0,t=new Map;if(this.changeListContext){e=1e3;for(var n=0,r=this.changeListContext.length;n<r;++n){var i=this.changeListContext[n];switch(i[1]){case o.InstanceDiffType.CHANGE:case o.InstanceDiffType.INSERT:this.instanceToBufferLocation[i[0].uid]||e++}}}if(this.geometry){d("Info: Vertex packing buffer is being resized for layer "+this.layer.id),this.geometry.dispose(),this.geometry=new A.Geometry;for(var s=this.maxInstancedCount,u=0,l=this.layer.vertexAttributes;u<l.length;u++){(O=l[u]).materialAttribute&&this.geometry.addAttribute(O.name,O.materialAttribute)}this.maxInstancedCount+=e,this.attributes=this.attributes||[],this.blockAttributes=this.blockAttributes||[];for(E=0,r=this.blockAttributes.length;E<r;++E){F=(O=this.blockAttributes[E]).bufferAttribute;var h=O.size||0;if(F.data instanceof Float32Array){(_=new Float32Array(this.maxInstancedCount*h)).set(F.data,0);var f=new A.Attribute(_,h,!0,!0);O.bufferAttribute=F=f,this.geometry.addAttribute(O.name,f);Q=this.blockSubAttributesLookup.get(E),C=O.size||0;if(Q)for(I=0,x=Q.length;I<x;++I){var p=Q[I];(S=t.get(p.name))||(S=[],t.set(p.name,S));M=this.allBufferLocations[p.name]||[];this.allBufferLocations[p.name]=M;N=Object.assign({},p,{uid:a.uid(),packUID:O.packUID,bufferAttribute:F}),R=p.blockIndex||0,L=p.size||1;for(var g=0,B=M.length;g<B;++g){var w=M[g];w.attribute=N,w.buffer={value:_}}for(n=s;n<this.maxInstancedCount;++n){H={attribute:N,block:E,buffer:{value:_},instanceIndex:n,range:[n*C+R,n*C+R+L]};S.push(H),M.push(H)}}}}}else{this.maxInstancedCount+=e,this.geometry=new A.Geometry;for(var y=0,v=this.layer.vertexAttributes;y<v.length;y++){(O=v[y]).materialAttribute&&this.geometry.addAttribute(O.name,O.materialAttribute)}this.attributes=[],this.blockAttributes=[];var b=new Map,m=new Map;this.blockSubAttributesLookup=m;for(var n=0,r=this.layer.instanceAttributes.length;n<r;++n){var E=(O=this.layer.instanceAttributes[n]).block||0,C=b.get(E)||0;C=Math.max(C,(O.blockIndex||0)+(O.size||0)),b.set(E,C);var U=m.get(E);U||(U=[],m.set(E,U)),U.push(O)}m.forEach(function(e){return e.sort(function(e,t){return(e.blockIndex||0)-(t.blockIndex||0)})});var E=0;for(r=b.size;E<r;++E){var C=b.get(E)||0,T=a.uid();C||console.warn("Instance Attribute Packing Error: The system tried to build an attribute with a size of zero.","These are the attributes used:",this.layer.instanceAttributes,"These are the block sizes calculated",b,"This is the block to attribute lookup generated",m);var Q,_=new Float32Array(C*this.maxInstancedCount),F=new A.Attribute(_,C,!0,!0);if(this.geometry.addAttribute("block"+E,F),Q=m.get(E)){for(var I=0,x=Q.length;I<x;++I){var S,O=Q[I];(S=t.get(O.name))||(S=[],t.set(O.name,S));var M=this.allBufferLocations[O.name]||[];this.allBufferLocations[O.name]=M;var N=Object.assign({},O,{uid:E,packUID:T,bufferAttribute:F,size:C}),R=O.blockIndex||0,L=O.size||1;for(n=0;n<this.maxInstancedCount;++n){var H={attribute:N,block:E,buffer:{value:_},instanceIndex:n,range:[n*C+R,n*C+R+L]};S.push(H),M.push(H)}this.attributes.push(N)}this.blockAttributes.push({uid:a.uid(),packUID:T,bufferAttribute:F,name:"block"+E,size:o.InstanceAttributeSize.FOUR,update:function(){return[0]}})}else console.warn("Instance Attribute Packing Buffer Error: Somehow there are no attributes associated with a block.","These are the attributes used:",this.layer.instanceAttributes,"These are the block sizes calculated",b,"This is the block to attribute lookup generated",m)}this.geometry.maxInstancedCount=0,this.material=this.layer.material.clone();n=0;for(var P=this.layer.uniforms.length;n<P;++n){var D=this.layer.uniforms[n];D.materialUniforms.push(this.material.uniforms[D.name])}}return this.scene&&this.model&&this.scene.container&&this.scene.container.remove(this.model),this.material=this.material||this.layer.material.clone(),this.model=c.generateLayerModel(this.geometry,this.material,this.layer.model.drawMode),this.scene&&this.scene.container&&this.model&&this.scene.container.add(this.model),{growth:e,newLocations:t}},t.prototype.gatherLocationsIntoGroups=function(e,t){if(0!==this.attributeToPropertyIds.size){var n=[];this.attributeToPropertyIds.forEach(function(t,r){n.push({attribute:r,bufferLocationsForAttribute:e.get(r.name)||[],childBufferLocations:(r.childAttributes||[]).map(function(t){return e.get(t.name)||[]}),ids:t,bufferIndex:-1})});for(var r=0;r<t;++r){for(var A={instanceIndex:-1,propertyToBufferLocation:{}},i=function(e,t){var r=n[e],i=r.attribute,o=r.ids,a=r.bufferLocationsForAttribute;if(!a)return s.emitOnce("Instance Attribute Buffer Error",function(e,t){console.warn(t+": There is an error in forming buffer location groups in InstanceAttributePackingBufferManager. Error count: "+e)}),"continue";var c=a[++r.bufferIndex];if(!c)return s.emitOnce("Instance Attribute Buffer Error",function(e,t){console.warn(t+": There is an error in forming buffer location groups in InstanceAttributePackingBufferManager. Error count: "+e)}),"continue";if(-1===A.instanceIndex)A.instanceIndex=c.instanceIndex;else if(c.instanceIndex!==A.instanceIndex)return s.emitOnce("Instance Attribute Parallelism Error",function(e,t){console.warn(t+": A buffer location does not have a matching instance index which means the buffer locations are not in parallel with each other somehow. Error count: "+e),console.warn(i.name,c)}),"continue";if(i.childAttributes){for(var u=[],l=function(e,t){var n=i.childAttributes[e],A=r.childBufferLocations[e];if(A){var o=A.shift();o?u.push(o):s.emitOnce("Instance Attribute Child Attribute Error",function(e,t){console.warn(t+": A child attribute does not have a buffer location available. Error count: "+e),console.warn("Parent Attribute: "+i.name+" Child Attribute: "+n.name)})}},d=0,h=i.childAttributes.length;d<h;++d)l(d);c.childLocations=u}for(d=0,h=o.length;d<h;++d){var f=o[d];A.propertyToBufferLocation[f]=c}},o=0,a=n.length;o<a;++o)i(o);this.availableLocations.push(A)}s.flushEmitOnce()}},t.prototype.getInstanceCount=function(){return this.maxInstancedCount},t}(u.BufferManagerBase);t.InstanceAttributePackingBufferManager=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(8),i=n(2),o=n(0),a=n(93),s=n(30),c=n(25),u=n(20),l=n(3)("performance"),d=Math.max;t.isInstanceAttributeBufferLocation=function(e){return Boolean(e&&e.buffer&&e.buffer.value)};var h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.allBufferLocations={},r.availableLocations=[],r.currentInstancedCount=0,r.instanceToBufferLocation={},r.maxInstancedCount=0,r.attributeToPropertyIds=new Map,r.updateAllPropertyIdList=[],r.activePropertyId=-1,r.remove=function(e){var t=r.instanceToBufferLocation[e.uid];return t&&(delete r.instanceToBufferLocation[e.uid],r.availableLocations.push(t)),e},r.add=r.doAddWithRegistration,r}return r(t,e),t.prototype.doAddWithRegistration=function(e){var t=this;this.layer.instanceAttributes.forEach(function(n){if(!n.parentAttribute){o.isResourceAttribute(n)&&t.layer.resource.setAttributeContext(n,n.resource.type),i.ObservableMonitoring.setObservableMonitor(!0),n.update(e);var r=i.ObservableMonitoring.getObservableMonitorIds(!0);t.attributeToPropertyIds.set(n,r),n===t.layer.activeAttribute&&(t.activePropertyId=r[0])}}),i.ObservableMonitoring.setObservableMonitor(!1),this.makeUpdateAllPropertyIdList();var n=this.resizeBuffer();return this.gatherLocationsIntoGroups(n.newLocations,n.growth),this.add=this.doAdd,this.doAdd(e)},t.prototype.doAdd=function(e){if(this.availableLocations.length<=0){var t=this.resizeBuffer();this.gatherLocationsIntoGroups(t.newLocations,t.growth)}var n=this.availableLocations.shift();return n&&this.geometry?(this.instanceToBufferLocation[e.uid]=n,this.currentInstancedCount=this.geometry.maxInstancedCount=d(this.currentInstancedCount,n.instanceIndex+1),this.model&&(this.model.vertexDrawRange=[0,this.layer.instanceVertexCount],this.model.drawInstances=this.currentInstancedCount)):console.error("Add Error: Instance Attribute Buffer Manager failed to pair an instance with a buffer location"),n},t.prototype.destroy=function(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose(),this.scene&&this.scene.container&&this.model&&this.scene.container.remove(this.model)},t.prototype.getBufferLocations=function(e){return this.instanceToBufferLocation[e.uid]},t.prototype.getActiveAttributePropertyId=function(){return this.activePropertyId},t.prototype.getUpdateAllPropertyIdList=function(){return this.updateAllPropertyIdList},t.prototype.managesInstance=function(e){return void 0!==this.instanceToBufferLocation[e.uid]},t.prototype.makeUpdateAllPropertyIdList=function(){var e={};this.attributeToPropertyIds.forEach(function(t){e[t[0]]=t[0]}),this.updateAllPropertyIdList=Object.values(e).filter(Boolean)},t.prototype.removeFromScene=function(){this.scene&&this.scene.container&&this.model&&this.scene.container.remove(this.model),delete this.scene},t.prototype.resizeBuffer=function(){var e=0,t=new Map;if(this.changeListContext){e=1e3;for(var n=0,r=this.changeListContext.length;n<r;++n){var i=this.changeListContext[n];switch(i[1]){case o.InstanceDiffType.CHANGE:case o.InstanceDiffType.INSERT:this.instanceToBufferLocation[i[0].uid]||e++}}}if(l("BEGIN: Resizing unpacked attribute buffer by %d instances",e),this.geometry){this.geometry.dispose(),this.geometry=new A.Geometry;for(var a=this.maxInstancedCount,u=0,d=this.layer.vertexAttributes;u<d.length;u++){(m=d[u]).materialAttribute&&this.geometry.addAttribute(m.name,m.materialAttribute)}this.maxInstancedCount+=e,this.attributes=this.attributes||[];for(var h=0,f=this.attributes;h<f.length;h++){E=(m=f[h]).bufferAttribute,U=m.size||0;if(E.data instanceof Float32Array){(T=new Float32Array(this.maxInstancedCount*U)).set(E.data,0);var p=new A.Attribute(T,U,!0,!0);p.setDynamic(!0),m.bufferAttribute=p,this.geometry.addAttribute(m.name,p);C=t.get(m.name),Q=this.allBufferLocations[m.name]||[];this.allBufferLocations[m.name]=Q;for(var g=0,B=Q.length;g<B;++g)Q[g].buffer.value=T;C||(C=[],t.set(m.name,C));for(n=a,I=this.maxInstancedCount;n<I;++n){F={attribute:m,buffer:{value:T},instanceIndex:n,range:[n*U,n*U+U]};C.push(F),Q.push(F)}}}this.scene.container&&this.model&&this.scene.container.remove(this.model)}else{this.maxInstancedCount+=e,this.geometry=new A.Geometry;for(var w=0,y=this.layer.vertexAttributes;w<y.length;w++){(m=y[w]).materialAttribute&&this.geometry.addAttribute(m.name,m.materialAttribute)}this.attributes=[];for(var v=0,b=this.layer.instanceAttributes;v<b.length;v++){var m,E,C,U=(m=b[v]).size||0,T=new Float32Array(U*this.maxInstancedCount);(E=new A.Attribute(T,U,!0,!0)).setDynamic(!0),this.geometry.addAttribute(m.name,E),(C=t.get(m.name))||(C=[],t.set(m.name,C));var Q=this.allBufferLocations[m.name]||[];this.allBufferLocations[m.name]=Q;for(var _=Object.assign({},m,{uid:s.uid(),bufferAttribute:E}),n=0;n<this.maxInstancedCount;++n){var F={attribute:_,buffer:{value:T},instanceIndex:n,range:[n*U,n*U+U]};C.push(F),Q.push(F)}this.attributes.push(_)}this.geometry.maxInstancedCount=0,this.material=this.layer.material.clone();n=0;for(var I=this.layer.uniforms.length;n<I;++n){var x=this.layer.uniforms[n];x.materialUniforms.push(this.material.uniforms[x.name])}}return this.scene&&this.model&&this.scene.container&&this.scene.container.remove(this.model),this.material=this.material||this.layer.material.clone(),this.model=c.generateLayerModel(this.geometry,this.material,this.layer.model.drawMode),this.scene&&this.scene.container&&this.model&&this.scene.container.add(this.model),l("COMPLETE: Resizing unpacked attribute buffer"),{growth:e,newLocations:t}},t.prototype.gatherLocationsIntoGroups=function(e,t){if(0!==this.attributeToPropertyIds.size){l("BEGIN: Unpacked attribute manager grouping new buffer locations");var n,r,A,i,o,s,c,u,d=[];this.attributeToPropertyIds.forEach(function(t,n){d.push({attribute:n,bufferLocationsForAttribute:e.get(n.name)||[],childBufferLocations:(n.childAttributes||[]).map(function(t){return e.get(t.name)||[]}),ids:t,bufferIndex:-1})});for(var h=0;h<t;++h){for(var f={instanceIndex:-1,propertyToBufferLocation:{}},p=0,g=d.length;p<g;++p)if(n=d[p],r=n.attribute,A=n.ids,i=n.bufferLocationsForAttribute)if(o=i[++n.bufferIndex]){if(-1===f.instanceIndex)f.instanceIndex=o.instanceIndex;else if(o.instanceIndex!==f.instanceIndex){a.emitOnce("Instance Attribute Parallelism Error",function(e,t){console.warn(t+": A buffer location does not have a matching instance index which means the buffer locations are not in parallel with each other somehow. Error count: "+e),console.warn(r.name,o)});continue}if(r.childAttributes){o.childLocations=[];for(var B=0,w=r.childAttributes.length;B<w;++B)(c=n.childBufferLocations[B])&&((u=c.shift())?o.childLocations.push(u):(s=r.childAttributes[B],a.emitOnce("Instance Attribute Child Attribute Error",function(e,t){console.warn(t+": A child attribute does not have a buffer location available. Error count: "+e),console.warn("Parent Attribute: "+r.name+" Child Attribute: "+s.name)})))}for(B=0,w=A.length;B<w;++B)f.propertyToBufferLocation[A[B]]=o}else a.emitOnce("Instance Attribute Buffer Error",function(e,t){console.warn(t+": There is an error in forming buffer location groups in InstanceAttributeBufferManager. Error count: "+e)});else a.emitOnce("Instance Attribute Buffer Error",function(e,t){console.warn(t+": There is an error in forming buffer location groups in InstanceAttributeBufferManager. Error count: "+e)});this.availableLocations.push(f)}l("COMPLETE: Unpacked attribute buffer manager buffer location grouping"),a.flushEmitOnce()}},t.prototype.getInstanceCount=function(){return this.maxInstancedCount},t}(u.BufferManagerBase);t.InstanceAttributeBufferManager=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),A=n(16),i=n(238),o=n(51),a=n(237),s=n(236),c=n(50),u=n(235),l=function(){function e(e,t){this.layer=e,this.bufferManager=t}return e.prototype.makeProcessor=function(){return this.processing?this.processing:(this.layer.bufferType===A.LayerBufferType.INSTANCE_ATTRIBUTE||this.layer.bufferType===A.LayerBufferType.INSTANCE_ATTRIBUTE_PACKING?(this.layer.picking&&(this.layer.picking.type===r.PickType.SINGLE?this.processor=new i.InstanceAttributeColorDiffProcessor(this.layer,this.bufferManager):this.layer.picking.type===r.PickType.ALL&&(this.processor=new a.InstanceAttributeQuadDiffProcessor(this.layer,this.bufferManager))),this.processor||(this.processor=new o.InstanceAttributeDiffProcessor(this.layer,this.bufferManager))):(this.layer.picking&&(this.layer.picking.type===r.PickType.ALL?this.processor=new u.UniformQuadDiffProcessor(this.layer,this.bufferManager):this.layer.picking.type===r.PickType.SINGLE&&(this.processor=new s.UniformColorDiffProcessor(this.layer,this.bufferManager))),this.processor||(this.processor=new c.UniformDiffProcessor(this.layer,this.bufferManager))),this.processing=[this.processor.changeInstance,this.processor.addInstance,this.processor.removeInstance],this.processing)},e}();t.InstanceDiffManager=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.resourceTrigger=function(){},t}(n(7).Instance);t.BasicInstance=A},function(e,t){var n=1e3,r=60*n,A=60*r,i=24*A,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*A;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&!1===isNaN(e))return t.long?function(e){return a(e,i,"day")||a(e,A,"hour")||a(e,r,"minute")||a(e,n,"second")||e+" ms"}(e):function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=A)return Math.round(e/A)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,A=+new Date,i=A-(n||A);e.diff=i,e.prev=n,e.curr=A,n=A;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var A=t.formatters[r];if("function"==typeof A){var i=o[s];n=A.call(e,i),o.splice(s,1),s--}return n}),t.formatArgs.call(e,o),(r.log||t.log||console.log.bind(console)).apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=A,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function A(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),A=r.length;for(n=0;n<A;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(243),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n,r,A=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],u=!1,l=-1;function d(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}A.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=p,A.addListener=p,A.once=p,A.off=p,A.removeListener=p,A.removeAllListeners=p,A.emit=p,A.prependListener=p,A.prependOnceListener=p,A.listeners=function(e){return[]},A.binding=function(e){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(e){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A,i=n(8),o=n(2),a=n(6),s=n(0),c=n(1);!function(e){e[e.NONE=0]="NONE",e[e.SCREEN_CURVE=1]="SCREEN_CURVE"}(A=t.ArcScaleType||(t.ArcScaleType={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initShader=function(){for(var e,r,i=this.props.scaleType,o=this.props.animate||{},a=o.angle,c=o.angleOffset,u=o.center,l=o.radius,d=o.thickness,h=o.colorStart,f=o.colorEnd,p=((e={0:1})[302]=-1,e),g=((r={0:0})[302]=1,r),B=1,w=0;w<300;++w)p[w+1]=B,g[w+1]=Math.floor(w/2)/149,B*=-1;var y=i===A.NONE?n(234):n(233);return{fs:n(232),instanceAttributes:[{easing:u,name:t.attributeNames.center,size:s.InstanceAttributeSize.TWO,update:function(e){return e.center}},{easing:l,name:t.attributeNames.radius,size:s.InstanceAttributeSize.ONE,update:function(e){return[e.radius]}},{name:t.attributeNames.depth,size:s.InstanceAttributeSize.ONE,update:function(e){return[e.depth]}},{easing:d,name:t.attributeNames.thickness,size:s.InstanceAttributeSize.TWO,update:function(e){return e.thickness}},{easing:a,name:t.attributeNames.angle,size:s.InstanceAttributeSize.TWO,update:function(e){return e.angle}},{easing:c,name:t.attributeNames.angleOffset,size:s.InstanceAttributeSize.ONE,update:function(e){return[e.angleOffset]}},{easing:h,name:t.attributeNames.colorStart,size:s.InstanceAttributeSize.FOUR,update:function(e){return e.colorStart}},{easing:f,name:t.attributeNames.colorEnd,size:s.InstanceAttributeSize.FOUR,update:function(e){return e.colorEnd}}],uniforms:[{name:"scaleFactor",size:s.UniformSize.ONE,update:function(e){return[1]}}],vertexAttributes:[{name:"vertex",size:s.VertexAttributeSize.THREE,update:function(e){return[p[e],g[e],300]}}],vertexCount:302,vs:y}},t.prototype.getMaterialOptions=function(){return Object.assign({},c.CommonMaterialOptions.transparentShapeBlending,{culling:i.GLSettings.Material.CullSide.NONE})},t.defaultProps={data:new o.InstanceProvider,key:"",scaleType:A.NONE,scene:"default"},t.attributeNames={angle:"angle",angleOffset:"angleOffset",center:"center",colorEnd:"colorEnd",colorStart:"colorStart",depth:"depth",radius:"radius",thickness:"thickness"},t}(a.Layer);t.ArcLayer=u},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(246)),r(n(231))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(247)),r(n(230)),r(n(224)),r(n(214)),r(n(160)),r(n(151)),r(n(146)),r(n(10))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(A,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?A(e.value):new n(function(t){t(e.value)}).then(o,a)}s((r=r.apply(e,t||[])).next())})},A=this&&this.__generator||function(e,t){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(A=(A=o.trys).length>0&&A[A.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(104),a=function(){function e(){}return e.all=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,s,c,u,l,d,h,f,p,g,B,w;return A(this,function(A){for(r=i.NOOP,s=new Promise(function(e){return r=e}),c=0,u=0,l=0,d=n.length;l<d;++l)for(h=n[l],f=0,p=t.length;f<p;++f)g=t[f],(B=g.getEasing(h))&&(a&&a(B,g,f,l),c=Math.max((B.delay||0)+B.duration));return w=function(e){e-u<c?o.nextFrame(w):r()},e?requestAnimationFrame(function(e){u=e,w(e)}):r(),[2,s]})})},e}();t.EasingUtil=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=n(5),i=n(4),o=function(){function e(e,t,n,r,A){var i=e.mid;this.TL=new a(e.x,i[0],e.y,i[1],n,t),this.TR=new a(i[0],e.right,e.y,i[1],n,t),this.BL=new a(e.x,i[0],i[1],e.bottom,n,t),this.BR=new a(i[0],e.right,i[1],e.bottom,n,t),this.TL.childToNode=r,this.TR.childToNode=r,this.BL.childToNode=r,this.BR.childToNode=r,this.TL.childToBounds=A,this.TR.childToBounds=A,this.BL.childToBounds=A,this.BR.childToBounds=A}return e.prototype.destroy=function(){this.TL.destroy(),this.TR.destroy(),this.BL.destroy(),this.BR.destroy(),delete this.TL,delete this.TR,delete this.BL,delete this.BR},e}();t.Quadrants=o;var a=function(){function e(e,t,n,r,i,o){void 0===o&&(o=0),this.children=[],this.depth=0,this.nodes=null,arguments.length>=4?this.bounds=new A.Bounds({left:e,right:t,top:n,bottom:r}):this.bounds=new A.Bounds({left:0,right:1,top:1,bottom:0}),this.depth=o,this.getBounds=i,0===this.depth&&(this.nullBounded=[],this.childToNode=new Map,this.childToBounds=new Map)}return e.prototype.destroy=function(){delete this.children,delete this.bounds,this.nodes&&(this.nodes.destroy(),this.nodes=null)},e.prototype.add=function(e){var t=this.childToBounds.get(e);return t||(t=this.getBounds(e),this.childToBounds.set(e,t)),!t||t.isInside(this.bounds)?this.doAdd(e,t):(this.cover(t),this.add(e))},e.prototype.addAll=function(e){var t=this,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=-Number.MAX_VALUE;e.forEach(function(e){var A=t.getBounds(e);t.childToBounds.set(e,A),A&&(A.x<n&&(n=A.x),A.right>i&&(i=A.right),A.bottom>o&&(o=A.bottom),A.y<r&&(r=A.y))}),n!==Number.MAX_VALUE&&r!==Number.MAX_VALUE&&i!==-Number.MAX_VALUE&&o!==-Number.MAX_VALUE&&this.cover(new A.Bounds({left:n,right:i,bottom:o,top:r})),e.forEach(function(e){return t.doAdd(e,t.childToBounds.get(e)||null,!0)})},e.prototype.cover=function(e){var t=this;if(!e.isInside(this.bounds)){this.bounds.encapsulate(e),this.bounds.x-=1,this.bounds.y-=1,this.bounds.width+=2,this.bounds.height+=2;var n=this.gatherChildren([]);this.children=[],this.nodes&&(this.nodes.destroy(),this.nodes=null),this.childToNode.clear(),n.forEach(function(e){return t.doAdd(e,t.childToBounds.get(e)||null)})}},e.prototype.doAdd=function(e,t,n){return t||0!==this.depth?t?this.nodes?t.isInside(this.nodes.TL.bounds)?this.nodes.TL.doAdd(e,t,n):t.isInside(this.nodes.TR.bounds)?this.nodes.TR.doAdd(e,t,n):t.isInside(this.nodes.BL.bounds)?this.nodes.BL.doAdd(e,t,n):t.isInside(this.nodes.BR.bounds)?this.nodes.BR.doAdd(e,t,n):(this.children.push(e),this.childToNode.set(e,this),!0):t.isInside(this.bounds)?(this.children.push(e),this.childToNode.set(e,this),this.children.length>5&&this.depth<10&&this.split(),!0):(isNaN(t.width+t.height+t.x+t.y)?console.error("Child did not fit into bounds because a dimension is NaN",e,t):0===t.area?console.error("Child did not fit into bounds because the area is zero",e,t):console.error("Child did not get insertted.","Parent:",this.bounds.toString(),"Child:",t.toString(),"Inside Checks:",t.x>=this.bounds.x,t.right<=this.bounds.right,t.y>=this.bounds.y,t.bottom<=this.bounds.bottom),!0):(console.warn("A null bounds was added to a Quad Tree node below the top node, which is invalid."),!1):(this.nullBounded.push(e),this.childToNode.set(e,this),!0)},e.prototype.doRemove=function(e){var t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),this.childToNode.delete(e),this.childToBounds.delete(e))},e.prototype.gatherChildren=function(e){return this.children.forEach(function(t){return e.push(t)}),this.nodes&&(this.nodes.TL.gatherChildren(e),this.nodes.TR.gatherChildren(e),this.nodes.BL.gatherChildren(e),this.nodes.BR.gatherChildren(e)),e},e.prototype.query=function(e,t){var n=[];return 0===this.depth&&(n=this.nullBounded.slice(0)),e instanceof A.Bounds&&e.hitBounds(this.bounds)?this.queryBounds(e,n,t):i.isVec2(e)&&this.bounds.containsPoint(e)?this.queryPoint(e,n,t):n},e.prototype.queryBounds=function(e,t,n){var r=this;return this.children.forEach(function(n){var A=r.childToBounds.get(n);A&&A.hitBounds(e)&&t.push(n)}),n&&n(this),this.nodes&&(e.hitBounds(this.nodes.TL.bounds)&&this.nodes.TL.queryBounds(e,t,n),e.hitBounds(this.nodes.TR.bounds)&&this.nodes.TR.queryBounds(e,t,n),e.hitBounds(this.nodes.BL.bounds)&&this.nodes.BL.queryBounds(e,t,n),e.hitBounds(this.nodes.BR.bounds)&&this.nodes.BR.queryBounds(e,t,n)),t},e.prototype.queryPoint=function(e,t,n){var r=this;return this.children.forEach(function(n){var A=r.childToBounds.get(n);A&&A.containsPoint(e)&&t.push(n)}),n&&n(this),this.nodes&&(this.nodes.TL.bounds.containsPoint(e)&&this.nodes.TL.queryPoint(e,t,n),this.nodes.TR.bounds.containsPoint(e)&&this.nodes.TR.queryPoint(e,t,n),this.nodes.BL.bounds.containsPoint(e)&&this.nodes.BL.queryPoint(e,t,n),this.nodes.BR.bounds.containsPoint(e)&&this.nodes.BR.queryPoint(e,t,n)),t},e.prototype.remove=function(e){if(this.childToNode){var t=this.childToNode.get(e);if(t&&0===t.depth){var n=t.nullBounded.indexOf(e);if(n>-1)return t.nullBounded.splice(n),this.childToNode.delete(e),void this.childToBounds.delete(e)}t&&t.doRemove(e)}},e.prototype.split=function(){var e=this.gatherChildren([]);this.nodes=new o(this.bounds,this.depth+1,this.getBounds,this.childToNode,this.childToBounds),this.children=[];for(var t=0,n=e.length;t<n;++t){var r=e[t];this.doAdd(r,this.childToBounds.get(r)||null,!0)}},e.prototype.visit=function(e){var t=Boolean(e(this));this.nodes&&!t&&(this.nodes.TL.visit(e),this.nodes.TR.visit(e),this.nodes.BL.visit(e),this.nodes.BR.visit(e))},e}();t.Node=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.TrackedQuadTree=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(t){var n=e.call(this)||this;return n.offsetFilter=function(e){return e},n.scaleFilter=function(e){return e},Object.assign(n,t),n}return r(t,e),Object.defineProperty(t.prototype,"offset",{get:function(){return this.offsetFilter(this.base.offset)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.scaleFilter(this.base.scale)},set:function(e){},enumerable:!0,configurable:!0}),t}(n(56).ChartCamera);t.ReferenceCamera=A},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),A={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=A},function(e,t,n){"use strict";var r,A=n(252);A.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!A.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var o=document.createElement("div");o.setAttribute(n,"return;"),i="function"==typeof o[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},function(e,t){var n,r,A,i,o,a,s,c,u,l,d,h,f,p,g,B=!1;function w(){if(!B){B=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),w=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),f=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),p=/FBAN\/\w+;/i.exec(e),g=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){(n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(e);a=y?parseFloat(y[1])+4:n,r=t[2]?parseFloat(t[2]):NaN,A=t[3]?parseFloat(t[3]):NaN,(i=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),o=t&&t[1]?parseFloat(t[1]):NaN):o=NaN}else n=r=A=o=i=NaN;if(w){if(w[1]){var v=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);s=!v||parseFloat(v[1].replace("_","."))}else s=!1;c=!!w[2],u=!!w[3]}else s=c=u=!1}}var y={ie:function(){return w()||n},ieCompatibilityMode:function(){return w()||a>n},ie64:function(){return y.ie()&&d},firefox:function(){return w()||r},opera:function(){return w()||A},webkit:function(){return w()||i},safari:function(){return y.webkit()},chrome:function(){return w()||o},windows:function(){return w()||c},osx:function(){return w()||s},linux:function(){return w()||u},iphone:function(){return w()||h},mobile:function(){return w()||h||f||l||g},nativeApp:function(){return w()||p},android:function(){return w()||l},ipad:function(){return w()||f}};e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(254),A=n(253),i=10,o=40,a=800;function s(e){var t=0,n=0,r=0,A=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*i,A=n*i,"deltaY"in e&&(A=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||A)&&e.deltaMode&&(1===e.deltaMode?(r*=o,A*=o):(r*=a,A*=a)),r&&!t&&(t=r<1?-1:1),A&&!n&&(n=A<1?-1:1),{spinX:t,spinY:-n,pixelX:r,pixelY:-A}}t.normalizeWheel=s,s.getEventType=function(){return r.firefox()?"DOMMouseScroll":A("wheel")?"wheel":"mousewheel"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(255);t.normalizeWheel=r.normalizeWheel},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(108);t.extendShaderInitialization=function(e,t){var n=r.extendShader(e,t.vs,t.fs);return{fs:n.fs,instanceAttributes:(e.instanceAttributes||[]).concat(t.instanceAttributes||[]),uniforms:(e.uniforms||[]).concat(t.uniforms||[]),vertexAttributes:(e.vertexAttributes||[]).concat(t.vertexAttributes||[]),vertexCount:e.vertexCount,vs:n.vs}}},function(e,t,n){"use strict";function r(e){return!isNaN(e)}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e){this.surface=e}return e.prototype.groupAnimation=function(e,t,n,A,i){var o=this.surface.frameMetrics.currentTime;this.surface.commit(o);for(var a=0;a<t;++a){var s=r(A)?A:A(a,e.delay);e.delay=n+s*a,i(a),this.surface.commit(o)}},e}();t.AnimationHelper=A},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var A,i=n(5),o=n(57),a=n(1);!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_MIDDLE=1]="TOP_MIDDLE",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.MIDDLE_LEFT=3]="MIDDLE_LEFT",e[e.MIDDLE=4]="MIDDLE",e[e.MIDDLE_RIGHT=5]="MIDDLE_RIGHT",e[e.BOTTOM_LEFT=6]="BOTTOM_LEFT",e[e.BOTTOM_MIDDLE=7]="BOTTOM_MIDDLE",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(A=t.CameraBoundsAnchor||(t.CameraBoundsAnchor={}));var s=function(e){function t(t){var n=e.call(this)||this;return n.isPanning=!1,n.panFilter=function(e,t,n){return e},n.scaleFilter=function(e,t,n){return e},n.startViews=[],n.optimizedViews=new Set,n.onRangeChanged=function(e,t){},n.startViewDidStart=!1,n.applyBounds=function(){if(n.bounds&&n.camera){var e=n.getView(n.bounds.view);n.applyScaleBounds(),e&&(n.camera.offset[0]=n.boundsHorizontalOffset(e,n.bounds),n.camera.offset[1]=n.boundsVerticalOffset(e,n.bounds))}},n.applyScaleBounds=function(){n.camera&&n.bounds&&(n.bounds.scaleMin&&n.camera.setScale(a.max3(n.camera.scale,n.bounds.scaleMin)),n.bounds.scaleMax&&n.camera.setScale(a.min3(n.camera.scale,n.bounds.scaleMax)))},t.bounds&&n.setBounds(t.bounds),n.camera=t.camera,n.scaleFactor=t.scaleFactor||1e3,n.ignoreCoverViews=t.ignoreCoverViews||!1,t.startView&&(n.startViews=Array.isArray(t.startView)?t.startView:[t.startView]),n.panFilter=t.panFilter||n.panFilter,n.scaleFilter=t.scaleFilter||n.scaleFilter,n.onRangeChanged=t.onRangeChanged||n.onRangeChanged,t.wheelShouldScroll&&(n.wheelShouldScroll=t.wheelShouldScroll),n}return r(t,e),t.prototype.anchoredByBoundsHorizontal=function(e,t){switch(t.anchor){case A.TOP_LEFT:case A.MIDDLE_LEFT:case A.BOTTOM_LEFT:return-(t.worldBounds.left-t.screenPadding.left/this.camera.scale[0]);case A.TOP_MIDDLE:case A.MIDDLE:case A.BOTTOM_MIDDLE:return-(t.worldBounds.right-t.worldBounds.width/2-(e.screenBounds.width+t.screenPadding.right)/this.camera.scale[0]*.5);case A.TOP_RIGHT:case A.MIDDLE_RIGHT:case A.BOTTOM_RIGHT:return-(t.worldBounds.right-(e.screenBounds.width-t.screenPadding.right)/this.camera.scale[0])}},t.prototype.anchoredByBoundsVertical=function(e,t){switch(t.anchor){case A.TOP_LEFT:case A.TOP_MIDDLE:case A.TOP_RIGHT:return-t.worldBounds.top- -t.screenPadding.top/this.scale[1];case A.MIDDLE_LEFT:case A.MIDDLE:case A.MIDDLE_RIGHT:return-(t.worldBounds.bottom-t.worldBounds.height/2)+.5*(e.screenBounds.height-t.screenPadding.bottom)/this.scale[1];case A.BOTTOM_LEFT:case A.BOTTOM_MIDDLE:case A.BOTTOM_RIGHT:return-(t.worldBounds.bottom-(e.screenBounds.height-t.screenPadding.bottom)/this.scale[1])}},t.prototype.boundsHorizontalOffset=function(e,t){var n=e.worldToScreen([t.worldBounds.left,t.worldBounds.top]),r=e.worldToScreen([t.worldBounds.right,t.worldBounds.bottom]);return r[0]-n[0]+t.screenPadding.left+t.screenPadding.right-e.screenBounds.width<0?this.anchoredByBoundsHorizontal(e,t):r[0]<e.screenBounds.right-t.screenPadding.right?-t.worldBounds.right+(e.screenBounds.width-t.screenPadding.right)/this.camera.scale[0]:n[0]>e.screenBounds.left+t.screenPadding.left?-t.worldBounds.left+t.screenPadding.left/this.camera.scale[0]:this.camera.offset[0]},t.prototype.boundsVerticalOffset=function(e,t){var n=e.worldToScreen([t.worldBounds.left,t.worldBounds.top]),r=e.worldToScreen([t.worldBounds.right,t.worldBounds.bottom]);return r[1]-n[1]+t.screenPadding.top+t.screenPadding.bottom-e.screenBounds.height<0?this.anchoredByBoundsVertical(e,t):n[1]>e.screenBounds.top-t.screenPadding.top?-(t.worldBounds.top-t.screenPadding.top/this.camera.scale[1]):r[1]<e.screenBounds.bottom+t.screenPadding.bottom?-(t.worldBounds.bottom+(-e.screenBounds.height+t.screenPadding.bottom)/this.camera.scale[1]):this.camera.offset[1]},t.prototype.canStart=function(e){return 0===this.startViews.length||this.startViews&&this.startViews.indexOf(e)>-1||this.startViewDidStart&&this.ignoreCoverViews},t.prototype.findCoveredStartView=function(e){var t=this,n=e.viewsUnderMouse.find(function(e){return t.startViews.indexOf(e.view.id)>-1});this.startViewDidStart=Boolean(n),n&&(this.coveredStartView=n.view)},t.prototype.getTargetView=function(e){return this.startViews&&!this.ignoreCoverViews?e.target.view:this.coveredStartView},t.prototype.handleMouseDown=function(e,t){this.startViews&&(this.findCoveredStartView(e),e.start&&(this.isPanning=this.canStart(e.start.view.id)||this.isPanning))},t.prototype.handleMouseUp=function(e){this.startViewDidStart=!1,this.isPanning=!1,this.optimizedViews.forEach(function(e){return e.optimizeRendering=!1}),this.optimizedViews.clear()},t.prototype.doPan=function(e,t,n){var r=a.vec3(a.divide2(n,this.camera.scale),0);this.panFilter&&(r=this.panFilter(r,t,e.viewsUnderMouse.map(function(e){return e.view}))),this.camera.offset[0]+=r[0],this.camera.offset[1]+=r[1],this.applyBounds(),e.start&&this.onRangeChanged(this.camera,e.start.view),this.applyBounds(),this.camera.update()},t.prototype.handleDrag=function(e,t){var n=this;e.start&&this.canStart(e.start.view.id)&&(e.viewsUnderMouse.forEach(function(e){e.view.optimizeRendering=!0,n.optimizedViews.add(e.view)}),this.doPan(e,e.start.view,t.screen.delta))},t.prototype.handleWheel=function(e,t){if(this.findCoveredStartView(e),this.canStart(e.target.view.id))if(this.wheelShouldScroll){var n=[-t.wheel[0],t.wheel[1]];e.start&&this.doPan(e,e.start.view,n)}else{var r=this.getTargetView(e),A=r.screenToWorld(e.screen.mouse),i=this.camera.scale[0]||1,o=this.camera.scale[1]||1,s=[t.wheel[1]/this.scaleFactor*i,t.wheel[1]/this.scaleFactor*o,1];this.scaleFilter&&(s=this.scaleFilter(s,r,e.viewsUnderMouse.map(function(e){return e.view}))),this.camera.scale[0]=i+s[0],this.camera.scale[1]=o+s[1],this.applyScaleBounds();var c=r.screenToWorld(e.screen.mouse),u=a.subtract2(A,c);this.camera.offset[0]-=u[0],this.camera.offset[1]-=u[1],this.applyBounds(),this.onRangeChanged(this.camera,r),this.applyBounds(),this.camera.update()}},t.prototype.handleMouseOut=function(e){},t.prototype.handleClick=function(e){},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseOver=function(e){},t.prototype.getRange=function(e){var t=this.getProjection(e),n=this.getViewScreenBounds(e);if(t&&n){var r=t.screenToWorld([n.x,n.y]),A=t.screenToWorld([n.right,n.bottom]);return new i.Bounds({height:A[1]-r[1],width:A[0]-r[0],x:r[0],y:r[1]})}return new i.Bounds({x:0,y:0,width:1,height:1})},Object.defineProperty(t.prototype,"pan",{get:function(){return this.camera.offset},enumerable:!0,configurable:!0}),t.prototype.setBounds=function(e){this.bounds=e,this.applyBounds()},Object.defineProperty(t.prototype,"scale",{get:function(){return this.camera.scale},enumerable:!0,configurable:!0}),t.prototype.setRange=function(e,t){var n=this.getProjection(t),r=this.getViewScreenBounds(t),A=this.getView(t);if(n&&r&&A){var i=a.subtract3([r.width/e.width,r.height/e.height,1],this.camera.scale);this.camera.setScale(a.add3(this.camera.scale,this.scaleFilter(i,A,[A])));var o=a.subtract3([-e.x,-e.y,0],this.camera.offset);this.camera.setOffset(a.add3(this.camera.offset,this.scaleFilter(o,A,[A]))),this.applyBounds(),this.onRangeChanged(this.camera,A),this.applyBounds()}},t}(o.EventManager);t.BasicCameraController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(259))},function(e,t){window.WebGL2RenderingContext=window.WebGL2RenderingContext||function(){}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(261),r(n(260)),r(n(248)),r(n(2)),r(n(15)),r(n(141)),r(n(0)),r(n(1)),r(n(140)),r(n(24)),r(n(8))}])});
//# sourceMappingURL=index.js.map